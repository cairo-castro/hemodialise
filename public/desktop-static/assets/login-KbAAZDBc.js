import{_ as h,b as l,o as n,d as o,f as a,t as u,m as f,w as i,p as c,q as v,g as x,e as y,r as w,s as k,l as E}from"./_plugin-vue_export-helper-KPjDqJKQ.js";const S={name:"LoginApp",setup(){const d=w(!1),e=w(""),m=k({email:"",password:"",remember:!1});return{loading:d,error:e,loginForm:m,login:async()=>{var g;d.value=!0,e.value="";try{const r=(g=document.querySelector('meta[name="csrf-token"]'))==null?void 0:g.getAttribute("content");if(console.log("CSRF Token:",r),!r)throw new Error("CSRF token not found");const s=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":r,Accept:"application/json"},body:JSON.stringify({email:m.email,password:m.password,remember:m.remember})});console.log("Response status:",s.status),console.log("Response headers:",Object.fromEntries(s.headers.entries()));const b=await s.json();console.log("Response data:",b),s.ok?window.location.href=b.redirect||"/dashboard":e.value=b.message||"Credenciais inválidas"}catch(r){console.error("Login error:",r),e.value="Erro ao conectar com o servidor"}finally{d.value=!1}}}}},j={class:"mobile-detect"},F={class:"min-h-screen flex items-center justify-center p-4"},C={class:"w-full max-w-md bg-white rounded-lg shadow-lg p-6"},L={key:0,class:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg text-sm"},_={class:"flex items-center"},V=["disabled"],A={key:0},T={key:1},M={class:"desktop-detect"},O={class:"min-h-screen flex"},q={class:"w-full lg:w-1/2 flex items-center justify-center p-8"},z={class:"w-full max-w-md"},B={key:0,class:"mb-6 p-4 bg-red-100 text-red-700 rounded-lg"},D={class:"flex items-center justify-between"},N={class:"flex items-center"},R=["disabled"],U={key:0},G={key:1};function H(d,e,m,t,g,r){return n(),l("div",null,[o("div",j,[o("div",F,[o("div",C,[e[9]||(e[9]=o("div",{class:"text-center mb-6"},[o("h1",{class:"text-2xl font-bold text-gray-800"},"Sistema Hemodiálise"),o("p",{class:"text-gray-600"},"Acesso Mobile")],-1)),t.error?(n(),l("div",L,u(t.error),1)):a("",!0),o("form",{onSubmit:e[3]||(e[3]=f(s=>t.login(),["prevent"])),class:"space-y-4"},[o("div",null,[i(o("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=s=>t.loginForm.email=s),placeholder:"Email",class:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500",required:""},null,512),[[c,t.loginForm.email]])]),o("div",null,[i(o("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=s=>t.loginForm.password=s),placeholder:"Senha",class:"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500",required:""},null,512),[[c,t.loginForm.password]])]),o("div",_,[i(o("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=s=>t.loginForm.remember=s),id:"remember",class:"mr-2"},null,512),[[v,t.loginForm.remember]]),e[8]||(e[8]=o("label",{for:"remember",class:"text-sm text-gray-600"},"Lembrar-me",-1))]),o("button",{type:"submit",disabled:t.loading,class:"w-full bg-blue-600 text-white p-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50"},[t.loading?a("",!0):(n(),l("span",A,"Entrar")),t.loading?(n(),l("span",T,"Entrando...")):a("",!0)],8,V)],32),e[10]||(e[10]=o("div",{class:"mt-6 text-center"},[o("p",{class:"text-sm text-gray-500"},"Credenciais de teste:"),o("div",{class:"text-xs text-gray-400 space-y-1"},[o("p",null,[o("strong",null,"Técnico:"),x(" tecnico.joao@hemodialise.com / tecnico123")]),o("p",null,[o("strong",null,"Supervisor:"),x(" supervisor@hemodialise.com / super123")])])],-1))])])]),o("div",M,[o("div",O,[e[16]||(e[16]=y('<div class="hidden lg:flex lg:w-1/2 bg-blue-600 items-center justify-center" data-v-85bb278f><div class="text-center text-white" data-v-85bb278f><h1 class="text-4xl font-bold mb-4" data-v-85bb278f>Sistema Hemodiálise</h1><p class="text-xl text-blue-100" data-v-85bb278f>Gestão Completa e Segura</p><div class="mt-8" data-v-85bb278f><div class="w-32 h-32 bg-white/20 rounded-full mx-auto flex items-center justify-center" data-v-85bb278f><svg class="w-16 h-16" fill="currentColor" viewBox="0 0 20 20" data-v-85bb278f><path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" data-v-85bb278f></path></svg></div></div></div></div>',1)),o("div",q,[o("div",z,[e[14]||(e[14]=o("div",{class:"text-center mb-8"},[o("h2",{class:"text-3xl font-bold text-gray-800"},"Bem-vindo"),o("p",{class:"text-gray-600 mt-2"},"Faça login para acessar o sistema")],-1)),t.error?(n(),l("div",B,u(t.error),1)):a("",!0),o("form",{onSubmit:e[7]||(e[7]=f(s=>t.login(),["prevent"])),class:"space-y-6"},[o("div",null,[e[11]||(e[11]=o("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"},"Email",-1)),i(o("input",{type:"email","onUpdate:modelValue":e[4]||(e[4]=s=>t.loginForm.email=s),id:"email",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[c,t.loginForm.email]])]),o("div",null,[e[12]||(e[12]=o("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"},"Senha",-1)),i(o("input",{type:"password","onUpdate:modelValue":e[5]||(e[5]=s=>t.loginForm.password=s),id:"password",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[c,t.loginForm.password]])]),o("div",D,[o("div",N,[i(o("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=s=>t.loginForm.remember=s),id:"remember_desktop",class:"mr-2"},null,512),[[v,t.loginForm.remember]]),e[13]||(e[13]=o("label",{for:"remember_desktop",class:"text-sm text-gray-600"},"Lembrar-me",-1))])]),o("button",{type:"submit",disabled:t.loading,class:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition duration-200 disabled:opacity-50"},[t.loading?a("",!0):(n(),l("span",U,"Entrar")),t.loading?(n(),l("span",G,"Entrando...")):a("",!0)],8,R)],32),e[15]||(e[15]=y('<div class="mt-8 text-center border-t pt-6" data-v-85bb278f><p class="text-sm text-gray-500 mb-2" data-v-85bb278f>Credenciais de teste:</p><div class="text-xs text-gray-400 space-y-1" data-v-85bb278f><p data-v-85bb278f><strong data-v-85bb278f>Admin:</strong> admin@hemodialise.com / admin123</p><p data-v-85bb278f><strong data-v-85bb278f>Gestor:</strong> gestor@hemodialise.com / gestor123</p><p data-v-85bb278f><strong data-v-85bb278f>Coordenador:</strong> coordenador@hemodialise.com / coord123</p><p data-v-85bb278f><strong data-v-85bb278f>Supervisor:</strong> supervisor@hemodialise.com / super123</p></div></div>',1))])])])])])}const I=h(S,[["render",H],["__scopeId","data-v-85bb278f"]]);console.log("Login.js carregado - iniciando Vue.js para login...");function p(){if(console.log("Procurando elemento #login-app..."),document.getElementById("login-app")){console.log("Elemento #login-app encontrado, criando app Vue.js...");try{E(I).mount("#login-app"),console.log("Vue.js Login app montado com sucesso!")}catch(e){console.error("Erro ao montar Vue.js Login app:",e)}}else console.log("Elemento #login-app não encontrado")}console.log("Configurando inicialização do login...");document.addEventListener("DOMContentLoaded",()=>{console.log("DOM Content Loaded - tentando inicializar login..."),p()});window.addEventListener("load",()=>{console.log("Window Load - tentando inicializar login como fallback..."),setTimeout(p,100)});document.readyState==="loading"?console.log("DOM ainda carregando, aguardando..."):(console.log("DOM já carregado, inicializando login imediatamente..."),setTimeout(p,100));console.log("Login.js configurado completamente");

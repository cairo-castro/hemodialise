System.register(["./vendor-legacy-C5HeBJnl.js","./ionic-legacy-DmxRaRhy.js","./_plugin-vue_export-helper-legacy-CdN-Y2Rg.js","./main-legacy-CVhMZu9L.js"],function(a,e){"use strict";var t,o,n,i,r,l,c,d,s,u,m,g,v,p,f,b,h,w,y,x,k,_,C,z,S,j,E,L,M,D,A,I,P,H,U,q,N,O,R,T,B,F,V,G;return{setters:[a=>{t=a.d,o=a.r,n=a.c,i=a.o,r=a.z,l=a.n,c=a.v,d=a.x,s=a.A,u=a.t,m=a.B,g=a.l,v=a.D,p=a.q,f=a.E},a=>{b=a.e,h=a.t,w=a.n,y=a.o,x=a.p,k=a.k,_=a.g,C=a.q,z=a.r,S=a.s,j=a.u,E=a.v,L=a.w,M=a.i,D=a.m,A=a.x,I=a.y},a=>{P=a.s,H=a.a,U=a.b,q=a.c,N=a.m,O=a.d,R=a.p,T=a.e,B=a.f,F=a.w,V=a._},a=>{G=a.C}],execute:function(){var e=document.createElement("style");e.textContent=".welcome-section[data-v-0dd89b04]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-primary-shade) 100%);color:#fff;padding:2rem 1.5rem;text-align:center;margin-bottom:1rem}.welcome-content[data-v-0dd89b04]{max-width:300px;margin:0 auto}.welcome-icon[data-v-0dd89b04]{font-size:3rem;margin-bottom:1rem;opacity:.9}.welcome-section h1[data-v-0dd89b04]{font-size:1.8rem;font-weight:600;margin:0 0 .5rem}.welcome-section p[data-v-0dd89b04]{font-size:1rem;opacity:.9;margin:0}.actions-container[data-v-0dd89b04]{padding:0 1rem 1.5rem}.actions-container h2[data-v-0dd89b04]{font-size:1.3rem;font-weight:600;margin:0 0 1rem;color:var(--ion-color-dark)}.actions-grid[data-v-0dd89b04]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.action-card[data-v-0dd89b04]{margin:0;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,.1);transition:transform .2s ease,box-shadow .2s ease;overflow:hidden}.action-card[data-v-0dd89b04]:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,.15)}.action-card ion-card-content[data-v-0dd89b04]{text-align:center;padding:1.5rem 1rem}.action-icon[data-v-0dd89b04]{font-size:2.5rem;margin-bottom:.8rem}.action-card h3[data-v-0dd89b04]{font-size:1rem;font-weight:600;margin:0 0 .3rem;color:var(--ion-color-dark)}.action-card p[data-v-0dd89b04]{font-size:.85rem;color:var(--ion-color-medium);margin:0}.action-card.checklist .action-icon[data-v-0dd89b04]{color:var(--ion-color-success)}.action-card.patients .action-icon[data-v-0dd89b04]{color:var(--ion-color-primary)}.action-card.reports .action-icon[data-v-0dd89b04]{color:var(--ion-color-warning)}.action-card.settings .action-icon[data-v-0dd89b04]{color:var(--ion-color-medium)}.stats-container[data-v-0dd89b04]{padding:0 1rem 1.5rem}.stats-container h2[data-v-0dd89b04]{font-size:1.3rem;font-weight:600;margin:0 0 1rem;color:var(--ion-color-dark)}.stats-grid[data-v-0dd89b04]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;background:#fff;border-radius:16px;padding:1.5rem 1rem;box-shadow:0 2px 8px rgba(0,0,0,.08)}.stat-item[data-v-0dd89b04]{text-align:center}.stat-number[data-v-0dd89b04]{font-size:1.8rem;font-weight:700;color:var(--ion-color-primary);margin-bottom:.3rem}.stat-label[data-v-0dd89b04]{font-size:.8rem;color:var(--ion-color-medium);line-height:1.2}.status-indicator[data-v-0dd89b04]{padding:1rem;text-align:center}@media (max-width: 480px){.actions-grid[data-v-0dd89b04]{gap:.8rem}.action-card ion-card-content[data-v-0dd89b04]{padding:1.2rem .8rem}.action-icon[data-v-0dd89b04]{font-size:2rem}.stats-grid[data-v-0dd89b04]{gap:.8rem;padding:1.2rem .8rem}.stat-number[data-v-0dd89b04]{font-size:1.5rem}}.loading-container[data-v-0dd89b04]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:60vh;color:var(--ion-color-medium)}.loading-container ion-spinner[data-v-0dd89b04]{margin-bottom:1rem}.interface-switch-btn[data-v-0dd89b04]{margin-right:.5rem}.interface-switch-btn ion-icon[data-v-0dd89b04]{opacity:.9}\n",document.head.appendChild(e);const Y={key:0,class:"welcome-section"},$={class:"welcome-content"},J={class:"actions-container"},K={class:"actions-grid"},Q={key:1,class:"stats-container"},W={class:"stats-grid"},X={class:"stat-item"},Z={class:"stat-number"},aa={class:"stat-item"},ea={class:"stat-number"},ta={class:"stat-item"},oa={class:"stat-number"},na={class:"status-indicator"};a("default",V(t({__name:"DashboardPage",setup(a){const e=s(),t=G.getInstance(),V=t.getCurrentUserUseCase(),ia=t.getLogoutUseCase(),ra=o(null),la=o(navigator.onLine),ca=o(!1),da=o(0),sa=o(3),ua=o(!1),ma=o(!1),ga=n(()=>ra.value&&{tecnico:"TÃ©cnico",admin:"Admin",gestor:"Gestor",coordenador:"Coordenador",supervisor:"Supervisor"}[ra.value.role]||"UsuÃ¡rio"),va=async()=>{try{ra.value=await V.execute(),console.log("User loaded:",ra.value)}catch(a){console.error("Error loading user:",a);const t=await h.create({message:"Erro ao carregar dados do usuÃ¡rio",duration:3e3,color:"danger",position:"top"});await t.present(),setTimeout(()=>{e.replace("/login")},2e3)}},pa=async()=>{try{await new Promise(a=>setTimeout(a,1e3)),da.value=Math.floor(10*Math.random())+1,sa.value=3,ca.value=!0,console.log("Stats loaded")}catch(a){console.error("Error loading stats:",a),ca.value=!0}},fa=async a=>{try{await Promise.all([va(),pa()]);const a=await h.create({message:"Dados atualizados",duration:1500,color:"success",position:"top"});await a.present()}catch(e){console.error("Error refreshing:",e)}finally{a.target.complete()}},ba=async()=>{const a=await A.create({header:"Confirmar SaÃ­da",message:"Deseja realmente sair do aplicativo?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Sair",role:"confirm",handler:async()=>{try{await ia.execute();const a=await h.create({message:"Logout realizado com sucesso",duration:2e3,color:"success",position:"top"});await a.present(),e.replace("/login")}catch(a){console.error("Logout error:",a),e.replace("/login")}}}]});await a.present()},ha=()=>{console.log("Navigating to checklist..."),e.push("/checklist")},wa=()=>{console.log("Navigating to patients..."),e.push("/patients")},ya=async()=>{const a=await h.create({message:"Funcionalidade em breve",duration:2e3,color:"warning",position:"middle"});await a.present()},xa=async()=>{const a=await I.create({header:"Mudar Interface",subHeader:"Escolha a interface que deseja usar",buttons:[{text:"ðŸ“± Mobile (Atual)",icon:"phone-portrait-outline",data:{interface:"mobile"},handler:()=>{console.log("Mobile interface selected (already current)")}},{text:"ðŸ–¥ï¸ Desktop",icon:"desktop-outline",data:{interface:"desktop"},handler:()=>{console.log("Switching to desktop interface..."),window.location.href="/desktop"}},{text:"âš™ï¸ Admin (Filament)",icon:"settings-outline",data:{interface:"admin"},handler:()=>{console.log("Switching to admin interface..."),window.location.href="/admin"}},{text:"Cancelar",icon:"close-outline",role:"cancel",data:{action:"cancel"}}]});await a.present()},ka=()=>{ma.value?document.body.classList.add("dark"):document.body.classList.remove("dark")},_a=async()=>{ma.value=!ma.value,localStorage.setItem("dark-mode",ma.value.toString()),ka();const a=await h.create({message:`Modo ${ma.value?"escuro":"claro"} ativado`,duration:1500,color:"medium",position:"bottom"});await a.present(),console.log("Dark mode toggled:",ma.value)},Ca=()=>{la.value=navigator.onLine};return i(async()=>{console.log("Dashboard mounted, loading data..."),(()=>{const a=localStorage.getItem("dark-mode");ma.value=null!==a?"true"===a:window.matchMedia("(prefers-color-scheme: dark)").matches,ka()})(),ua.value=!0;try{await va(),pa(),window.addEventListener("online",Ca),window.addEventListener("offline",Ca)}catch(a){console.error("Dashboard initialization error:",a)}finally{ua.value=!1}}),(a,e)=>(l(),r(d(b),null,{default:c(()=>[u(d(C),null,{default:c(()=>[u(d(w),{color:"primary"},{default:c(()=>[u(d(y),null,{default:c(()=>[...e[0]||(e[0]=[m("HemodiÃ¡lise Mobile",-1)])]),_:1}),u(d(x),{slot:"end"},{default:c(()=>[u(d(k),{onClick:_a,fill:"clear",class:"theme-toggle-btn"},{default:c(()=>[u(d(_),{icon:ma.value?d(P):d(H),slot:"icon-only"},null,8,["icon"])]),_:1}),u(d(k),{onClick:xa,fill:"clear",class:"interface-switch-btn"},{default:c(()=>[u(d(_),{icon:d(U),slot:"icon-only"},null,8,["icon"])]),_:1}),u(d(k),{onClick:ba,fill:"clear"},{default:c(()=>[u(d(_),{icon:d(q),slot:"icon-only"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),u(d(D),{fullscreen:!0},{default:c(()=>[u(d(z),{slot:"fixed",onIonRefresh:fa},{default:c(()=>[u(d(S))]),_:1}),ra.value?(l(),g("div",Y,[p("div",$,[u(d(_),{icon:d(N),class:"welcome-icon"},null,8,["icon"]),p("h1",null,"OlÃ¡, "+f(ra.value.name.split(" ")[0])+"!",1),p("p",null,f(ra.value.unit?.name||"Sistema de HemodiÃ¡lise"),1)])])):v("",!0),p("div",J,[e[9]||(e[9]=p("h2",null,"AÃ§Ãµes Principais",-1)),p("div",K,[u(d(j),{button:"",class:"action-card checklist",onClick:ha},{default:c(()=>[u(d(E),null,{default:c(()=>[u(d(_),{icon:d(O),class:"action-icon"},null,8,["icon"]),e[1]||(e[1]=p("h3",null,"Novo Checklist",-1)),e[2]||(e[2]=p("p",null,"VerificaÃ§Ã£o de seguranÃ§a",-1))]),_:1})]),_:1}),u(d(j),{button:"",class:"action-card patients",onClick:wa},{default:c(()=>[u(d(E),null,{default:c(()=>[u(d(_),{icon:d(R),class:"action-icon"},null,8,["icon"]),e[3]||(e[3]=p("h3",null,"Pacientes",-1)),e[4]||(e[4]=p("p",null,"Buscar e gerenciar",-1))]),_:1})]),_:1}),u(d(j),{button:"",class:"action-card reports",onClick:ya},{default:c(()=>[u(d(E),null,{default:c(()=>[u(d(_),{icon:d(T),class:"action-icon"},null,8,["icon"]),e[5]||(e[5]=p("h3",null,"RelatÃ³rios",-1)),e[6]||(e[6]=p("p",null,"Visualizar dados",-1))]),_:1})]),_:1}),u(d(j),{button:"",class:"action-card settings",onClick:ya},{default:c(()=>[u(d(E),null,{default:c(()=>[u(d(_),{icon:d(B),class:"action-icon"},null,8,["icon"]),e[7]||(e[7]=p("h3",null,"ConfiguraÃ§Ãµes",-1)),e[8]||(e[8]=p("p",null,"Ajustes do app",-1))]),_:1})]),_:1})])]),ca.value?(l(),g("div",Q,[e[13]||(e[13]=p("h2",null,"Resumo de Hoje",-1)),p("div",W,[p("div",X,[p("div",Z,f(da.value),1),e[10]||(e[10]=p("div",{class:"stat-label"},"Checklists Hoje",-1))]),p("div",aa,[p("div",ea,f(sa.value),1),e[11]||(e[11]=p("div",{class:"stat-label"},"MÃ¡quinas Ativas",-1))]),p("div",ta,[p("div",oa,f(ga.value),1),e[12]||(e[12]=p("div",{class:"stat-label"},"Perfil",-1))])])])):v("",!0),p("div",na,[u(d(L),{color:la.value?"success":"danger"},{default:c(()=>[u(d(_),{icon:(la.value,d(F)),slot:"start"},null,8,["icon"]),u(d(M),null,{default:c(()=>[m(f(la.value?"Online":"Offline"),1)]),_:1})]),_:1},8,["color"])])]),_:1})]),_:1}))}}),[["__scopeId","data-v-0dd89b04"]]))}}});

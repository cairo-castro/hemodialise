import{r as v,y as I,w as ie,A as ne,f as s,B as U,C as ue,e as o,l as g,k as y,i as e,q as i,p as n,F as A,E as R,m as T,v as Y,T as ge,I as ce,N as q,a as pe,z as ve,H as L,R as le,j as ye}from"./vendor-CiUp6LWl.js";import{C as xe}from"./ChecklistWizard-CcpNj_bG.js";import{C as be}from"./ConfirmDeleteModal-pMHDYv6o.js";import{_ as de}from"./desktop-DwRpHKVt.js";import"./XMarkIcon-3s64TdeG.js";import"./CheckIcon-Cz9GaYQ_.js";const ke={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800 flex-shrink-0"},me={class:"text-xl font-bold text-gray-900 dark:text-white"},fe={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},_e={class:"p-6 overflow-y-auto flex-1"},he={key:0,class:"flex items-center justify-center py-12"},we={key:1,class:"space-y-6"},Ce={class:"flex items-center gap-3"},$e={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Me={class:"space-y-4"},Se={class:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 space-y-2"},De={class:"text-sm font-medium text-gray-900 dark:text-white"},Ne={class:"text-xs text-gray-500 dark:text-gray-400"},Le={class:"text-xs text-gray-500 dark:text-gray-400"},Ae={class:"space-y-4"},Ve={class:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 space-y-2"},je={class:"text-sm font-medium text-gray-900 dark:text-white"},Ee={class:"text-xs text-gray-500 dark:text-gray-400"},ze={class:"text-xs text-gray-500 dark:text-gray-400"},Be={class:"space-y-4"},Te={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Ie={class:"text-sm text-gray-700 dark:text-gray-300"},qe={key:1,class:"flex gap-1"},Fe=["onClick"],Pe=["onClick"],He=["onClick"],Re={key:0,class:"space-y-4"},Ue={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Oe={class:"text-sm text-gray-700 dark:text-gray-300"},We={key:1,class:"flex gap-1"},Ge=["onClick"],Je=["onClick"],Ke=["onClick"],Qe={key:1,class:"space-y-4"},Xe={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Ye={class:"text-sm text-gray-700 dark:text-gray-300"},Ze={key:1,class:"flex gap-1"},et=["onClick"],tt=["onClick"],rt=["onClick"],at={key:2,class:"space-y-4"},st={key:0,class:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4"},ot={key:1,class:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4"},lt={class:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap"},dt={class:"space-y-4"},it={class:"space-y-3"},nt={key:0,class:"flex items-start gap-3"},ut={class:"flex-1"},gt={class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},ct={key:1,class:"flex items-start gap-3"},pt={class:"flex-1"},vt={class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},yt={key:2,class:"flex items-start gap-3"},xt={class:"flex-1"},bt={class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},kt={key:3,class:"flex items-start gap-3"},mt={class:"flex-1"},ft={class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},_t={key:3,class:"space-y-4"},ht={class:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4"},wt={class:"text-sm font-medium text-gray-900 dark:text-white"},Ct={class:"text-xs text-gray-500 dark:text-gray-400 mt-1"},$t={key:2,class:"text-center py-12"},Mt={class:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-800 flex-shrink-0"},St={class:"flex items-center gap-3"},Dt=["disabled"],Nt={key:0},Lt={key:1},At={__name:"ChecklistDetailModal",props:{isOpen:{type:Boolean,required:!0},checklistId:{type:Number,default:null}},emits:["close","deleted"],setup(O,{emit:V}){const w=O,C=V,r=v(null),$=v(!1),c=v(!1),x=v(!1),b=v(!1),k=v(null),f=I(()=>r.value?[{label:"Máquina desinfetada",value:r.value.machine_disinfected},{label:"Linhas capilares identificadas",value:r.value.capillary_lines_identified},{label:"Teste de reagente realizado",value:r.value.reagent_test_performed},{label:"Sensores de pressão verificados",value:r.value.pressure_sensors_verified},{label:"Detector de bolhas de ar verificado",value:r.value.air_bubble_detector_verified},{label:"Identificação do paciente confirmada",value:r.value.patient_identification_confirmed},{label:"Acesso vascular avaliado",value:r.value.vascular_access_evaluated},{label:"Braço da FAV lavado",value:r.value.av_fistula_arm_washed},{label:"Paciente pesado",value:r.value.patient_weighed},{label:"Sinais vitais verificados",value:r.value.vital_signs_checked},{label:"Medicamentos revisados",value:r.value.medications_reviewed},{label:"Membrana do dialisador verificada",value:r.value.dialyzer_membrane_checked},{label:"Funcionamento do equipamento verificado",value:r.value.equipment_functioning_verified}]:[]),m=I(()=>r.value?[{label:"Parâmetros de diálise verificados",value:r.value.dialysis_parameters_verified},{label:"Heparina conferida duplamente",value:r.value.heparin_double_checked},{label:"Antissepsia realizada",value:r.value.antisepsis_performed},{label:"Acesso vascular monitorado",value:r.value.vascular_access_monitored},{label:"Sinais vitais monitorados",value:r.value.vital_signs_monitored_during},{label:"Conforto do paciente avaliado",value:r.value.patient_comfort_assessed},{label:"Balanço hídrico monitorado",value:r.value.fluid_balance_monitored},{label:"Alarmes respondidos",value:r.value.alarms_responded}]:[]),j=I(()=>r.value?[{label:"Sessão concluída com segurança",value:r.value.session_completed_safely},{label:"Acesso vascular protegido",value:r.value.vascular_access_secured},{label:"Sinais vitais do paciente estáveis",value:r.value.patient_vital_signs_stable},{label:"Complicações avaliadas",value:r.value.complications_assessed},{label:"Equipamento limpo",value:r.value.equipment_cleaned}]:[]);ie(()=>w.isOpen,async t=>{t&&w.checklistId&&await E()});async function E(){$.value=!0;try{const t=await q.get(`/api/checklists/${w.checklistId}`);r.value=t.data}catch(t){console.error("Error loading checklist details:",t)}finally{$.value=!1}}function D(){C("close"),r.value=null,c.value=!1}async function F(){var t,a;if(r.value){x.value=!0;try{const u={observations:r.value.observations,machine_disinfected:r.value.machine_disinfected,capillary_lines_identified:r.value.capillary_lines_identified,reagent_test_performed:r.value.reagent_test_performed,pressure_sensors_verified:r.value.pressure_sensors_verified,air_bubble_detector_verified:r.value.air_bubble_detector_verified,patient_identification_confirmed:r.value.patient_identification_confirmed,vascular_access_evaluated:r.value.vascular_access_evaluated,av_fistula_arm_washed:r.value.av_fistula_arm_washed,patient_weighed:r.value.patient_weighed,vital_signs_checked:r.value.vital_signs_checked,medications_reviewed:r.value.medications_reviewed,dialyzer_membrane_checked:r.value.dialyzer_membrane_checked,equipment_functioning_verified:r.value.equipment_functioning_verified,dialysis_parameters_verified:r.value.dialysis_parameters_verified,heparin_double_checked:r.value.heparin_double_checked,antisepsis_performed:r.value.antisepsis_performed,vascular_access_monitored:r.value.vascular_access_monitored,vital_signs_monitored_during:r.value.vital_signs_monitored_during,patient_comfort_assessed:r.value.patient_comfort_assessed,fluid_balance_monitored:r.value.fluid_balance_monitored,alarms_responded:r.value.alarms_responded,session_completed_safely:r.value.session_completed_safely,vascular_access_secured:r.value.vascular_access_secured,patient_vital_signs_stable:r.value.patient_vital_signs_stable,complications_assessed:r.value.complications_assessed,equipment_cleaned:r.value.equipment_cleaned},p=await q.put(`/api/checklists/${r.value.id}`,u);p.data.success&&(r.value=p.data.checklist,c.value=!1,M("Checklist atualizado com sucesso!"))}catch(u){console.error("Error saving checklist:",u),P(((a=(t=u.response)==null?void 0:t.data)==null?void 0:a.message)||"Erro ao salvar checklist")}finally{x.value=!1}}}async function N(){var t,a,u,p;if(r.value)try{(await q.delete(`/api/checklists/${r.value.id}`)).data.success&&((t=k.value)==null||t.resetDeletingState(),b.value=!1,M("Checklist excluído com sucesso!"),r.value=null,C("deleted"),C("close"))}catch(S){console.error("Error deleting checklist:",S),(a=k.value)==null||a.resetDeletingState();const B=((p=(u=S.response)==null?void 0:u.data)==null?void 0:p.message)||"Erro ao excluir checklist";P(B)}}function M(t){const a=document.createElement("div");a.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-green-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",a.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
    </svg>
    <span class="font-medium">${t}</span>
  `,document.body.appendChild(a),setTimeout(()=>{a.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>a.remove(),300)},3e3)}function P(t){const a=document.createElement("div");a.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-red-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",a.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
    </svg>
    <span class="font-medium">${t}</span>
  `,document.body.appendChild(a),setTimeout(()=>{a.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>a.remove(),300)},4e3)}function W(){c.value=!c.value}function G(){c.value=!1,E()}function J(t){return t?new Date(t).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A"}function _(t){return t?new Date(t).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function H(t){return{pre_dialysis:"Pré-diálise",during_session:"Durante a Sessão",dialysis:"Em Sessão",post_dialysis:"Pós-diálise",completed:"Concluído",interrupted:"Interrompido"}[t]||t}function K(t){return{pre_dialysis:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",during_session:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",dialysis:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",post_dialysis:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",completed:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",interrupted:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}[t]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}function Q(t){return{matutino:"Matutino",vespertino:"Vespertino",noturno:"Noturno"}[t]||t}function X(t){return{matutino:"bg-sky-100 text-sky-800 dark:bg-sky-900/20 dark:text-sky-400",vespertino:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400",noturno:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/20 dark:text-indigo-400"}[t]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}function z(t){return t===!0?"Conforme":t===!1?"Não Conforme":"N/A"}function l(t){return t===!0?"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 rounded-full":t===!1?"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400 rounded-full":"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400 rounded-full"}return(t,a)=>{var u,p,S;return s(),ne(ce,{to:"body"},[U(ge,{name:"modal"},{default:ue(()=>{var B,Z,ee,te,re,ae,se,oe;return[O.isOpen?(s(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:y(D,["self"])},[e("div",{class:"bg-white dark:bg-gray-950 rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden border border-gray-200 dark:border-gray-800 flex flex-col",onClick:a[2]||(a[2]=y(()=>{},["stop"]))},[e("div",ke,[e("div",null,[e("h3",me," Detalhes do Checklist #"+i((B=r.value)==null?void 0:B.id),1),e("p",fe,i(J((Z=r.value)==null?void 0:Z.created_at)),1)]),e("button",{onClick:D,class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800"},[...a[4]||(a[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",_e,[$.value?(s(),o("div",he,[...a[5]||(a[5]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)])])):r.value?(s(),o("div",we,[e("div",Ce,[e("span",{class:n(["px-3 py-1.5 text-sm font-medium rounded-lg",K(r.value.current_phase)])},i(H(r.value.current_phase)),3),e("span",{class:n(["px-3 py-1.5 text-sm font-medium rounded-lg",X(r.value.shift)])},i(Q(r.value.shift)),3)]),e("div",$e,[e("div",Me,[a[6]||(a[6]=e("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wide"}," Paciente ",-1)),e("div",Se,[e("p",De,i(((ee=r.value.patient)==null?void 0:ee.full_name)||"N/A"),1),e("p",Ne," Idade: "+i(((te=r.value.patient)==null?void 0:te.age)||"N/A")+" anos ",1),e("p",Le," Tipo Sanguíneo: "+i(((re=r.value.patient)==null?void 0:re.blood_type)||"N/A"),1)])]),e("div",Ae,[a[7]||(a[7]=e("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wide"}," Máquina ",-1)),e("div",Ve,[e("p",je,i(((ae=r.value.machine)==null?void 0:ae.name)||"N/A"),1),e("p",Ee," ID: "+i(((se=r.value.machine)==null?void 0:se.identifier)||"N/A"),1),e("p",ze," Status: "+i(((oe=r.value.machine)==null?void 0:oe.status)||"N/A"),1)])])]),e("div",Be,[a[8]||(a[8]=e("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wide"}," Pré-diálise ",-1)),e("div",Te,[(s(!0),o(A,null,R(f.value,d=>(s(),o("div",{key:d.label,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},[e("span",Ie,i(d.label),1),c.value?(s(),o("div",qe,[e("button",{type:"button",onClick:h=>d.value=!0,class:n(["px-2 py-1 text-xs rounded border",d.value===!0?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-600":"border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-400"])}," C ",10,Fe),e("button",{type:"button",onClick:h=>d.value=!1,class:n(["px-2 py-1 text-xs rounded border",d.value===!1?"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 border-red-600":"border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-400"])}," NC ",10,Pe),e("button",{type:"button",onClick:h=>d.value=null,class:n(["px-2 py-1 text-xs rounded border",d.value===null?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-600":"border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-400"])}," NA ",10,He)])):(s(),o("span",{key:0,class:n(l(d.value))},i(z(d.value)),3))]))),128))])]),r.value.current_phase!=="pre_dialysis"?(s(),o("div",Re,[a[9]||(a[9]=e("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wide"}," Durante a Sessão ",-1)),e("div",Ue,[(s(!0),o(A,null,R(m.value,d=>(s(),o("div",{key:d.label,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},[e("span",Oe,i(d.label),1),c.value?(s(),o("div",We,[e("button",{type:"button",onClick:h=>d.value=!0,class:n(["px-2 py-1 text-xs rounded border",d.value===!0?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-600":"border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-400"])}," C ",10,Ge),e("button",{type:"button",onClick:h=>d.value=!1,class:n(["px-2 py-1 text-xs rounded border",d.value===!1?"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 border-red-600":"border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-400"])}," NC ",10,Je),e("button",{type:"button",onClick:h=>d.value=null,class:n(["px-2 py-1 text-xs rounded border",d.value===null?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-600":"border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-400"])}," NA ",10,Ke)])):(s(),o("span",{key:0,class:n(l(d.value))},i(z(d.value)),3))]))),128))])])):g("",!0),r.value.current_phase==="post_dialysis"||r.value.current_phase==="completed"?(s(),o("div",Qe,[a[10]||(a[10]=e("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wide"}," Pós-diálise ",-1)),e("div",Xe,[(s(!0),o(A,null,R(j.value,d=>(s(),o("div",{key:d.label,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg"},[e("span",Ye,i(d.label),1),c.value?(s(),o("div",Ze,[e("button",{type:"button",onClick:h=>d.value=!0,class:n(["px-2 py-1 text-xs rounded border",d.value===!0?"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 border-green-600":"border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-400"])}," C ",10,et),e("button",{type:"button",onClick:h=>d.value=!1,class:n(["px-2 py-1 text-xs rounded border",d.value===!1?"bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 border-red-600":"border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-400"])}," NC ",10,tt),e("button",{type:"button",onClick:h=>d.value=null,class:n(["px-2 py-1 text-xs rounded border",d.value===null?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border-gray-600":"border-gray-300 dark:border-gray-600 text-gray-600 dark:text-gray-400"])}," NA ",10,rt)])):(s(),o("span",{key:0,class:n(l(d.value))},i(z(d.value)),3))]))),128))])])):g("",!0),r.value.observations||c.value?(s(),o("div",at,[a[11]||(a[11]=e("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wide"}," Observações ",-1)),c.value?(s(),o("div",st,[T(e("textarea",{"onUpdate:modelValue":a[0]||(a[0]=d=>r.value.observations=d),rows:"4",class:"w-full text-sm text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg p-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Digite as observações aqui..."},null,512),[[Y,r.value.observations]])])):(s(),o("div",ot,[e("p",lt,i(r.value.observations),1)]))])):g("",!0),e("div",dt,[a[20]||(a[20]=e("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wide"}," Linha do Tempo ",-1)),e("div",it,[r.value.pre_dialysis_started_at?(s(),o("div",nt,[a[13]||(a[13]=e("div",{class:"w-2 h-2 rounded-full mt-1.5 bg-blue-500"},null,-1)),e("div",ut,[a[12]||(a[12]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Pré-diálise iniciada",-1)),e("p",gt,i(_(r.value.pre_dialysis_started_at)),1)])])):g("",!0),r.value.dialysis_started_at?(s(),o("div",ct,[a[15]||(a[15]=e("div",{class:"w-2 h-2 rounded-full mt-1.5 bg-green-500"},null,-1)),e("div",pt,[a[14]||(a[14]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Sessão de diálise iniciada",-1)),e("p",vt,i(_(r.value.dialysis_started_at)),1)])])):g("",!0),r.value.dialysis_completed_at?(s(),o("div",yt,[a[17]||(a[17]=e("div",{class:"w-2 h-2 rounded-full mt-1.5 bg-purple-500"},null,-1)),e("div",xt,[a[16]||(a[16]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Sessão concluída",-1)),e("p",bt,i(_(r.value.dialysis_completed_at)),1)])])):g("",!0),r.value.interrupted_at?(s(),o("div",kt,[a[19]||(a[19]=e("div",{class:"w-2 h-2 rounded-full mt-1.5 bg-red-500"},null,-1)),e("div",mt,[a[18]||(a[18]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Sessão interrompida",-1)),e("p",ft,i(_(r.value.interrupted_at)),1)])])):g("",!0)])]),r.value.user?(s(),o("div",_t,[a[21]||(a[21]=e("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wide"}," Responsável ",-1)),e("div",ht,[e("p",wt,i(r.value.user.name),1),e("p",Ct,i(r.value.user.email),1)])])):g("",!0)])):(s(),o("div",$t,[...a[22]||(a[22]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"Erro ao carregar detalhes do checklist",-1)])]))]),e("div",Mt,[e("div",null,[r.value&&r.value.current_phase!=="completed"?(s(),o("button",{key:0,onClick:a[1]||(a[1]=d=>b.value=!0),class:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors"}," Excluir ")):g("",!0)]),e("div",St,[c.value?(s(),o(A,{key:0},[e("button",{onClick:G,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," Cancelar "),e("button",{onClick:F,disabled:x.value,class:"px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[x.value?(s(),o("span",Nt,"Salvando...")):(s(),o("span",Lt,"Salvar"))],8,Dt)],64)):(s(),o(A,{key:1},[r.value&&r.value.current_phase!=="completed"?(s(),o("button",{key:0,onClick:W,class:"px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors"}," Editar ")):g("",!0),e("button",{onClick:D,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"}," Fechar ")],64))])])])])):g("",!0)]}),_:1}),U(be,{"is-open":b.value,title:"Confirmar Exclusão do Checklist",message:"Tem certeza que deseja excluir este checklist de segurança? Esta ação não pode ser desfeita.","item-name":`Checklist #${(u=r.value)==null?void 0:u.id} - ${(S=(p=r.value)==null?void 0:p.patient)==null?void 0:S.full_name}`,onClose:a[3]||(a[3]=B=>b.value=!1),onConfirm:N,ref_key:"deleteModalRef",ref:k},null,8,["is-open","item-name"])])}}},Vt=de(At,[["__scopeId","data-v-369becb1"]]),jt={class:"checklists-view space-y-6"},Et={class:"flex items-center justify-between"},zt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Bt={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},Tt={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},It={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},qt={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1"},Ft={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},Pt={class:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1"},Ht={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},Rt={class:"text-2xl font-bold text-red-600 dark:text-red-400 mt-1"},Ut={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 overflow-hidden"},Ot={key:0,class:"flex items-center justify-center py-12"},Wt={key:1,class:"w-full"},Gt={class:"bg-gray-50 dark:bg-gray-800/50"},Jt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},Kt={class:"flex items-center gap-2"},Qt={class:"relative"},Xt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},Yt={class:"flex items-center gap-2"},Zt={class:"relative"},er={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},tr={class:"flex items-center gap-2"},rr={class:"relative"},ar={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},sr={class:"flex items-center gap-2"},or={class:"relative"},lr={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},dr={class:"divide-y divide-gray-200 dark:divide-gray-700"},ir={key:0},nr={colspan:"6",class:"px-6 py-12 text-center"},ur={class:"text-sm text-gray-500 dark:text-gray-400 mb-3"},gr={class:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white"},cr={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},pr={class:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400"},vr={class:"px-6 py-4"},yr={class:"px-6 py-4"},xr={class:"px-6 py-4 text-right"},br=["onClick"],kr={__name:"ChecklistsView",setup(O){const V=v(!1),w=v(!1),C=v(null),r=v([]),$=v(!1),c=v({total_today:0,in_progress:0,completed:0,interrupted:0}),x=v(""),b=v(""),k=v(""),f=v(""),m=v(null);let j=null;const E=I(()=>{let l=r.value;if(x.value){const t=x.value.toLowerCase();l=l.filter(a=>{var u,p;return(p=(u=a.patient)==null?void 0:u.full_name)==null?void 0:p.toLowerCase().includes(t)})}if(b.value){const t=b.value.toLowerCase();l=l.filter(a=>{var u,p;return(p=(u=a.machine)==null?void 0:u.name)==null?void 0:p.toLowerCase().includes(t)})}return k.value&&(l=l.filter(t=>t.shift===k.value)),f.value&&(l=l.filter(t=>t.current_phase===f.value)),l}),D=I(()=>!!(x.value||b.value||k.value||f.value));function F(l){m.value=null}pe(()=>{N(),M(),j=setInterval(()=>{N(),M()},3e4),document.addEventListener("click",F)}),ve(()=>{j&&clearInterval(j),document.removeEventListener("click",F)});async function N(){try{$.value=!0;const l=await q.get("/api/checklists",{params:{per_page:20}});r.value=l.data.data||[]}catch(l){console.error("Error loading checklists:",l)}finally{$.value=!1}}async function M(){try{const l=await q.get("/api/checklists/stats");l.data.success&&(c.value=l.data.stats)}catch(l){console.error("Error loading stats:",l)}}function P(l){console.log("Checklist saved:",l),N(),M()}function W(l){C.value=l,w.value=!0}function G(){w.value=!1,C.value=null}function J(){N(),M()}function _(l){m.value===l?m.value=null:m.value=l}function H(){x.value="",b.value="",k.value="",f.value="",m.value=null}function K(l){return{matutino:"Matutino",vespertino:"Vespertino",noturno:"Noturno"}[l]||l}function Q(l){return{matutino:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 rounded-full",vespertino:"px-2 py-1 text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-400 rounded-full",noturno:"px-2 py-1 text-xs font-medium bg-indigo-100 text-indigo-800 dark:bg-indigo-900/20 dark:text-indigo-400 rounded-full"}[l]||"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400 rounded-full"}function X(l){return{pre_dialysis:"Pré-diálise",during_session:"Durante a Sessão",dialysis:"Em Sessão",post_dialysis:"Pós-diálise",completed:"Concluído",interrupted:"Interrompido"}[l]||l}function z(l){return{pre_dialysis:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 rounded-full",during_session:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400 rounded-full",dialysis:"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400 rounded-full",post_dialysis:"px-2 py-1 text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400 rounded-full",completed:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 rounded-full",interrupted:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400 rounded-full"}[l]||"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400 rounded-full"}return(l,t)=>(s(),o("div",jt,[e("div",Et,[t[19]||(t[19]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Checklists de Segurança"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Verificações de segurança para hemodiálise")],-1)),e("button",{onClick:t[0]||(t[0]=a=>V.value=!0),class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium"},[...t[18]||(t[18]=[e("svg",{class:"w-5 h-5 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),L(" Novo Checklist ",-1)])])]),e("div",zt,[e("div",Bt,[t[20]||(t[20]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Hoje",-1)),e("p",Tt,i(c.value.total_today),1)]),e("div",It,[t[21]||(t[21]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Em Andamento",-1)),e("p",qt,i(c.value.in_progress),1)]),e("div",Ft,[t[22]||(t[22]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Concluídos",-1)),e("p",Pt,i(c.value.completed),1)]),e("div",Ht,[t[23]||(t[23]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Interrompidos",-1)),e("p",Rt,i(c.value.interrupted),1)])]),e("div",Ut,[$.value?(s(),o("div",Ot,[...t[24]||(t[24]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)])])):(s(),o("table",Wt,[e("thead",Gt,[e("tr",null,[t[36]||(t[36]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"}," ID ",-1)),e("th",Jt,[e("div",Kt,[t[26]||(t[26]=L(" Paciente ",-1)),e("div",Qt,[e("button",{onClick:t[1]||(t[1]=y(a=>_("patient"),["stop"])),class:n(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":x.value}])},[...t[25]||(t[25]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),m.value==="patient"?(s(),o("div",{key:0,onClick:t[4]||(t[4]=y(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[200px]"},[T(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>x.value=a),type:"text",placeholder:"Filtrar paciente...",class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:t[3]||(t[3]=y(()=>{},["stop"]))},null,512),[[Y,x.value]])])):g("",!0)])])]),e("th",Xt,[e("div",Yt,[t[28]||(t[28]=L(" Máquina ",-1)),e("div",Zt,[e("button",{onClick:t[5]||(t[5]=y(a=>_("machine"),["stop"])),class:n(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":b.value}])},[...t[27]||(t[27]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),m.value==="machine"?(s(),o("div",{key:0,onClick:t[8]||(t[8]=y(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[200px]"},[T(e("input",{"onUpdate:modelValue":t[6]||(t[6]=a=>b.value=a),type:"text",placeholder:"Filtrar máquina...",class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:t[7]||(t[7]=y(()=>{},["stop"]))},null,512),[[Y,b.value]])])):g("",!0)])])]),e("th",er,[e("div",tr,[t[31]||(t[31]=L(" Turno ",-1)),e("div",rr,[e("button",{onClick:t[9]||(t[9]=y(a=>_("shift"),["stop"])),class:n(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":k.value}])},[...t[29]||(t[29]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),m.value==="shift"?(s(),o("div",{key:0,onClick:t[12]||(t[12]=y(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[180px]"},[T(e("select",{"onUpdate:modelValue":t[10]||(t[10]=a=>k.value=a),class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:t[11]||(t[11]=y(()=>{},["stop"]))},[...t[30]||(t[30]=[e("option",{value:""},"Todos",-1),e("option",{value:"matutino"},"Matutino",-1),e("option",{value:"vespertino"},"Vespertino",-1),e("option",{value:"noturno"},"Noturno",-1)])],512),[[le,k.value]])])):g("",!0)])])]),e("th",ar,[e("div",sr,[t[34]||(t[34]=L(" Fase ",-1)),e("div",or,[e("button",{onClick:t[13]||(t[13]=y(a=>_("phase"),["stop"])),class:n(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":f.value}])},[...t[32]||(t[32]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),m.value==="phase"?(s(),o("div",{key:0,onClick:t[16]||(t[16]=y(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[200px]"},[T(e("select",{"onUpdate:modelValue":t[14]||(t[14]=a=>f.value=a),class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:t[15]||(t[15]=y(()=>{},["stop"]))},[...t[33]||(t[33]=[ye('<option value="" data-v-1f9f1f3e>Todos</option><option value="pre_dialysis" data-v-1f9f1f3e>Pré-diálise</option><option value="during_session" data-v-1f9f1f3e>Durante a Sessão</option><option value="post_dialysis" data-v-1f9f1f3e>Pós-diálise</option><option value="completed" data-v-1f9f1f3e>Concluído</option><option value="interrupted" data-v-1f9f1f3e>Interrompido</option>',6)])],512),[[le,f.value]])])):g("",!0)])])]),e("th",lr,[D.value?(s(),o("button",{key:0,onClick:H,class:"inline-flex items-center gap-1 px-2 py-1 text-xs text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Limpar todos os filtros"},[...t[35]||(t[35]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1),e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):g("",!0)])])]),e("tbody",dr,[E.value.length===0?(s(),o("tr",ir,[e("td",nr,[e("p",ur,i(x.value||b.value||k.value||f.value?"Nenhum checklist encontrado com os filtros aplicados":"Nenhum checklist encontrado hoje"),1),D.value?(s(),o("button",{key:0,onClick:H,class:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium text-sm"},[...t[37]||(t[37]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1),e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),L(" Limpar Filtros ",-1)])])):g("",!0)])])):g("",!0),(s(!0),o(A,null,R(E.value,a=>{var u,p;return s(),o("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-800/50"},[e("td",gr," #"+i(a.id),1),e("td",cr,i(((u=a.patient)==null?void 0:u.full_name)||"N/A"),1),e("td",pr,i(((p=a.machine)==null?void 0:p.name)||"N/A"),1),e("td",vr,[e("span",{class:n(Q(a.shift))},i(K(a.shift)),3)]),e("td",yr,[e("span",{class:n(z(a.current_phase))},i(X(a.current_phase)),3)]),e("td",xr,[e("button",{onClick:S=>W(a.id),class:"text-primary-600 dark:text-primary-400 hover:underline text-sm font-medium"}," Ver Detalhes ",8,br)])])}),128))])]))]),U(xe,{"is-open":V.value,onClose:t[17]||(t[17]=a=>V.value=!1),onSaved:P},null,8,["is-open"]),U(Vt,{"is-open":w.value,"checklist-id":C.value,onClose:G,onDeleted:J},null,8,["is-open","checklist-id"])]))}},$r=de(kr,[["__scopeId","data-v-1f9f1f3e"]]);export{$r as default};

import{r as i,y as _,a as A,e as y,f as x,i as e,q as l,l as B,H as m,F as D,m as g,v as u,x as U}from"./vendor-BYzl544o.js";import{_ as P,d as N}from"./desktop-C1_hgPJA.js";const H={class:"profile-view space-y-6"},L={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 overflow-hidden"},R={class:"px-8 pb-8"},I={class:"flex flex-col md:flex-row md:items-end md:space-x-6 -mt-16"},$={class:"relative"},F={class:"w-32 h-32 rounded-xl bg-white dark:bg-gray-900 p-2 shadow-lg"},q={class:"w-full h-full rounded-lg bg-primary-600 flex items-center justify-center text-white text-4xl font-bold"},G={class:"flex-1 mt-4 md:mt-0"},J={class:"text-2xl font-bold text-gray-900 dark:text-white"},K={class:"text-gray-500 dark:text-gray-400"},O={class:"flex flex-wrap gap-2 mt-3"},Q={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800 dark:bg-primary-900/20 dark:text-primary-400"},W={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"},X={class:"flex gap-3 mt-4 md:mt-0"},Y=["disabled"],Z={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},ee={class:"lg:col-span-2 space-y-6"},te={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-6"},re={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ae=["disabled"],se=["disabled"],oe=["disabled"],le=["value"],de={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-6"},ne={class:"space-y-4"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ge=["disabled"],ue={class:"space-y-6"},me={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-6"},pe={class:"space-y-4"},ce={class:"flex items-center justify-between"},ye={class:"text-lg font-bold text-gray-900 dark:text-white"},xe={class:"flex items-center justify-between"},be={class:"text-lg font-bold text-gray-900 dark:text-white"},ve={class:"flex items-center justify-between"},we={class:"text-lg font-bold text-gray-900 dark:text-white"},ke={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-6"},fe={class:"space-y-3"},he={class:"text-sm text-gray-900 dark:text-white mt-1"},_e={class:"text-sm text-gray-900 dark:text-white mt-1"},Ce={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-6"},Me={class:"space-y-2"},je={__name:"ProfileView",setup(Te){const C=U(),a=i({name:"Carregando...",email:"email@example.com",role:"user",phone:"",unit:null,created_at:new Date,last_login:new Date}),d=i({name:"",email:"",phone:""}),o=i({current_password:"",new_password:"",confirm_password:""}),p=i({checklists:0,patients:0,days:0}),n=i(!1),c=i(!1),M=_(()=>!a.value?.name||a.value.name==="Carregando..."?"U":a.value.name.split(" ").map(r=>r[0]).join("").toUpperCase().slice(0,2)),b=_(()=>o.value.current_password&&o.value.new_password&&o.value.confirm_password&&o.value.new_password===o.value.confirm_password);A(async()=>{await j(),await T()});async function j(){try{const r=await N.get("/api/me");if(r.ok){const t=await r.json();a.value=t.user,d.value={name:t.user.name,email:t.user.email,phone:t.user.phone||""}}}catch(r){console.error("Error loading user data:",r)}}async function T(){p.value={checklists:142,patients:87,days:245}}function z(){n.value=!0}function E(){n.value=!1,d.value={name:a.value.name,email:a.value.email,phone:a.value.phone||""}}async function S(){c.value=!0;try{await new Promise(r=>setTimeout(r,1e3)),a.value={...a.value,...d.value},n.value=!1,v("Perfil atualizado com sucesso!")}catch(r){console.error("Error saving profile:",r),w("Erro ao salvar perfil. Tente novamente.")}finally{c.value=!1}}async function V(){if(b.value)try{await new Promise(r=>setTimeout(r,1e3)),o.value={current_password:"",new_password:"",confirm_password:""},v("Senha alterada com sucesso!")}catch(r){console.error("Error changing password:",r),w("Erro ao alterar senha. Tente novamente.")}}function v(r){const t=document.createElement("div");t.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-green-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",t.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
    </svg>
    <span class="font-medium">${r}</span>
  `,document.body.appendChild(t),setTimeout(()=>{t.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>t.remove(),300)},3e3)}function w(r){const t=document.createElement("div");t.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-red-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",t.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
    </svg>
    <span class="font-medium">${r}</span>
  `,document.body.appendChild(t),setTimeout(()=>{t.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>t.remove(),300)},4e3)}function k(r){return{admin:"Administrador",manager:"Gerente",field_user:"Usuário de Campo"}[r]||"Usuário"}function f(r){return r?new Date(r).toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"}):"-"}function h(r){C.push(r)}return(r,t)=>(x(),y("div",H,[e("div",L,[t[10]||(t[10]=e("div",{class:"h-32 bg-gradient-to-r from-primary-500 to-primary-600"},null,-1)),e("div",R,[e("div",I,[e("div",$,[e("div",F,[e("div",q,l(M.value),1)]),t[8]||(t[8]=e("button",{class:"absolute bottom-2 right-2 w-8 h-8 bg-white dark:bg-gray-800 rounded-full shadow-lg flex items-center justify-center hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",title:"Alterar foto"},[e("svg",{class:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})])],-1))]),e("div",G,[e("h1",J,l(a.value.name),1),e("p",K,l(a.value.email),1),e("div",O,[e("span",Q,l(k(a.value.role)),1),a.value.unit?(x(),y("span",W,[t[9]||(t[9]=e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),m(" "+l(a.value.unit.name),1)])):B("",!0)])]),e("div",X,[n.value?(x(),y(D,{key:1},[e("button",{onClick:E,class:"px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors font-medium"}," Cancelar "),e("button",{onClick:S,disabled:c.value,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed"},l(c.value?"Salvando...":"Salvar"),9,Y)],64)):(x(),y("button",{key:0,onClick:z,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium"}," Editar Perfil "))])])])]),e("div",Z,[e("div",ee,[e("div",te,[t[15]||(t[15]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),m(" Informações Pessoais ")],-1)),e("div",re,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Nome Completo",-1)),g(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value.name=s),type:"text",disabled:!n.value,class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"},null,8,ae),[[u,d.value.name]])]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Email",-1)),g(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.value.email=s),type:"email",disabled:!n.value,class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"},null,8,se),[[u,d.value.email]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Telefone",-1)),g(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>d.value.phone=s),type:"tel",disabled:!n.value,placeholder:"(00) 00000-0000",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white disabled:bg-gray-50 dark:disabled:bg-gray-800 disabled:cursor-not-allowed"},null,8,oe),[[u,d.value.phone]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Cargo",-1)),e("input",{value:k(a.value.role),type:"text",disabled:"",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white cursor-not-allowed"},null,8,le)])])]),e("div",de,[t[19]||(t[19]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})]),m(" Alterar Senha ")],-1)),e("div",ne,[e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Senha Atual",-1)),g(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.value.current_password=s),type:"password",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white"},null,512),[[u,o.value.current_password]])]),e("div",ie,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Nova Senha",-1)),g(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.value.new_password=s),type:"password",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white"},null,512),[[u,o.value.new_password]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Confirmar Senha",-1)),g(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>o.value.confirm_password=s),type:"password",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white"},null,512),[[u,o.value.confirm_password]])])]),e("button",{onClick:V,disabled:!b.value,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed"}," Alterar Senha ",8,ge)])])]),e("div",ue,[e("div",me,[t[23]||(t[23]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Estatísticas",-1)),e("div",pe,[e("div",ce,[t[20]||(t[20]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Checklists Realizados",-1)),e("span",ye,l(p.value.checklists),1)]),e("div",xe,[t[21]||(t[21]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Pacientes Atendidos",-1)),e("span",be,l(p.value.patients),1)]),e("div",ve,[t[22]||(t[22]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Dias Trabalhados",-1)),e("span",we,l(p.value.days),1)])])]),e("div",ke,[t[27]||(t[27]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Informações da Conta",-1)),e("div",fe,[e("div",null,[t[24]||(t[24]=e("span",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Data de Cadastro",-1)),e("p",he,l(f(a.value.created_at)),1)]),e("div",null,[t[25]||(t[25]=e("span",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Último Acesso",-1)),e("p",_e,l(f(a.value.last_login)),1)]),t[26]||(t[26]=e("div",null,[e("span",{class:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Status da Conta"),e("span",{class:"inline-flex items-center mt-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400"}," Ativa ")],-1))])]),e("div",Ce,[t[30]||(t[30]=e("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Ações Rápidas",-1)),e("div",Me,[e("button",{onClick:t[6]||(t[6]=s=>h("/desktop/settings")),class:"w-full flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors"},[...t[28]||(t[28]=[e("svg",{class:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),m(" Configurações ",-1)])]),e("button",{onClick:t[7]||(t[7]=s=>h("/desktop/help")),class:"w-full flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors"},[...t[29]||(t[29]=[e("svg",{class:"w-5 h-5 mr-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),m(" Ajuda e Suporte ",-1)])])])])])])]))}},Se=P(je,[["__scopeId","data-v-1393b103"]]);export{Se as default};

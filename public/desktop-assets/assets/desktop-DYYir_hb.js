const __vite__fileDeps=["assets/DashboardView-Bw668LPj.js","assets/vendor-BUVHuawk.js","assets/BeakerIcon-vK-hUObj.js","assets/DashboardView-DlalYWfj.css","assets/ChecklistsView-DUu7j3U6.js","assets/XMarkIcon-CDG6NCtI.js","assets/ChecklistsView-CnFF1Srr.css","assets/MachinesView-Cbm1ey9_.js","assets/MachinesView-dQxGxux7.css","assets/PatientsView-_DcyPMv2.js","assets/PatientsView-BlZoCh0Q.css","assets/ProfileView-X7_wI6z_.js","assets/ProfileView-BtKHDhsd.css","assets/SettingsView-DECK2_W2.js","assets/SettingsView-CS6w_Mr4.css","assets/HelpView-_XBqM6dw.js","assets/HelpView-Bwl_Mpv6.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as C,a as oe,c as o,o as r,b as e,w as P,d as w,e as J,v as X,n as M,t as h,f as ke,g as I,u as Y,h as q,i as fe,j as K,k as ee,l as H,m as j,p as F,q as G,F as R,s as O,x as W,T as te,y as xe,z as ae,A as U,B as be,C as we,D as le,E as _e,G as Ce,H as $e}from"./vendor-BUVHuawk.js";const z=(l,u)=>{const g=l.__vccOpts||l;for(const[k,d]of u)g[k]=d;return g},Me={class:"login-view w-full max-w-md px-6"},Ae={class:"bg-white rounded-2xl shadow-2xl p-8"},je={key:0,class:"mt-1 text-sm text-red-600"},Ee={key:0,class:"mt-1 text-sm text-red-600"},Le={class:"flex items-center"},Be=["disabled"],Se={key:0},Te={key:1,class:"flex items-center justify-center"},Ve={key:0,class:"p-4 bg-red-50 border border-red-200 rounded-lg"},De={class:"text-sm text-red-600"},Ie={__name:"LoginView",emits:["login-success"],setup(l,{emit:u}){const g=u,k=C(!1),d=oe({email:"",password:"",remember:!1}),s=oe({email:"",password:"",general:""});async function p(){var c,n,f;s.email="",s.password="",s.general="",k.value=!0;try{const b=(c=document.querySelector('meta[name="csrf-token"]'))==null?void 0:c.getAttribute("content"),L=await fetch("/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":b},credentials:"same-origin",body:JSON.stringify({email:d.email,password:d.password,remember:d.remember})}),$=await L.json();L.ok?g("login-success",$.user):$.errors?(s.email=((n=$.errors.email)==null?void 0:n[0])||"",s.password=((f=$.errors.password)==null?void 0:f[0])||""):s.general=$.message||"Erro ao fazer login. Tente novamente."}catch(b){console.error("Login error:",b),s.general="Erro de conexão. Verifique sua internet e tente novamente."}finally{k.value=!1}}return(c,n)=>(r(),o("div",Me,[e("div",Ae,[n[7]||(n[7]=e("div",{class:"text-center mb-8"},[e("img",{src:"/hemodialise_logo.png",alt:"Logo Hemodiálise",class:"w-24 h-24 mx-auto mb-4"}),e("h1",{class:"text-3xl font-bold text-gray-900"},"Sistema Hemodiálise"),e("p",{class:"text-gray-600 mt-2"},"Interface Desktop")],-1)),e("form",{onSubmit:P(p,["prevent"]),class:"space-y-6"},[e("div",null,[n[3]||(n[3]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),J(e("input",{id:"email","onUpdate:modelValue":n[0]||(n[0]=f=>d.email=f),type:"email",required:"",class:M(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",{"border-red-500":s.email}]),placeholder:"seu@email.com"},null,2),[[X,d.email]]),s.email?(r(),o("p",je,h(s.email),1)):w("",!0)]),e("div",null,[n[4]||(n[4]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," Senha ",-1)),J(e("input",{id:"password","onUpdate:modelValue":n[1]||(n[1]=f=>d.password=f),type:"password",required:"",class:M(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",{"border-red-500":s.password}]),placeholder:"••••••••"},null,2),[[X,d.password]]),s.password?(r(),o("p",Ee,h(s.password),1)):w("",!0)]),e("div",Le,[J(e("input",{id:"remember","onUpdate:modelValue":n[2]||(n[2]=f=>d.remember=f),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ke,d.remember]]),n[5]||(n[5]=e("label",{for:"remember",class:"ml-2 block text-sm text-gray-700"}," Lembrar-me ",-1))]),e("button",{type:"submit",disabled:k.value,class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},[k.value?(r(),o("span",Te,[...n[6]||(n[6]=[e("svg",{class:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),I(" Entrando... ",-1)])])):(r(),o("span",Se,"Entrar"))],8,Be),s.general?(r(),o("div",Ve,[e("p",De,h(s.general),1)])):w("",!0)],32),n[8]||(n[8]=e("div",{class:"mt-6 text-center text-sm text-gray-600"},[e("p",null,[I("Acesso móvel? "),e("a",{href:"/mobile",class:"text-blue-600 hover:underline"},"Clique aqui")]),e("p",{class:"mt-2"},[I("Admin? "),e("a",{href:"/admin",class:"text-blue-600 hover:underline"},"Painel Admin")])],-1))])]))}},Ne=z(Ie,[["__scopeId","data-v-a43e4e90"]]);function de(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}function Q(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function Ue(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function qe(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function re(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"})])}function ce(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function ue(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"})])}function Pe(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function ge(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function se(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function ne(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function Re(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function pe(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})])}function Oe(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})])}function me(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})])}function he(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function ye(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}function ze(l,u){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const Ze={class:"flex min-h-full items-start justify-center p-4 pt-20"},He={class:"flex items-center border-b border-gray-200 dark:border-gray-700 px-4 py-3"},Ke=["onKeydown"],Fe={class:"max-h-96 overflow-y-auto p-2"},Ge={key:0,class:"px-4 py-8 text-center text-gray-500 dark:text-gray-400"},Je={key:1},We={class:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},Xe={class:"space-y-1"},Qe=["onClick","onMouseenter"],Ye={class:"flex-1 min-w-0"},et={class:"text-sm font-medium"},tt={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},rt={key:0,class:"hidden sm:inline-block ml-3 px-2 py-1 text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded"},ot={__name:"CommandPalette",emits:["toggle-theme","logout"],setup(l,{expose:u,emit:g}){const k=g,d=Y(),s=C(!1),p=C(""),c=C(0),n=C(null),f=C({}),b=[{id:"nav-dashboard",category:"Navegação",label:"Dashboard",description:"Ir para página inicial",icon:ge,action:()=>d.push("/desktop")},{id:"nav-checklists",category:"Navegação",label:"Checklists",description:"Ver checklists de segurança",icon:re,action:()=>d.push("/desktop/checklists")},{id:"nav-machines",category:"Navegação",label:"Máquinas",description:"Gerenciar máquinas",icon:ue,action:()=>d.push("/desktop/machines")},{id:"nav-patients",category:"Navegação",label:"Pacientes",description:"Gerenciar pacientes",icon:ye,action:()=>d.push("/desktop/patients")},{id:"nav-profile",category:"Navegação",label:"Meu Perfil",description:"Ver e editar meu perfil",icon:he,action:()=>d.push("/desktop/profile")},{id:"nav-settings",category:"Navegação",label:"Configurações",description:"Configurações do sistema",icon:ce,action:()=>d.push("/desktop/settings")},{id:"nav-help",category:"Navegação",label:"Ajuda e Suporte",description:"Central de ajuda e FAQs",icon:ne,action:()=>d.push("/desktop/help")},{id:"action-search",category:"Ações",label:"Buscar",description:"Buscar em todo sistema",icon:ne,shortcut:"⌘K",action:()=>{}},{id:"action-notifications",category:"Ações",label:"Notificações",description:"Ver notificações",icon:Q,action:()=>{}},{id:"action-theme-light",category:"Ações",label:"Tema Claro",description:"Ativar tema claro",icon:me,action:()=>k("toggle-theme","light")},{id:"action-theme-dark",category:"Ações",label:"Tema Escuro",description:"Ativar tema escuro",icon:pe,action:()=>k("toggle-theme","dark")},{id:"action-logout",category:"Ações",label:"Sair",description:"Sair do sistema",icon:de,action:()=>k("logout")}],L=q(()=>{if(!p.value)return b;const t=p.value.toLowerCase();return b.filter(i=>{var y;return i.label.toLowerCase().includes(t)||((y=i.description)==null?void 0:y.toLowerCase().includes(t))||i.category.toLowerCase().includes(t)})}),$=q(()=>{const t={};return L.value.forEach(i=>{t[i.category]||(t[i.category]={category:i.category,commands:[]}),t[i.category].commands.push(i)}),Object.values(t)});function x(t,i){let y=0;for(const _ of $.value){if(_.category===t)return y+i;y+=_.commands.length}return 0}function A(t){let i=0;for(const y of $.value){if(t<i+y.commands.length)return y.commands[t-i];i+=y.commands.length}return null}function m(){c.value=Math.min(c.value+1,L.value.length-1),S()}function E(){c.value=Math.max(c.value-1,0),S()}function S(){ae(()=>{const t=A(c.value);t&&f.value[t.id]&&f.value[t.id].scrollIntoView({block:"nearest",behavior:"smooth"})})}function T(){const t=A(c.value);t&&V(t)}function V(t){t.action(),B()}function D(){s.value=!0,c.value=0,p.value="",ae(()=>{var t;(t=n.value)==null||t.focus()})}function B(){s.value=!1,p.value=""}function a(t){(t.metaKey||t.ctrlKey)&&t.key==="k"&&(t.preventDefault(),s.value?B():D())}return fe(p,()=>{c.value=0}),K(()=>{window.addEventListener("keydown",a)}),ee(()=>{window.removeEventListener("keydown",a)}),u({open:D,close:B,isOpen:s}),(t,i)=>(r(),H(xe,{to:"body"},[j(te,{name:"modal"},{default:F(()=>[s.value?(r(),o("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:P(B,["self"])},[i[6]||(i[6]=e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity"},null,-1)),e("div",Ze,[e("div",{class:"relative w-full max-w-2xl bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",onClick:i[1]||(i[1]=P(()=>{},["stop"]))},[e("div",He,[i[2]||(i[2]=e("svg",{class:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),J(e("input",{ref_key:"searchInput",ref:n,"onUpdate:modelValue":i[0]||(i[0]=y=>p.value=y),type:"text",class:"flex-1 bg-transparent border-none outline-none text-gray-900 dark:text-white placeholder-gray-400 text-base",placeholder:"Buscar ou executar comando...",onKeydown:[G(P(m,["prevent"]),["down"]),G(P(E,["prevent"]),["up"]),G(P(T,["prevent"]),["enter"]),G(B,["esc"])]},null,40,Ke),[[X,p.value]]),i[3]||(i[3]=e("kbd",{class:"hidden sm:inline-block px-2 py-1 text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded"}," ESC ",-1))]),e("div",Fe,[L.value.length===0?(r(),o("div",Ge,[...i[4]||(i[4]=[e("svg",{class:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("p",{class:"text-sm"},"Nenhum resultado encontrado",-1)])])):(r(),o("div",Je,[(r(!0),o(R,null,O($.value,y=>(r(),o("div",{key:y.category,class:"mb-4"},[e("div",We,h(y.category),1),e("div",Xe,[(r(!0),o(R,null,O(y.commands,(_,v)=>(r(),o("button",{key:_.id,ref_for:!0,ref:Z=>{Z&&(f.value[_.id]=Z)},class:M(["w-full flex items-center px-3 py-2.5 rounded-lg text-left transition-colors",[c.value===x(y.category,v)?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"]]),onClick:Z=>V(_),onMouseenter:Z=>c.value=x(y.category,v)},[(r(),H(W(_.icon),{class:M(["w-5 h-5 mr-3 flex-shrink-0",c.value===x(y.category,v)?"text-primary-600 dark:text-primary-400":"text-gray-400"])},null,8,["class"])),e("div",Ye,[e("div",et,h(_.label),1),_.description?(r(),o("div",tt,h(_.description),1)):w("",!0)]),_.shortcut?(r(),o("kbd",rt,h(_.shortcut),1)):w("",!0)],42,Qe))),128))])]))),128))]))]),i[5]||(i[5]=e("div",{class:"border-t border-gray-200 dark:border-gray-700 px-4 py-3 bg-gray-50 dark:bg-gray-800/50"},[e("div",{class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},[e("div",{class:"flex items-center space-x-4"},[e("span",{class:"flex items-center"},[e("kbd",{class:"px-2 py-1 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded mr-1"},"↑"),e("kbd",{class:"px-2 py-1 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded mr-2"},"↓"),I(" navegar ")]),e("span",{class:"flex items-center"},[e("kbd",{class:"px-2 py-1 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded mr-2"},"↵"),I(" selecionar ")])])])],-1))])])])):w("",!0)]),_:1})]))}},at=z(ot,[["__scopeId","data-v-97aff486"]]),st={key:0,class:"absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full ring-2 ring-white dark:ring-gray-950"},nt={key:0,class:"absolute right-0 mt-2 w-96 bg-white dark:bg-gray-900 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden z-50"},it={class:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"},lt={class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},dt={class:"max-h-96 overflow-y-auto"},ct={key:0,class:"px-4 py-12 text-center"},ut={key:1},gt=["onClick"],pt={class:"flex-1 min-w-0"},mt={class:"text-sm font-medium text-gray-900 dark:text-white"},ht={class:"text-xs text-gray-600 dark:text-gray-400 mt-1 line-clamp-2"},yt={class:"text-xs text-gray-500 dark:text-gray-500 mt-2"},vt={key:0,class:"flex-shrink-0 ml-3"},kt={__name:"NotificationsDropdown",setup(l){const u=C(!1),g=C(null),k=C([{id:1,type:"checklist",title:"Novo checklist criado",message:"Checklist de segurança para Máquina 5 foi criado por João Silva",created_at:new Date(Date.now()-5*60*1e3),read:!1},{id:2,type:"success",title:"Limpeza concluída",message:"Limpeza diária da Máquina 3 foi concluída com sucesso",created_at:new Date(Date.now()-30*60*1e3),read:!1},{id:3,type:"warning",title:"Manutenção agendada",message:"Máquina 2 tem manutenção preventiva agendada para amanhã",created_at:new Date(Date.now()-2*60*60*1e3),read:!1},{id:4,type:"info",title:"Novo paciente cadastrado",message:"Paciente Maria Santos foi cadastrado no sistema",created_at:new Date(Date.now()-4*60*60*1e3),read:!0},{id:5,type:"error",title:"Checklist incompleto",message:"Checklist da Máquina 1 foi interrompido e precisa ser revisado",created_at:new Date(Date.now()-24*60*60*1e3),read:!0}]),d=q(()=>k.value.filter(x=>!x.read).length);function s(){u.value=!u.value}function p(x){x.read=!0,console.log("Notification clicked:",x)}function c(){k.value.forEach(x=>{x.read=!0})}function n(){u.value=!1,console.log("View all notifications")}function f(x){return{success:Ue,warning:Pe,error:ze,info:se,checklist:re}[x]||se}function b(x){return{success:"bg-green-500",warning:"bg-yellow-500",error:"bg-red-500",info:"bg-blue-500",checklist:"bg-purple-500"}[x]||"bg-gray-500"}function L(x){const m=Math.floor((new Date-x)/1e3);return m<60?"Agora":m<3600?`${Math.floor(m/60)}m atrás`:m<86400?`${Math.floor(m/3600)}h atrás`:m<604800?`${Math.floor(m/86400)}d atrás`:x.toLocaleDateString("pt-BR")}function $(x){g.value&&!g.value.contains(x.target)&&(u.value=!1)}return K(()=>{document.addEventListener("click",$)}),ee(()=>{document.removeEventListener("click",$)}),(x,A)=>(r(),o("div",{class:"relative",ref_key:"dropdownRef",ref:g},[e("button",{onClick:s,class:M(["relative p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",{"bg-gray-100 dark:bg-gray-800":u.value}]),title:"Notificações"},[j(U(Q),{class:"w-5 h-5"}),d.value>0?(r(),o("span",st,h(d.value>9?"9+":d.value),1)):w("",!0)],2),j(te,{name:"dropdown"},{default:F(()=>[u.value?(r(),o("div",nt,[e("div",it,[e("div",null,[A[0]||(A[0]=e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Notificações",-1)),e("p",lt,h(d.value>0?`${d.value} não ${d.value===1?"lida":"lidas"}`:"Nenhuma notificação nova"),1)]),d.value>0?(r(),o("button",{key:0,onClick:c,class:"text-xs font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors"}," Marcar todas como lidas ")):w("",!0)]),e("div",dt,[k.value.length===0?(r(),o("div",ct,[j(U(Q),{class:"w-12 h-12 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),A[1]||(A[1]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Nenhuma notificação",-1))])):(r(),o("div",ut,[(r(!0),o(R,null,O(k.value,m=>(r(),o("div",{key:m.id,class:M(["notification-item flex items-start px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer border-l-4",[m.read?"border-transparent":"border-primary-500 bg-primary-50/50 dark:bg-primary-900/10"]]),onClick:E=>p(m)},[e("div",{class:M(["flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center mr-3",b(m.type)])},[(r(),H(W(f(m.type)),{class:"w-5 h-5 text-white"}))],2),e("div",pt,[e("p",mt,h(m.title),1),e("p",ht,h(m.message),1),e("p",yt,h(L(m.created_at)),1)]),m.read?w("",!0):(r(),o("div",vt,[...A[2]||(A[2]=[e("div",{class:"w-2 h-2 bg-primary-500 rounded-full"},null,-1)])]))],10,gt))),128))]))]),e("div",{class:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"},[e("button",{class:"w-full text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",onClick:n}," Ver todas as notificações ")])])):w("",!0)]),_:1})],512))}},ft=z(kt,[["__scopeId","data-v-66101bb7"]]),xt={class:"w-8 h-8 rounded-full bg-primary-600 flex items-center justify-center text-white text-sm font-semibold ring-2 ring-primary-100 dark:ring-primary-900"},bt={class:"hidden md:block text-left"},wt={class:"text-sm font-medium text-gray-900 dark:text-white truncate max-w-32"},_t={class:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-32"},Ct={key:0,class:"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-900 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden z-50"},$t={class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"},Mt={class:"flex items-center space-x-3"},At={class:"w-10 h-10 rounded-full bg-primary-600 flex items-center justify-center text-white text-base font-semibold"},jt={class:"flex-1 min-w-0"},Et={class:"text-sm font-semibold text-gray-900 dark:text-white truncate"},Lt={class:"text-xs text-gray-500 dark:text-gray-400 truncate"},Bt={key:0,class:"mt-2 flex items-center text-xs text-gray-600 dark:text-gray-400"},St={class:"py-2"},Tt=["onClick"],Vt={class:"flex-1 text-left"},Dt={key:0,class:"hidden lg:inline-block px-2 py-0.5 text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded"},It={class:"px-4 py-2 border-t border-gray-200 dark:border-gray-700"},Nt={class:"flex items-center justify-between"},Ut={class:"flex items-center space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1"},qt={class:"p-2 border-t border-gray-200 dark:border-gray-700"},Pt={__name:"UserMenuDropdown",props:{user:{type:Object,default:()=>({name:"Usuário",email:"usuario@example.com",role:"user"})},theme:{type:String,default:"light"}},emits:["logout","theme-change"],setup(l,{emit:u}){const g=l,k=u,d=Y(),s=C(!1),p=C(null),c=[{id:"profile",label:"Meu Perfil",icon:he,action:()=>d.push("/desktop/profile")},{id:"settings",label:"Configurações",icon:ce,action:()=>d.push("/desktop/settings"),shortcut:"⌘,"},{id:"help",label:"Ajuda & Suporte",icon:Oe,action:()=>d.push("/desktop/help")}],n=q(()=>{var m;return(m=g.user)!=null&&m.name?g.user.name.split(" ").map(E=>E[0]).join("").toUpperCase().slice(0,2):"U"});function f(m){return{admin:"Administrador",manager:"Gerente",field_user:"Usuário de Campo"}[m]||"Usuário"}function b(){s.value=!s.value}function L(m){s.value=!1,m.action()}function $(m){k("theme-change",m)}function x(){s.value=!1,k("logout")}function A(m){p.value&&!p.value.contains(m.target)&&(s.value=!1)}return K(()=>{document.addEventListener("click",A)}),ee(()=>{document.removeEventListener("click",A)}),(m,E)=>{var S,T;return r(),o("div",{class:"relative",ref_key:"dropdownRef",ref:p},[e("button",{onClick:b,class:M(["flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",{"bg-gray-100 dark:bg-gray-800":s.value}])},[e("div",xt,h(n.value),1),e("div",bt,[e("p",wt,h(((S=l.user)==null?void 0:S.name)||"Usuário"),1),e("p",_t,h(f((T=l.user)==null?void 0:T.role)),1)]),j(U(qe),{class:M(["hidden md:block w-4 h-4 text-gray-400 transition-transform",{"rotate-180":s.value}])},null,8,["class"])],2),j(te,{name:"dropdown"},{default:F(()=>{var V,D,B;return[s.value?(r(),o("div",Ct,[e("div",$t,[e("div",Mt,[e("div",At,h(n.value),1),e("div",jt,[e("p",Et,h(((V=l.user)==null?void 0:V.name)||"Usuário"),1),e("p",Lt,h((D=l.user)==null?void 0:D.email),1)])]),(B=l.user)!=null&&B.unit?(r(),o("div",Bt,[j(U(Re),{class:"w-3 h-3 mr-1"}),I(" "+h(l.user.unit.name),1)])):w("",!0)]),e("div",St,[(r(),o(R,null,O(c,a=>e("button",{key:a.id,onClick:t=>L(a),class:"w-full flex items-center px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"},[(r(),H(W(a.icon),{class:"w-5 h-5 mr-3 text-gray-400"})),e("span",Vt,h(a.label),1),a.shortcut?(r(),o("kbd",Dt,h(a.shortcut),1)):w("",!0)],8,Tt)),64))]),e("div",It,[e("div",Nt,[E[2]||(E[2]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Tema",-1)),e("div",Ut,[e("button",{onClick:E[0]||(E[0]=a=>$("light")),class:M(["p-1.5 rounded transition-colors",l.theme==="light"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400"]),title:"Tema claro"},[j(U(me),{class:"w-4 h-4"})],2),e("button",{onClick:E[1]||(E[1]=a=>$("dark")),class:M(["p-1.5 rounded transition-colors",l.theme==="dark"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400"]),title:"Tema escuro"},[j(U(pe),{class:"w-4 h-4"})],2)])])]),e("div",qt,[e("button",{onClick:x,class:"w-full flex items-center px-4 py-2.5 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors"},[j(U(de),{class:"w-5 h-5 mr-3"}),E[3]||(E[3]=I(" Sair do Sistema ",-1))])])])):w("",!0)]}),_:1})],512)}}},Rt=z(Pt,[["__scopeId","data-v-9c4fcfae"]]),Ot={class:"desktop-layout flex h-screen bg-gray-50 dark:bg-gray-900"},zt={class:"p-4 border-b border-gray-200 dark:border-gray-800 space-y-3"},Zt={key:0,class:"font-semibold text-gray-900 dark:text-white"},Ht={key:0,class:"px-1"},Kt={key:0,class:"flex items-center px-3 py-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},Ft={class:"text-xs text-gray-600 dark:text-gray-300 truncate font-medium"},Gt={key:1,class:"relative"},Jt={class:"flex items-center min-w-0 flex-1"},Wt={class:"text-gray-700 dark:text-gray-300 font-medium truncate"},Xt={key:0,class:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-48 overflow-y-auto"},Qt=["onClick"],Yt={key:0,class:"w-3 h-3 text-primary-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},er=["title"],tr={class:"flex-1 px-3 py-4 space-y-1 overflow-y-auto"},rr={key:0,class:"truncate"},or={key:1,class:"ml-auto inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900/50 dark:text-primary-300"},ar={key:2,class:"absolute left-full ml-2 px-3 py-2 bg-gray-900 dark:bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity duration-200 whitespace-nowrap z-50 shadow-lg"},sr={key:0,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-primary-500 text-white"},nr={class:"border-t border-gray-200 dark:border-gray-800 p-3"},ir={class:"flex-1 flex flex-col overflow-hidden"},lr={class:"bg-white dark:bg-gray-950 border-b border-gray-200 dark:border-gray-800 px-6 py-4"},dr={class:"flex items-center justify-between"},cr={class:"flex items-center space-x-4"},ur={class:"text-2xl font-bold text-gray-900 dark:text-white"},gr={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},pr={class:"flex items-center space-x-2"},mr={class:"flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900 p-6"},hr={__name:"DesktopLayout",setup(l){const u=we(),g=C(!1),k=C("light"),d=C({name:"Usuário",email:"usuario@hemodialise.ma.gov.br",role:"user"}),s=C(null),p=C([]),c=C(null),n=C(null),f=C(!1),b=[{name:"dashboard",path:"/desktop",label:"Dashboard",icon:ge},{name:"checklists",path:"/desktop/checklists",label:"Checklists",icon:re,badge:4},{name:"machines",path:"/desktop/machines",label:"Máquinas",icon:ue},{name:"patients",path:"/desktop/patients",label:"Pacientes",icon:ye}],L=q(()=>{const a=b.find(t=>t.path===u.path);return(a==null?void 0:a.label)||"Dashboard"}),$=q(()=>({"/desktop":"Visão geral do sistema","/desktop/checklists":"Checklists de segurança","/desktop/machines":"Gerenciamento de máquinas","/desktop/patients":"Cadastro de pacientes","/desktop/profile":"Gerenciar informações pessoais","/desktop/settings":"Configurações do sistema","/desktop/help":"Central de ajuda e suporte"})[u.path]||"");q(()=>{var a;return(a=d.value)!=null&&a.name?d.value.name.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2):"U"}),K(async()=>{const a=localStorage.getItem("theme")||"light";k.value=a,V(a),await A(),await x()});async function x(){try{const a=await fetch("/api/me",{credentials:"same-origin",headers:{Accept:"application/json"}});if(a.ok){const t=await a.json();d.value=t.user||d.value}}catch(a){console.error("Error loading user data:",a)}}async function A(){var a;try{const t=await fetch("/api/user-units",{credentials:"same-origin",headers:{Accept:"application/json"}});if(!t.ok){console.warn("Failed to load units:",t.status);return}const i=await t.json();if(i.success){p.value=i.units||[];const y=i.current_unit_id;y?(c.value=i.units.find(_=>_.id===y),n.value=y):i.units.length===1?(await m(i.units[0].id),c.value=i.units[0],n.value=i.units[0].id):i.units.length>0&&(c.value=i.units[0],n.value=i.units[0].id),console.log("Units loaded (desktop):",{total:p.value.length,current:(a=c.value)==null?void 0:a.name,currentId:n.value})}}catch(t){console.error("Error loading available units:",t)}}async function m(a){var t,i;if(f.value=!1,a!==n.value)try{const y=(t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("content"),_=await fetch("/api/user-units/switch",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":y},body:JSON.stringify({unit_id:a})});if(!_.ok)throw new Error(`Failed to switch unit: ${_.status}`);const v=await _.json();v.success&&(c.value=v.current_unit,n.value=a,window.location.reload())}catch(y){console.error("Error switching unit:",y),n.value=(i=c.value)==null?void 0:i.id}}function E(){g.value=!g.value}function S(a){k.value=a,localStorage.setItem("theme",a),V(a),console.log("Theme changed to:",a)}function T(){var a;(a=s.value)==null||a.open()}function V(a){const t=document.documentElement;a==="dark"?t.classList.add("dark"):t.classList.remove("dark")}function D(a){return u.path===a||a!=="/desktop"&&u.path.startsWith(a)}async function B(){var a;try{const t=(a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.getAttribute("content");await fetch("/logout",{method:"POST",headers:{"X-CSRF-TOKEN":t,Accept:"application/json"},credentials:"same-origin"}),window.location.href="/desktop"}catch(t){console.error("Logout error:",t),window.location.href="/desktop"}}return(a,t)=>{var y,_;const i=le("router-link");return r(),o("div",Ot,[e("aside",{class:M(["sidebar bg-white dark:bg-gray-950 border-r border-gray-200 dark:border-gray-800 transition-all duration-300 flex flex-col",g.value?"w-16":"w-64"])},[e("div",zt,[e("div",{class:M(["flex items-center",g.value?"justify-center":"space-x-3"])},[t[1]||(t[1]=e("img",{src:"/hemodialise_logo.png",alt:"Logo",class:"w-8 h-8"},null,-1)),g.value?w("",!0):(r(),o("span",Zt,"Hemodiálise"))],2),!g.value&&p.value.length>0?(r(),o("div",Ht,[p.value.length<=1?(r(),o("div",Kt,[t[2]||(t[2]=e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),e("span",Ft,h(((y=c.value)==null?void 0:y.name)||"Carregando..."),1)])):(r(),o("div",Gt,[e("button",{onClick:t[0]||(t[0]=v=>f.value=!f.value),class:"w-full flex items-center justify-between px-3 py-2 text-xs bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-700 transition-colors"},[e("div",Jt,[t[3]||(t[3]=e("svg",{class:"w-4 h-4 text-primary-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),e("span",Wt,h((_=c.value)==null?void 0:_.name),1)]),(r(),o("svg",{class:M(["w-4 h-4 text-gray-400 dark:text-gray-500 ml-2 flex-shrink-0 transition-transform",{"rotate-180":f.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[4]||(t[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),f.value?(r(),o("div",Xt,[(r(!0),o(R,null,O(p.value,v=>(r(),o("button",{key:v.id,onClick:Z=>m(v.id),class:M(["w-full px-3 py-2 text-left text-xs hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors flex items-center",{"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-400 font-medium":v.id===n.value}])},[v.id===n.value?(r(),o("svg",Yt,[...t[5]||(t[5]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):w("",!0),e("span",{class:M(["flex-1 truncate",{"ml-5":v.id!==n.value}])},h(v.name),3)],10,Qt))),128))])):w("",!0)]))])):g.value&&c.value?(r(),o("div",{key:1,class:"flex justify-center",title:c.value.name},[...t[6]||(t[6]=[e("div",{class:"w-2 h-2 rounded-full bg-primary-500"},null,-1)])],8,er)):w("",!0)]),e("nav",tr,[(r(),o(R,null,O(b,v=>j(i,{key:v.name,to:v.path,class:M(["nav-item flex items-center text-sm font-medium rounded-lg transition-all duration-200 relative group",[g.value?"justify-center p-3":"px-3 py-2.5",{"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":D(v.path),"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800":!D(v.path)}]]),title:g.value?v.label:""},{default:F(()=>[(r(),H(W(v.icon),{class:M(["w-5 h-5 flex-shrink-0",g.value?"":"mr-3"])},null,8,["class"])),g.value?w("",!0):(r(),o("span",rr,h(v.label),1)),v.badge&&!g.value?(r(),o("span",or,h(v.badge),1)):w("",!0),g.value?(r(),o("div",ar,[I(h(v.label)+" ",1),v.badge?(r(),o("span",sr,h(v.badge),1)):w("",!0)])):w("",!0)]),_:2},1032,["to","class","title"])),64))]),e("div",nr,[g.value?(r(),o("button",{key:0,onClick:T,class:"w-full p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",title:"Buscar (⌘K)"},[...t[7]||(t[7]=[e("svg",{class:"w-5 h-5 mx-auto text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])])):w("",!0)])],2),e("div",ir,[e("header",lr,[e("div",dr,[e("div",cr,[e("button",{onClick:E,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",title:"Toggle Sidebar"},[...t[8]||(t[8]=[e("svg",{class:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),e("div",null,[e("h1",ur,h(L.value),1),e("p",gr,h($.value),1)])]),e("div",pr,[e("button",{onClick:T,class:"hidden lg:flex items-center space-x-2 px-3 py-1.5 text-sm text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors border border-gray-200 dark:border-gray-700",title:"Buscar (⌘K)"},[...t[9]||(t[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),e("span",null,"Buscar...",-1),e("kbd",{class:"px-2 py-0.5 text-xs font-semibold text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded"}," ⌘K ",-1)])]),e("button",{onClick:T,class:"lg:hidden p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Buscar"},[...t[10]||(t[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])]),j(ft),j(Rt,{user:d.value,theme:k.value,onLogout:B,onThemeChange:S},null,8,["user","theme"])])])]),e("main",mr,[be(a.$slots,"default",{},void 0)])]),j(at,{ref_key:"commandPaletteRef",ref:s,onToggleTheme:S,onLogout:B},null,512)])}}},yr=z(hr,[["__scopeId","data-v-26ea4a5a"]]),vr={class:"desktop-app h-screen bg-gray-50 dark:bg-gray-900 antialiased"},kr={key:0,class:"auth-container"},fr={key:1,class:"main-container h-full"},xr={__name:"DesktopApp",setup(l){const u=Y(),g=C(!1),k=C(null);K(async()=>{await d()});async function d(){try{const p=await fetch("/api/me",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin"});if(p.ok){const c=await p.json();k.value=c.user,g.value=!0}else g.value=!1}catch(p){console.error("Auth check failed:",p),g.value=!1}}function s(p){k.value=p,g.value=!0,u.push("/desktop")}return(p,c)=>{const n=le("router-view");return r(),o("div",vr,[g.value?(r(),o("div",fr,[j(yr,null,{default:F(()=>[j(n)]),_:1})])):(r(),o("div",kr,[j(Ne,{onLoginSuccess:s})]))])}}},br=z(xr,[["__scopeId","data-v-e7708747"]]),wr="modulepreload",_r=function(l){return"/desktop-assets/"+l},ie={},N=function(u,g,k){let d=Promise.resolve();if(g&&g.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),p=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));d=Promise.all(g.map(c=>{if(c=_r(c),c in ie)return;ie[c]=!0;const n=c.endsWith(".css"),f=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const b=document.createElement("link");if(b.rel=n?"stylesheet":wr,n||(b.as="script",b.crossOrigin=""),b.href=c,p&&b.setAttribute("nonce",p),document.head.appendChild(b),n)return new Promise((L,$)=>{b.addEventListener("load",L),b.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${c}`)))})}))}return d.then(()=>u()).catch(s=>{const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=s,window.dispatchEvent(p),!p.defaultPrevented)throw s})},Cr=[{path:"/desktop",name:"desktop.home",component:()=>N(()=>import("./DashboardView-Bw668LPj.js"),__vite__mapDeps([0,1,2,3])),meta:{requiresAuth:!0}},{path:"/desktop/checklists",name:"desktop.checklists",component:()=>N(()=>import("./ChecklistsView-DUu7j3U6.js"),__vite__mapDeps([4,1,5,6])),meta:{requiresAuth:!0}},{path:"/desktop/machines",name:"desktop.machines",component:()=>N(()=>import("./MachinesView-Cbm1ey9_.js"),__vite__mapDeps([7,1,5,8])),meta:{requiresAuth:!0}},{path:"/desktop/patients",name:"desktop.patients",component:()=>N(()=>import("./PatientsView-_DcyPMv2.js"),__vite__mapDeps([9,1,5,2,10])),meta:{requiresAuth:!0}},{path:"/desktop/profile",name:"desktop.profile",component:()=>N(()=>import("./ProfileView-X7_wI6z_.js"),__vite__mapDeps([11,1,12])),meta:{requiresAuth:!0}},{path:"/desktop/settings",name:"desktop.settings",component:()=>N(()=>import("./SettingsView-DECK2_W2.js"),__vite__mapDeps([13,1,14])),meta:{requiresAuth:!0}},{path:"/desktop/help",name:"desktop.help",component:()=>N(()=>import("./HelpView-_XBqM6dw.js"),__vite__mapDeps([15,1,16])),meta:{requiresAuth:!0}}],$r=_e({history:Ce(),routes:Cr}),ve=$e(br);ve.use($r);ve.mount("#desktop-app");setTimeout(()=>{const l=document.getElementById("loading-screen");l&&(l.classList.add("fade-out"),setTimeout(()=>{l.style.display="none"},500))},100);export{z as _,ue as a,ye as b,Ue as c,ze as d,ne as e,me as f,pe as g,ce as h,Q as i,Oe as j,re as r};

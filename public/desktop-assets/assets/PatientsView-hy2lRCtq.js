import{c as n,o as s,b as e,r as p,i as L,j as X,m as z,p as k,q as le,e as $,w as g,C as v,t as d,n as h,f as A,z as x,v as N,L as F,T as ne,A as ie,k as de,l as ue,d as G,F as ge,x as pe}from"./vendor-DSQF4Qqk.js";import{_ as K,c as W}from"./desktop-DVVcUSKW.js";import{r as ce}from"./XMarkIcon-CGdjrNmv.js";import{r as U}from"./CheckIcon-CTslkG2W.js";import{r as J}from"./BeakerIcon-mww7xNhk.js";import{C as ve}from"./ConfirmDeleteModal-CmroEYZ0.js";function xe(B,w){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])}function me(B,w){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function ye(B,w){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})])}function be(B,w){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}const fe={class:"flex min-h-full items-center justify-center p-4"},ke={class:"border-b border-gray-200 dark:border-gray-700 px-6 py-4 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20"},he={class:"flex items-center justify-between"},we={class:"flex items-center space-x-3"},_e={class:"w-10 h-10 rounded-lg bg-primary-600 flex items-center justify-center"},Ce={class:"text-xl font-bold text-gray-900 dark:text-white"},Me={class:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},$e={class:"flex items-center justify-center space-x-3"},Ae={class:"flex items-center space-x-2"},Te={key:1},Be={class:"flex items-center space-x-2"},je={key:1},De={class:"flex items-center space-x-2"},Ve={key:1},Le={class:"space-y-2"},Se={class:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Pe={class:"space-y-2"},ze={class:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Fe={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Ee={class:"grid grid-cols-2 gap-4"},Ne={class:"space-y-2"},Oe={class:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Ue={class:"space-y-2"},qe={class:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},He={key:0,class:"p-4 bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800 rounded-lg"},Ie={class:"flex items-center"},Re={class:"ml-2 text-lg font-bold text-primary-700 dark:text-primary-300"},Ze={class:"space-y-2"},Ye={class:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Xe={key:0,class:"flex items-center"},Ge={class:"border-t border-gray-200 dark:border-gray-700 px-6 py-4 bg-gray-50 dark:bg-gray-800/50 flex items-center justify-end space-x-3"},We=["disabled"],Je={key:1,class:"w-5 h-5 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"},Ke={__name:"PatientFormModal",props:{isOpen:{type:Boolean,default:!1},patient:{type:Object,default:null}},emits:["close","saved"],setup(B,{emit:w}){const m=B,T=w,a=p({full_name:"",birth_date:"",blood_group:"",rh_factor:"",status:"ativo"}),_=p(!1),y=L(()=>m.patient!==null),C=L(()=>{if(!a.value.birth_date)return null;const i=new Date(a.value.birth_date),r=new Date;let u=r.getFullYear()-i.getFullYear();const D=r.getMonth()-i.getMonth();return(D<0||D===0&&r.getDate()<i.getDate())&&u--,u}),M=L(()=>a.value.full_name.trim().length>0&&a.value.birth_date.length>0&&a.value.status.length>0);X(()=>m.patient,i=>{i&&(a.value={full_name:i.full_name||"",birth_date:i.birth_date||"",blood_group:i.blood_group||"",rh_factor:i.rh_factor||"",status:i.status||"ativo"})},{immediate:!0}),X(()=>m.isOpen,i=>{i&&!m.patient&&b()});function b(){a.value={full_name:"",birth_date:"",blood_group:"",rh_factor:"",status:"ativo"}}function f(i){return{ativo:"Ativo",inativo:"Inativo",transferido:"Transferido",alta:"Alta Médica",obito:"Óbito"}[i]||i}function j(i){return{ativo:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",inativo:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",transferido:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",alta:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",obito:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}[i]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}async function S(){if(!(!M.value||_.value)){_.value=!0;try{const i={full_name:a.value.full_name.trim(),birth_date:a.value.birth_date,blood_group:a.value.blood_group||null,rh_factor:a.value.rh_factor||null,status:a.value.status,active:a.value.status==="ativo"};await new Promise(r=>setTimeout(r,1e3)),T("saved",{id:y.value?m.patient.id:Date.now(),...i}),b(),T("close")}catch(i){console.error("Error saving patient:",i),alert("Erro ao salvar paciente. Tente novamente.")}finally{_.value=!1}}}function P(){a.value.full_name||a.value.birth_date?confirm("Deseja realmente sair? Os dados não salvos serão perdidos.")&&V():V()}function V(){_.value||(b(),T("close"))}return(i,r)=>(s(),z(ie,{to:"body"},[k(ne,{name:"modal"},{default:le(()=>[B.isOpen?(s(),n("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:g(P,["self"])},[r[24]||(r[24]=e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity"},null,-1)),e("div",fe,[e("div",{class:"relative w-full max-w-2xl bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",onClick:r[5]||(r[5]=g(()=>{},["stop"]))},[e("div",ke,[e("div",he,[e("div",we,[e("div",_e,[k(v(ye),{class:"w-6 h-6 text-white"})]),e("div",null,[e("h2",Ce,d(y.value?"Editar Paciente":"Novo Paciente"),1),r[6]||(r[6]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Preencha as informações básicas do paciente ",-1))])]),e("button",{onClick:V,class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"},[k(v(ce),{class:"w-6 h-6"})])])]),e("div",Me,[e("div",$e,[e("div",Ae,[e("div",{class:h(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all",a.value.full_name?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"])},[a.value.full_name?(s(),z(v(U),{key:0,class:"w-5 h-5"})):(s(),n("span",Te,"1"))],2),r[7]||(r[7]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"Nome",-1))]),e("div",{class:h(["w-12 h-1 rounded-full",a.value.birth_date?"bg-primary-600":"bg-gray-200 dark:bg-gray-700"])},null,2),e("div",Be,[e("div",{class:h(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all",a.value.birth_date?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"])},[a.value.birth_date?(s(),z(v(U),{key:0,class:"w-5 h-5"})):(s(),n("span",je,"2"))],2),r[8]||(r[8]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"Data",-1))]),e("div",{class:h(["w-12 h-1 rounded-full",a.value.blood_group&&a.value.rh_factor?"bg-primary-600":"bg-gray-200 dark:bg-gray-700"])},null,2),e("div",De,[e("div",{class:h(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all",a.value.blood_group&&a.value.rh_factor?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"])},[a.value.blood_group&&a.value.rh_factor?(s(),z(v(U),{key:0,class:"w-5 h-5"})):(s(),n("span",Ve,"3"))],2),r[9]||(r[9]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"Sangue",-1))])])]),e("form",{onSubmit:g(S,["prevent"]),class:"p-6 space-y-5"},[e("div",Le,[e("label",Se,[k(v(be),{class:"w-4 h-4 mr-2 text-primary-600 dark:text-primary-400"}),r[10]||(r[10]=x(" Nome Completo ",-1)),r[11]||(r[11]=e("span",{class:"text-red-500 ml-1"},"*",-1))]),A(e("input",{"onUpdate:modelValue":r[0]||(r[0]=u=>a.value.full_name=u),type:"text",required:"",placeholder:"Digite o nome completo do paciente",class:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white placeholder-gray-400"},null,512),[[N,a.value.full_name]])]),e("div",Pe,[e("label",ze,[k(v(xe),{class:"w-4 h-4 mr-2 text-green-600 dark:text-green-400"}),r[12]||(r[12]=x(" Data de Nascimento ",-1)),r[13]||(r[13]=e("span",{class:"text-red-500 ml-1"},"*",-1))]),A(e("input",{"onUpdate:modelValue":r[1]||(r[1]=u=>a.value.birth_date=u),type:"date",required:"",class:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white"},null,512),[[N,a.value.birth_date]]),C.value?(s(),n("p",Fe," Idade: "+d(C.value)+" anos ",1)):$("",!0)]),e("div",Ee,[e("div",Ne,[e("label",Oe,[k(v(J),{class:"w-4 h-4 mr-2 text-orange-600 dark:text-orange-400"}),r[14]||(r[14]=x(" Tipo Sanguíneo ",-1)),r[15]||(r[15]=e("span",{class:"text-gray-400 text-xs ml-1"},"(opcional)",-1))]),A(e("select",{"onUpdate:modelValue":r[2]||(r[2]=u=>a.value.blood_group=u),class:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white"},[...r[16]||(r[16]=[e("option",{value:""},"Selecione",-1),e("option",{value:"A"},"A",-1),e("option",{value:"B"},"B",-1),e("option",{value:"AB"},"AB",-1),e("option",{value:"O"},"O",-1)])],512),[[F,a.value.blood_group]])]),e("div",Ue,[e("label",qe,[k(v(me),{class:"w-4 h-4 mr-2 text-green-600 dark:text-green-400"}),r[17]||(r[17]=x(" Fator RH ",-1)),r[18]||(r[18]=e("span",{class:"text-gray-400 text-xs ml-1"},"(opcional)",-1))]),A(e("select",{"onUpdate:modelValue":r[3]||(r[3]=u=>a.value.rh_factor=u),class:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white"},[...r[19]||(r[19]=[e("option",{value:""},"Selecione",-1),e("option",{value:"+"},"Positivo (+)",-1),e("option",{value:"-"},"Negativo (-)",-1)])],512),[[F,a.value.rh_factor]])])]),a.value.blood_group&&a.value.rh_factor?(s(),n("div",He,[e("div",Ie,[k(v(J),{class:"w-5 h-5 text-primary-600 dark:text-primary-400 mr-2"}),r[20]||(r[20]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Tipo Sanguíneo Completo:",-1)),e("span",Re,d(a.value.blood_group)+d(a.value.rh_factor),1)])])):$("",!0),e("div",Ze,[e("label",Ye,[k(v(W),{class:"w-4 h-4 mr-2 text-purple-600 dark:text-purple-400"}),r[21]||(r[21]=x(" Status do Paciente ",-1)),r[22]||(r[22]=e("span",{class:"text-red-500 ml-1"},"*",-1))]),A(e("select",{"onUpdate:modelValue":r[4]||(r[4]=u=>a.value.status=u),required:"",class:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white"},[...r[23]||(r[23]=[e("option",{value:""},"Selecione o status",-1),e("option",{value:"ativo"},"Ativo",-1),e("option",{value:"inativo"},"Inativo",-1),e("option",{value:"transferido"},"Transferido",-1),e("option",{value:"alta"},"Alta Médica",-1),e("option",{value:"obito"},"Óbito",-1)])],512),[[F,a.value.status]]),a.value.status?(s(),n("div",Xe,[e("span",{class:h(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",j(a.value.status)])},d(f(a.value.status)),3)])):$("",!0)])],32),e("div",Ge,[e("button",{type:"button",onClick:V,class:"px-5 py-2.5 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium"}," Cancelar "),e("button",{onClick:S,disabled:!M.value||_.value,class:"px-5 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[_.value?(s(),n("div",Je)):(s(),z(v(W),{key:0,class:"w-5 h-5 mr-2"})),x(" "+d(_.value?"Salvando...":y.value?"Atualizar":"Cadastrar"),1)],8,We)])])])])):$("",!0)]),_:1})]))}},Qe=K(Ke,[["__scopeId","data-v-c01ecf43"]]),et={class:"patients-view space-y-6"},tt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},rt={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},at={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},ot={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},st={class:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1"},lt={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},nt={class:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1"},it={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},dt={class:"text-2xl font-bold text-orange-600 dark:text-orange-400 mt-1"},ut={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 overflow-hidden"},gt={key:0,class:"text-center py-12"},pt={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},ct={class:"text-gray-500 dark:text-gray-400 mb-4"},vt={key:1,class:"w-full"},xt={class:"bg-gray-50 dark:bg-gray-800/50"},mt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},yt={class:"flex items-center gap-2"},bt={class:"relative"},ft={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},kt={class:"flex items-center gap-2"},ht={class:"relative"},wt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},_t={class:"flex items-center gap-2"},Ct={class:"relative"},Mt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},$t={class:"flex items-center gap-2"},At={class:"relative"},Tt={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},Bt={class:"divide-y divide-gray-200 dark:divide-gray-700"},jt={class:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white"},Dt={class:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400"},Vt={class:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400"},Lt={class:"px-6 py-4"},St={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"},Pt={key:1,class:"text-sm text-gray-400 dark:text-gray-500"},zt={class:"px-6 py-4"},Ft={class:"px-6 py-4 text-right space-x-2"},Et=["onClick"],Nt=["onClick"],Ot={__name:"PatientsView",setup(B){const w=p(!1),m=p(null),T=p(!1),a=p(null),_=p(null),y=p(""),C=p(""),M=p(""),b=p(""),f=p(null),j=p([]),S=p(!1);async function P(){S.value=!0;try{const o=await fetch("/api/patients?per_page=100&include_inactive=true",{credentials:"include",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok)throw new Error("Erro ao carregar pacientes");const t=await o.json();t.success?j.value=t.patients||[]:(console.error("Erro ao carregar pacientes:",t.message),Y(t.message||"Erro ao carregar pacientes"))}catch(o){console.error("Erro ao carregar pacientes:",o),Y("Erro ao carregar pacientes. Verifique sua conexão.")}finally{S.value=!1}}const V=L(()=>j.value.length),i=L(()=>{let o=j.value;if(y.value){const t=y.value.toLowerCase();o=o.filter(c=>c.full_name.toLowerCase().includes(t))}return C.value&&(o=o.filter(t=>I(t.birth_date).toString().includes(C.value))),M.value&&(o=o.filter(t=>t.blood_type===M.value)),b.value&&(o=o.filter(t=>(t.status||"ativo")===b.value)),o}),r=L(()=>!!(y.value||C.value||M.value||b.value));function u(o){f.value=null}de(()=>{document.addEventListener("click",u),P()}),ue(()=>{document.removeEventListener("click",u)});function D(o){f.value===o?f.value=null:f.value=o}function q(){y.value="",C.value="",M.value="",b.value="",f.value=null}function H(o,t){return j.value.filter(c=>c.blood_group===o&&c.rh_factor===t).length}function Q(o){return{ativo:"Ativo",inativo:"Inativo",transferido:"Transferido",alta:"Alta Médica",obito:"Óbito"}[o]||o}function ee(o){return{ativo:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",inativo:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",transferido:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",alta:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",obito:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}[o]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}function te(o){return o?new Date(o+"T00:00:00").toLocaleDateString("pt-BR"):"N/A"}function I(o){if(!o)return 0;const t=new Date(o+"T00:00:00"),c=new Date;let l=c.getFullYear()-t.getFullYear();const E=c.getMonth()-t.getMonth();return(E<0||E===0&&c.getDate()<t.getDate())&&l--,l}function R(){m.value=null,w.value=!0}function re(o){m.value=o,w.value=!0}function Z(){w.value=!1,m.value=null}async function ae(o){m.value?O("Paciente atualizado com sucesso!"):O("Paciente cadastrado com sucesso!"),Z(),await P()}function oe(o){a.value=o,T.value=!0}async function se(){var o;(o=_.value)==null||o.resetDeletingState(),T.value=!1,O("Paciente excluído com sucesso!"),await P(),a.value=null}function O(o){const t=document.createElement("div");t.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-green-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",t.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
    </svg>
    <span class="font-medium">${o}</span>
  `,document.body.appendChild(t),setTimeout(()=>{t.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>t.remove(),300)},3e3)}function Y(o){const t=document.createElement("div");t.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-red-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",t.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
    </svg>
    <span class="font-medium">${o}</span>
  `,document.body.appendChild(t),setTimeout(()=>{t.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>t.remove(),300)},3e3)}return(o,t)=>{var c;return s(),n("div",et,[e("div",{class:"flex items-center justify-between"},[t[18]||(t[18]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Pacientes"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Gerenciamento de pacientes em tratamento")],-1)),e("button",{onClick:R,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium flex items-center"},[...t[17]||(t[17]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),x(" Novo Paciente ",-1)])])]),e("div",tt,[e("div",rt,[t[19]||(t[19]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total de Pacientes",-1)),e("p",at,d(j.value.length),1)]),e("div",ot,[t[20]||(t[20]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Em Tratamento",-1)),e("p",st,d(V.value),1)]),e("div",lt,[t[21]||(t[21]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tipo A+",-1)),e("p",nt,d(H("A","+")),1)]),e("div",it,[t[22]||(t[22]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tipo O+",-1)),e("p",dt,d(H("O","+")),1)])]),e("div",ut,[i.value.length===0?(s(),n("div",gt,[t[24]||(t[24]=e("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),e("h3",pt,d(r.value?"Nenhum paciente encontrado":"Nenhum paciente cadastrado"),1),e("p",ct,d(r.value?"Tente ajustar os filtros de busca":"Comece cadastrando o primeiro paciente"),1),r.value?(s(),n("button",{key:0,onClick:q,class:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium"},[...t[23]||(t[23]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1),e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),x(" Limpar Filtros ",-1)])])):(s(),n("button",{key:1,onClick:R,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium"}," Cadastrar Primeiro Paciente "))])):(s(),n("table",vt,[e("thead",xt,[e("tr",null,[e("th",mt,[e("div",yt,[t[26]||(t[26]=x(" Nome Completo ",-1)),e("div",bt,[e("button",{onClick:t[0]||(t[0]=g(l=>D("name"),["stop"])),class:h(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":y.value}])},[...t[25]||(t[25]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),f.value==="name"?(s(),n("div",{key:0,onClick:t[3]||(t[3]=g(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[200px]"},[A(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>y.value=l),type:"text",placeholder:"Filtrar nome...",class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:t[2]||(t[2]=g(()=>{},["stop"]))},null,512),[[N,y.value]])])):$("",!0)])])]),t[36]||(t[36]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Data de Nascimento",-1)),e("th",ft,[e("div",kt,[t[28]||(t[28]=x(" Idade ",-1)),e("div",ht,[e("button",{onClick:t[4]||(t[4]=g(l=>D("age"),["stop"])),class:h(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":C.value}])},[...t[27]||(t[27]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),f.value==="age"?(s(),n("div",{key:0,onClick:t[7]||(t[7]=g(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[150px]"},[A(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>C.value=l),type:"text",placeholder:"Filtrar idade...",class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:t[6]||(t[6]=g(()=>{},["stop"]))},null,512),[[N,C.value]])])):$("",!0)])])]),e("th",wt,[e("div",_t,[t[31]||(t[31]=x(" Tipo Sanguíneo ",-1)),e("div",Ct,[e("button",{onClick:t[8]||(t[8]=g(l=>D("bloodType"),["stop"])),class:h(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":M.value}])},[...t[29]||(t[29]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),f.value==="bloodType"?(s(),n("div",{key:0,onClick:t[11]||(t[11]=g(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[150px]"},[A(e("select",{"onUpdate:modelValue":t[9]||(t[9]=l=>M.value=l),class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:t[10]||(t[10]=g(()=>{},["stop"]))},[...t[30]||(t[30]=[G('<option value="" data-v-59b043eb>Todos</option><option value="A+" data-v-59b043eb>A+</option><option value="A-" data-v-59b043eb>A-</option><option value="B+" data-v-59b043eb>B+</option><option value="B-" data-v-59b043eb>B-</option><option value="AB+" data-v-59b043eb>AB+</option><option value="AB-" data-v-59b043eb>AB-</option><option value="O+" data-v-59b043eb>O+</option><option value="O-" data-v-59b043eb>O-</option>',9)])],512),[[F,M.value]])])):$("",!0)])])]),e("th",Mt,[e("div",$t,[t[34]||(t[34]=x(" Status ",-1)),e("div",At,[e("button",{onClick:t[12]||(t[12]=g(l=>D("status"),["stop"])),class:h(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":b.value}])},[...t[32]||(t[32]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),f.value==="status"?(s(),n("div",{key:0,onClick:t[15]||(t[15]=g(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[150px]"},[A(e("select",{"onUpdate:modelValue":t[13]||(t[13]=l=>b.value=l),class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:t[14]||(t[14]=g(()=>{},["stop"]))},[...t[33]||(t[33]=[G('<option value="" data-v-59b043eb>Todos</option><option value="ativo" data-v-59b043eb>Ativo</option><option value="inativo" data-v-59b043eb>Inativo</option><option value="transferido" data-v-59b043eb>Transferido</option><option value="alta" data-v-59b043eb>Alta Médica</option><option value="obito" data-v-59b043eb>Óbito</option>',6)])],512),[[F,b.value]])])):$("",!0)])])]),e("th",Tt,[r.value?(s(),n("button",{key:0,onClick:q,class:"inline-flex items-center gap-1 px-2 py-1 text-xs text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Limpar todos os filtros"},[...t[35]||(t[35]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1),e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):$("",!0)])])]),e("tbody",Bt,[(s(!0),n(ge,null,pe(i.value,l=>(s(),n("tr",{key:l.id,class:"hover:bg-gray-50 dark:hover:bg-gray-800/50"},[e("td",jt,d(l.full_name),1),e("td",Dt,d(te(l.birth_date)),1),e("td",Vt,d(I(l.birth_date))+" anos ",1),e("td",Lt,[l.blood_group&&l.rh_factor?(s(),n("span",St,d(l.blood_group)+d(l.rh_factor),1)):(s(),n("span",Pt,"N/A"))]),e("td",zt,[e("span",{class:h(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",ee(l.status||"ativo")])},d(Q(l.status||"ativo")),3)]),e("td",Ft,[e("button",{onClick:E=>re(l),class:"text-primary-600 dark:text-primary-400 hover:underline text-sm font-medium"}," Editar ",8,Et),e("button",{onClick:E=>oe(l),class:"text-red-600 dark:text-red-400 hover:underline text-sm font-medium"}," Excluir ",8,Nt)])]))),128))])]))]),k(Qe,{"is-open":w.value,patient:m.value,onClose:Z,onSaved:ae},null,8,["is-open","patient"]),k(ve,{"is-open":T.value,title:"Confirmar Exclusão do Paciente",message:"Tem certeza que deseja excluir este paciente? Todos os registros associados serão mantidos.","item-name":(c=a.value)==null?void 0:c.full_name,onClose:t[16]||(t[16]=l=>T.value=!1),onConfirm:se,ref_key:"deleteModalRef",ref:_},null,8,["is-open","item-name"])])}}},Yt=K(Ot,[["__scopeId","data-v-59b043eb"]]);export{Yt as default};

import{r as l,a as M,S as k,e as c,f as n,i as r,l as v,F as S,E,j as T,p as g,H as f,m as p,u,q as x,A as N,G as U}from"./vendor-DC81mliO.js";import{_ as B,k as R,l as V}from"./desktop-B8H4QOhN.js";const j={class:"settings-view space-y-6"},L={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800"},P={class:"border-b border-gray-200 dark:border-gray-800"},z={class:"flex space-x-8 px-6","aria-label":"Tabs"},A=["onClick"],$={key:0,class:"space-y-6"},H={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-6"},I={class:"space-y-4"},q={class:"flex items-center space-x-4"},D={key:1,class:"space-y-6"},F={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-6"},G={class:"space-y-4"},J={class:"flex items-center justify-between py-3 border-b border-gray-200 dark:border-gray-700"},K={class:"relative inline-flex items-center cursor-pointer"},O={class:"flex items-center justify-between py-3 border-b border-gray-200 dark:border-gray-700"},Q={class:"relative inline-flex items-center cursor-pointer"},W={class:"flex items-center justify-between py-3 border-b border-gray-200 dark:border-gray-700"},X={class:"relative inline-flex items-center cursor-pointer"},Y={class:"flex items-center justify-between py-3"},Z={class:"relative inline-flex items-center cursor-pointer"},ee=["disabled"],re={__name:"SettingsView",setup(te){const i=l("general"),d=l("light"),m=l(!1),o=l(!1),h=[{id:"general",label:"Geral",icon:R},{id:"notifications",label:"Notificações",icon:V}],s=l({newChecklists:!0,maintenance:!0,weeklyReports:!1,systemUpdates:!0});M(async()=>{d.value=localStorage.getItem("theme")||"light",await w()});async function w(){try{m.value=!0;const a=await k.get("/api/notification-preferences");if(a.data.success&&a.data.preferences){const e=a.data.preferences;s.value={newChecklists:e.email_new_checklists,maintenance:e.email_maintenance,weeklyReports:e.email_weekly_reports,systemUpdates:e.email_system_updates}}}catch(a){console.error("Erro ao carregar preferências:",a),b("Erro ao carregar preferências de notificação")}finally{m.value=!1}}function y(a){d.value=a,localStorage.setItem("theme",a);const e=document.documentElement;a==="dark"?e.classList.add("dark"):e.classList.remove("dark")}async function _(){var a,e;if(!o.value)try{o.value=!0,(await k.put("/api/notification-preferences",{email_new_checklists:s.value.newChecklists,email_maintenance:s.value.maintenance,email_weekly_reports:s.value.weeklyReports,email_system_updates:s.value.systemUpdates})).data.success&&C("Preferências de notificação salvas com sucesso!")}catch(t){console.error("Erro ao salvar preferências:",t),b(((e=(a=t.response)==null?void 0:a.data)==null?void 0:e.message)||"Erro ao salvar preferências")}finally{o.value=!1}}function C(a){const e=document.createElement("div");e.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-green-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",e.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
    </svg>
    <span class="font-medium">${a}</span>
  `,document.body.appendChild(e),setTimeout(()=>{e.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>e.remove(),300)},3e3)}function b(a){const e=document.createElement("div");e.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-red-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",e.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
    </svg>
    <span class="font-medium">${a}</span>
  `,document.body.appendChild(e),setTimeout(()=>{e.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>e.remove(),300)},3e3)}return(a,e)=>(n(),c("div",j,[r("div",L,[r("div",P,[r("nav",z,[(n(),c(S,null,E(h,t=>r("button",{key:t.id,onClick:ae=>i.value=t.id,class:g(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",[i.value===t.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"]])},[(n(),N(U(t.icon),{class:"w-5 h-5 inline-block mr-2"})),f(" "+x(t.label),1)],10,A)),64))])])]),i.value==="general"?(n(),c("div",$,[r("div",H,[e[10]||(e[10]=r("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Aparência",-1)),r("div",I,[r("div",null,[e[8]||(e[8]=r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"},"Tema",-1)),r("div",q,[r("button",{onClick:e[0]||(e[0]=t=>y("light")),class:g(["flex items-center px-4 py-3 border-2 rounded-lg transition-all",[d.value==="light"?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"]])},[...e[6]||(e[6]=[r("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})],-1),f(" Claro ",-1)])],2),r("button",{onClick:e[1]||(e[1]=t=>y("dark")),class:g(["flex items-center px-4 py-3 border-2 rounded-lg transition-all",[d.value==="dark"?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"]])},[...e[7]||(e[7]=[r("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})],-1),f(" Escuro ",-1)])],2)])]),e[9]||(e[9]=T('<div data-v-d1ba9052><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3" data-v-d1ba9052>Idioma</label><select class="w-full md:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white" data-v-d1ba9052><option value="pt-BR" data-v-d1ba9052>Português (Brasil)</option><option value="en" data-v-d1ba9052>English</option><option value="es" data-v-d1ba9052>Español</option></select></div>',1))])]),e[11]||(e[11]=r("div",{class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-6"},[r("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Unidade Padrão"),r("div",null,[r("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Selecione sua unidade de trabalho padrão "),r("select",{class:"w-full md:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-900 text-gray-900 dark:text-white"},[r("option",null,"Hospital Regional de São Luís"),r("option",null,"UPA Centro"),r("option",null,"Clínica Municipal Norte")])])],-1))])):v("",!0),i.value==="notifications"?(n(),c("div",D,[r("div",F,[e[20]||(e[20]=r("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-4"},"Notificações por Email",-1)),r("div",G,[r("div",J,[e[13]||(e[13]=r("div",null,[r("p",{class:"font-medium text-gray-900 dark:text-white"},"Novos Checklists"),r("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Receber email quando um novo checklist for criado")],-1)),r("label",K,[p(r("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=t=>s.value.newChecklists=t),class:"sr-only peer"},null,512),[[u,s.value.newChecklists]]),e[12]||(e[12]=r("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"},null,-1))])]),r("div",O,[e[15]||(e[15]=r("div",null,[r("p",{class:"font-medium text-gray-900 dark:text-white"},"Manutenção de Máquinas"),r("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Alertas de manutenção preventiva agendada")],-1)),r("label",Q,[p(r("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=t=>s.value.maintenance=t),class:"sr-only peer"},null,512),[[u,s.value.maintenance]]),e[14]||(e[14]=r("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"},null,-1))])]),r("div",W,[e[17]||(e[17]=r("div",null,[r("p",{class:"font-medium text-gray-900 dark:text-white"},"Relatórios Semanais"),r("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Resumo semanal de atividades da unidade")],-1)),r("label",X,[p(r("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=t=>s.value.weeklyReports=t),class:"sr-only peer"},null,512),[[u,s.value.weeklyReports]]),e[16]||(e[16]=r("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"},null,-1))])]),r("div",Y,[e[19]||(e[19]=r("div",null,[r("p",{class:"font-medium text-gray-900 dark:text-white"},"Atualizações do Sistema"),r("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Novidades e melhorias do sistema")],-1)),r("label",Z,[p(r("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=t=>s.value.systemUpdates=t),class:"sr-only peer"},null,512),[[u,s.value.systemUpdates]]),e[18]||(e[18]=r("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-600"},null,-1))])])]),r("button",{onClick:_,disabled:o.value,class:"mt-6 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed"},x(o.value?"Salvando...":"Salvar Preferências"),9,ee)])])):v("",!0)]))}},le=B(re,[["__scopeId","data-v-d1ba9052"]]);export{le as default};

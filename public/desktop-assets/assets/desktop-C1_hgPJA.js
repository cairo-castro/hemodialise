const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DashboardView-BWAO5QDt.js","assets/vendor-BYzl544o.js","assets/vue3-apexcharts-DuPVan1R.js","assets/BeakerIcon-B8PQRxuS.js","assets/SparklesIcon-BQL_fULu.js","assets/DashboardView-Ct1lci9u.css","assets/ChecklistsView-Ds8rR_Fq.js","assets/XMarkIcon-D4Yj9r4i.js","assets/CheckIcon-9UNdXVrk.js","assets/ConfirmDeleteModal-D_a1pSzy.js","assets/ConfirmDeleteModal-DviuWcs_.css","assets/ChecklistsView-C-7913RT.css","assets/MachinesView-BmXRTDXN.js","assets/MachinesView-6MyM28_N.css","assets/PatientsView-363aMkDV.js","assets/PatientsView-DnaWtwlY.css","assets/CleaningChecklistsView-DHxmm88J.js","assets/CleaningChecklistsView-X1StVIYt.css","assets/ReportsView-DcOg8EDR.js","assets/ReportsView-Bx9Qu0II.css","assets/NotificationsView-BaeHflsS.js","assets/NotificationsView-DgE_vwq0.css","assets/ProfileView-Ds8OEHUg.js","assets/ProfileView-CM13h3nV.css","assets/SettingsView-EMccYCpA.js","assets/SettingsView-BEp-jC9U.css","assets/HelpView-DQqf3_vx.js","assets/HelpView-De_byooU.css"])))=>i.map(i=>d[i]);
import{r as x,c as ae,e as a,f as r,i as e,j as se,k as P,l as w,m as J,v as ue,p as C,q as v,s as we,u as _e,x as te,y as R,w as Ce,a as K,z as re,A as Z,B as M,C as F,D as X,F as O,E as U,G as Q,H,T as oe,I as $e,n as ne,J as N,K as Me,L as Ae,M as ge,N as je,O as Le,P as Ee}from"./vendor-BYzl544o.js";let ie=!1;async function Se(){if(!ie)try{await fetch("/sanctum/csrf-cookie",{credentials:"include"}),ie=!0}catch(s){throw console.error("Failed to initialize CSRF cookie:",s),s}}async function q(s,n={}){await Se();const d=Te(),k={Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest",...d&&{"X-XSRF-TOKEN":d},...n.headers},c={...n,headers:k,credentials:"include"};return fetch(s,c)}function Te(){const s=document.cookie.match(/XSRF-TOKEN=([^;]+)/);return s?decodeURIComponent(s[1]):document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||null}const V={get:(s,n={})=>q(s,{...n,method:"GET"}),post:(s,n,d={})=>q(s,{...d,method:"POST",body:JSON.stringify(n)}),put:(s,n,d={})=>q(s,{...d,method:"PUT",body:JSON.stringify(n)}),patch:(s,n,d={})=>q(s,{...d,method:"PATCH",body:JSON.stringify(n)}),delete:(s,n={})=>q(s,{...n,method:"DELETE"})},z=(s,n)=>{const d=s.__vccOpts||s;for(const[k,c]of n)d[k]=c;return d},Be={class:"login-view min-h-screen flex items-center justify-center px-4 bg-white dark:bg-gray-950"},Ve={class:"w-full max-w-sm"},De={key:0,class:"text-xs text-red-600 dark:text-red-400 mt-1.5"},Ie={class:"relative"},Ne=["type"],Pe={key:0,class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Re={key:1,class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Oe={key:0,class:"text-xs text-red-600 dark:text-red-400 mt-1.5"},Ue={class:"flex items-center"},ze={key:0,class:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg"},qe={class:"text-sm text-red-800 dark:text-red-200"},Ze=["disabled"],He={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},Ke={__name:"LoginView",emits:["login-success"],setup(s,{emit:n}){const d=n,k=x(!1),c=x(!1),m=ae({email:"",password:"",remember:!1}),l=ae({email:"",password:"",general:""});async function g(){l.email="",l.password="",l.general="",k.value=!0;try{const f=await V.post("/login",{email:m.email,password:m.password,remember:m.remember}),i=await f.json();f.ok?d("login-success",i.user):i.errors?(l.email=i.errors.email?.[0]||"",l.password=i.errors.password?.[0]||""):l.general=i.message||"Erro ao fazer login. Tente novamente."}catch(f){console.error("Login error:",f),l.general="Erro de conexão. Verifique sua internet e tente novamente."}finally{k.value=!1}}return(f,i)=>(r(),a("div",Be,[e("div",Ve,[i[10]||(i[10]=se('<div class="text-center mb-8" data-v-205ce988><div class="inline-flex items-center justify-center w-12 h-12 bg-blue-600 rounded-xl mb-6" data-v-205ce988><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-205ce988><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" data-v-205ce988></path></svg></div><h1 class="text-2xl font-bold text-gray-900 dark:text-white mb-2" data-v-205ce988>Entrar</h1><p class="text-sm text-gray-600 dark:text-gray-400" data-v-205ce988>Sistema de Gestão de Hemodiálise</p></div>',1)),e("form",{onSubmit:P(g,["prevent"]),class:"space-y-4"},[e("div",null,[i[4]||(i[4]=e("label",{for:"email",class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"}," Email ",-1)),J(e("input",{id:"email","onUpdate:modelValue":i[0]||(i[0]=b=>m.email=b),type:"email",required:"",autocomplete:"email",class:C(["block w-full px-3 py-2 text-sm bg-white dark:bg-gray-900 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-600 dark:focus:ring-blue-500",l.email?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white"]),placeholder:"nome@exemplo.com"},null,2),[[ue,m.email]]),l.email?(r(),a("p",De,v(l.email),1)):w("",!0)]),e("div",null,[i[7]||(i[7]=e("label",{for:"password",class:"block text-sm font-medium text-gray-900 dark:text-white mb-2"}," Senha ",-1)),e("div",Ie,[J(e("input",{id:"password","onUpdate:modelValue":i[1]||(i[1]=b=>m.password=b),type:c.value?"text":"password",required:"",autocomplete:"current-password",class:C(["block w-full px-3 py-2 pr-10 text-sm bg-white dark:bg-gray-900 border rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-600 dark:focus:ring-blue-500",l.password?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white"]),placeholder:"••••••••"},null,10,Ne),[[we,m.password]]),e("button",{type:"button",onClick:i[2]||(i[2]=b=>c.value=!c.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},[c.value?(r(),a("svg",Re,[...i[6]||(i[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"},null,-1)])])):(r(),a("svg",Pe,[...i[5]||(i[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),l.password?(r(),a("p",Oe,v(l.password),1)):w("",!0)]),e("div",Ue,[J(e("input",{id:"remember","onUpdate:modelValue":i[3]||(i[3]=b=>m.remember=b),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-600 border-gray-300 dark:border-gray-600 rounded"},null,512),[[_e,m.remember]]),i[8]||(i[8]=e("label",{for:"remember",class:"ml-2 block text-sm text-gray-700 dark:text-gray-300"}," Lembrar-me ",-1))]),l.general?(r(),a("div",ze,[e("p",qe,v(l.general),1)])):w("",!0),e("button",{type:"submit",disabled:k.value,class:"w-full flex items-center justify-center bg-blue-600 hover:bg-blue-700 text-white font-medium py-2.5 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[k.value?(r(),a("svg",He,[...i[9]||(i[9]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):w("",!0),e("span",null,v(k.value?"Entrando...":"Entrar"),1)],8,Ze)],32),i[11]||(i[11]=se('<div class="mt-8 text-center space-y-3" data-v-205ce988><div class="flex items-center justify-center gap-3 text-xs text-gray-600 dark:text-gray-400" data-v-205ce988><a href="/mobile" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors" data-v-205ce988> Acesso Móvel </a><span data-v-205ce988>•</span><a href="/admin" class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors" data-v-205ce988> Painel Admin </a></div><p class="text-xs text-gray-500 dark:text-gray-500" data-v-205ce988> © 2025 Sistema de Hemodiálise </p></div>',1))])]))}},Fe=z(Ke,[["__scopeId","data-v-205ce988"]]);function pe(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"})])}function ee(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function Ge(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function Xe(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Je(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function W(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"})])}function me(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function he(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"})])}function We(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function ke(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function le(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function de(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function Qe(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function ve(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})])}function Ye(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"})])}function ye(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})])}function fe(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function xe(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}function et(s,n){return r(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}const tt={class:"flex min-h-full items-start justify-center p-4 pt-20"},rt={class:"flex items-center border-b border-gray-200 dark:border-gray-700 px-4 py-3"},ot=["onKeydown"],at={class:"max-h-96 overflow-y-auto p-2"},st={key:0,class:"px-4 py-8 text-center text-gray-500 dark:text-gray-400"},nt={key:1},it={class:"px-3 py-2 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},lt={class:"space-y-1"},dt=["onClick","onMouseenter"],ct={class:"flex-1 min-w-0"},ut={class:"text-sm font-medium"},gt={key:0,class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},pt={key:0,class:"hidden sm:inline-block ml-3 px-2 py-1 text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded"},mt={__name:"CommandPalette",emits:["toggle-theme","logout"],setup(s,{expose:n,emit:d}){const k=d,c=te(),m=x(!1),l=x(""),g=x(0),f=x(null),i=x({}),b=[{id:"nav-dashboard",category:"Navegação",label:"Dashboard",description:"Ir para página inicial",icon:ke,action:()=>c.push("/desktop")},{id:"nav-checklists",category:"Navegação",label:"Checklists",description:"Ver checklists de segurança",icon:W,action:()=>c.push("/desktop/checklists")},{id:"nav-machines",category:"Navegação",label:"Máquinas",description:"Gerenciar máquinas",icon:he,action:()=>c.push("/desktop/machines")},{id:"nav-patients",category:"Navegação",label:"Pacientes",description:"Gerenciar pacientes",icon:xe,action:()=>c.push("/desktop/patients")},{id:"nav-profile",category:"Navegação",label:"Meu Perfil",description:"Ver e editar meu perfil",icon:fe,action:()=>c.push("/desktop/profile")},{id:"nav-settings",category:"Navegação",label:"Configurações",description:"Configurações do sistema",icon:me,action:()=>c.push("/desktop/settings")},{id:"nav-help",category:"Navegação",label:"Ajuda e Suporte",description:"Central de ajuda e FAQs",icon:de,action:()=>c.push("/desktop/help")},{id:"action-search",category:"Ações",label:"Buscar",description:"Buscar em todo sistema",icon:de,shortcut:"⌘K",action:()=>{}},{id:"action-notifications",category:"Ações",label:"Notificações",description:"Ver notificações",icon:ee,action:()=>{}},{id:"action-theme-light",category:"Ações",label:"Tema Claro",description:"Ativar tema claro",icon:ye,action:()=>k("toggle-theme","light")},{id:"action-theme-dark",category:"Ações",label:"Tema Escuro",description:"Ativar tema escuro",icon:ve,action:()=>k("toggle-theme","dark")},{id:"action-logout",category:"Ações",label:"Sair",description:"Sair do sistema",icon:pe,action:()=>k("logout")}],j=R(()=>{if(!l.value)return b;const t=l.value.toLowerCase();return b.filter(u=>u.label.toLowerCase().includes(t)||u.description?.toLowerCase().includes(t)||u.category.toLowerCase().includes(t))}),_=R(()=>{const t={};return j.value.forEach(u=>{t[u.category]||(t[u.category]={category:u.category,commands:[]}),t[u.category].commands.push(u)}),Object.values(t)});function S(t,u){let p=0;for(const E of _.value){if(E.category===t)return p+u;p+=E.commands.length}return 0}function T(t){let u=0;for(const p of _.value){if(t<u+p.commands.length)return p.commands[t-u];u+=p.commands.length}return null}function $(){g.value=Math.min(g.value+1,j.value.length-1),A()}function L(){g.value=Math.max(g.value-1,0),A()}function A(){ne(()=>{const t=T(g.value);t&&i.value[t.id]&&i.value[t.id].scrollIntoView({block:"nearest",behavior:"smooth"})})}function D(){const t=T(g.value);t&&I(t)}function I(t){t.action(),y()}function h(){m.value=!0,g.value=0,l.value="",ne(()=>{f.value?.focus()})}function y(){m.value=!1,l.value=""}function o(t){(t.metaKey||t.ctrlKey)&&t.key==="k"&&(t.preventDefault(),m.value?y():h())}return Ce(l,()=>{g.value=0}),K(()=>{window.addEventListener("keydown",o)}),re(()=>{window.removeEventListener("keydown",o)}),n({open:h,close:y,isOpen:m}),(t,u)=>(r(),Z($e,{to:"body"},[M(oe,{name:"modal"},{default:F(()=>[m.value?(r(),a("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:P(y,["self"])},[u[6]||(u[6]=e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity"},null,-1)),e("div",tt,[e("div",{class:"relative w-full max-w-2xl bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",onClick:u[1]||(u[1]=P(()=>{},["stop"]))},[e("div",rt,[u[2]||(u[2]=e("svg",{class:"w-5 h-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),J(e("input",{ref_key:"searchInput",ref:f,"onUpdate:modelValue":u[0]||(u[0]=p=>l.value=p),type:"text",class:"flex-1 bg-transparent border-none outline-none text-gray-900 dark:text-white placeholder-gray-400 text-base",placeholder:"Buscar ou executar comando...",onKeydown:[X(P($,["prevent"]),["down"]),X(P(L,["prevent"]),["up"]),X(P(D,["prevent"]),["enter"]),X(y,["esc"])]},null,40,ot),[[ue,l.value]]),u[3]||(u[3]=e("kbd",{class:"hidden sm:inline-block px-2 py-1 text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded"}," ESC ",-1))]),e("div",at,[j.value.length===0?(r(),a("div",st,[...u[4]||(u[4]=[e("svg",{class:"w-12 h-12 mx-auto mb-3 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("p",{class:"text-sm"},"Nenhum resultado encontrado",-1)])])):(r(),a("div",nt,[(r(!0),a(O,null,U(_.value,p=>(r(),a("div",{key:p.category,class:"mb-4"},[e("div",it,v(p.category),1),e("div",lt,[(r(!0),a(O,null,U(p.commands,(E,Y)=>(r(),a("button",{key:E.id,ref_for:!0,ref:G=>{G&&(i.value[E.id]=G)},class:C(["w-full flex items-center px-3 py-2.5 rounded-lg text-left transition-colors",[g.value===S(p.category,Y)?"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"]]),onClick:G=>I(E),onMouseenter:G=>g.value=S(p.category,Y)},[(r(),Z(Q(E.icon),{class:C(["w-5 h-5 mr-3 flex-shrink-0",g.value===S(p.category,Y)?"text-primary-600 dark:text-primary-400":"text-gray-400"])},null,8,["class"])),e("div",ct,[e("div",ut,v(E.label),1),E.description?(r(),a("div",gt,v(E.description),1)):w("",!0)]),E.shortcut?(r(),a("kbd",pt,v(E.shortcut),1)):w("",!0)],42,dt))),128))])]))),128))]))]),u[5]||(u[5]=e("div",{class:"border-t border-gray-200 dark:border-gray-700 px-4 py-3 bg-gray-50 dark:bg-gray-800/50"},[e("div",{class:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400"},[e("div",{class:"flex items-center space-x-4"},[e("span",{class:"flex items-center"},[e("kbd",{class:"px-2 py-1 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded mr-1"},"↑"),e("kbd",{class:"px-2 py-1 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded mr-2"},"↓"),H(" navegar ")]),e("span",{class:"flex items-center"},[e("kbd",{class:"px-2 py-1 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded mr-2"},"↵"),H(" selecionar ")])])])],-1))])])])):w("",!0)]),_:1})]))}},ht=z(mt,[["__scopeId","data-v-97aff486"]]),kt={key:0,class:"absolute -top-1 -right-1 flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-red-500 rounded-full ring-2 ring-white dark:ring-gray-950"},vt={key:0,class:"absolute right-0 mt-2 w-96 bg-white dark:bg-gray-900 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden z-50"},yt={class:"flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"},ft={class:"text-xs text-gray-500 dark:text-gray-400 mt-0.5"},xt={class:"max-h-96 overflow-y-auto"},bt={key:0,class:"px-4 py-12 text-center"},wt={key:1},_t=["onClick"],Ct={class:"flex-1 min-w-0"},$t={class:"text-sm font-medium text-gray-900 dark:text-white"},Mt={class:"text-xs text-gray-600 dark:text-gray-400 mt-1 line-clamp-2"},At={class:"text-xs text-gray-500 dark:text-gray-500 mt-2"},jt={key:0,class:"flex-shrink-0 ml-3"},Lt=3e4,Et={__name:"NotificationsDropdown",setup(s){const n=x(!1),d=x(null),k=x([]),c=x(0),m=x(null),l=x(null),g=x(!1);async function f(){try{g.value=!0;const h=await V.get("/api/notifications?per_page=10");if(h.ok){const y=await h.json();y.notifications&&Array.isArray(y.notifications)?k.value=y.notifications.map(o=>({...o,created_at:new Date(o.created_at),read:!!o.read_at})):k.value=[],c.value=y.unread_count||0,m.value=new Date().toISOString()}}catch(h){console.error("Error loading notifications:",h)}finally{g.value=!1}}async function i(){try{const h=new URLSearchParams;m.value&&h.append("last_check",m.value);const y=await V.get(`/api/notifications/poll?${h}`);if(y.ok){const o=await y.json();if(o.notifications&&Array.isArray(o.notifications)&&o.notifications.length>0){const t=o.notifications.map(u=>({...u,created_at:new Date(u.created_at),read:!!u.read_at}));k.value=[...t,...k.value].slice(0,20)}c.value=o.unread_count||0,m.value=o.timestamp||new Date().toISOString()}}catch(h){console.error("Error polling notifications:",h)}}function b(){i(),l.value=setInterval(()=>{i()},Lt)}function j(){l.value&&(clearInterval(l.value),l.value=null)}function _(){n.value=!n.value,n.value&&f()}async function S(h){try{await V.post(`/api/notifications/${h.id}/mark-read`),h.read=!0,c.value=Math.max(0,c.value-1),h.action_url&&(window.location.href=h.action_url)}catch(y){console.error("Error marking notification as read:",y)}}async function T(){try{(await V.post("/api/notifications/mark-all-read")).ok&&(k.value.forEach(y=>{y.read=!0}),c.value=0)}catch(h){console.error("Error marking all as read:",h)}}function $(){n.value=!1,window.location.href="/desktop/notifications"}function L(h){return{success:Xe,warning:We,error:et,info:le,checklist:W}[h]||le}function A(h){return{success:"bg-green-500",warning:"bg-yellow-500",error:"bg-red-500",info:"bg-blue-500",checklist:"bg-purple-500"}[h]||"bg-gray-500"}function D(h){const o=Math.floor((new Date-h)/1e3);return o<60?"Agora":o<3600?`${Math.floor(o/60)}m atrás`:o<86400?`${Math.floor(o/3600)}h atrás`:o<604800?`${Math.floor(o/86400)}d atrás`:h.toLocaleDateString("pt-BR")}function I(h){d.value&&!d.value.contains(h.target)&&(n.value=!1)}return K(()=>{document.addEventListener("click",I),f(),b()}),re(()=>{document.removeEventListener("click",I),j()}),(h,y)=>(r(),a("div",{class:"relative",ref_key:"dropdownRef",ref:d},[e("button",{onClick:_,class:C(["relative p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",{"bg-gray-100 dark:bg-gray-800":n.value}]),title:"Notificações"},[M(N(ee),{class:"w-5 h-5"}),c.value>0?(r(),a("span",kt,v(c.value>9?"9+":c.value),1)):w("",!0)],2),M(oe,{name:"dropdown"},{default:F(()=>[n.value?(r(),a("div",vt,[e("div",yt,[e("div",null,[y[0]||(y[0]=e("h3",{class:"text-sm font-semibold text-gray-900 dark:text-white"},"Notificações",-1)),e("p",ft,v(c.value>0?`${c.value} não ${c.value===1?"lida":"lidas"}`:"Nenhuma notificação nova"),1)]),c.value>0?(r(),a("button",{key:0,onClick:T,class:"text-xs font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors"}," Marcar todas como lidas ")):w("",!0)]),e("div",xt,[k.value.length===0?(r(),a("div",bt,[M(N(ee),{class:"w-12 h-12 mx-auto text-gray-300 dark:text-gray-600 mb-3"}),y[1]||(y[1]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Nenhuma notificação",-1))])):(r(),a("div",wt,[(r(!0),a(O,null,U(k.value,o=>(r(),a("div",{key:o.id,class:C(["notification-item flex items-start px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer border-l-4",[o.read?"border-transparent":"border-primary-500 bg-primary-50/50 dark:bg-primary-900/10"]]),onClick:t=>S(o)},[e("div",{class:C(["flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center mr-3",A(o.type)])},[(r(),Z(Q(L(o.type)),{class:"w-5 h-5 text-white"}))],2),e("div",Ct,[e("p",$t,v(o.title),1),e("p",Mt,v(o.message),1),e("p",At,v(D(o.created_at)),1)]),o.read?w("",!0):(r(),a("div",jt,[...y[2]||(y[2]=[e("div",{class:"w-2 h-2 bg-primary-500 rounded-full"},null,-1)])]))],10,_t))),128))]))]),e("div",{class:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"},[e("button",{class:"w-full text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",onClick:$}," Ver todas as notificações ")])])):w("",!0)]),_:1})],512))}},St=z(Et,[["__scopeId","data-v-b9a34002"]]),Tt={class:"w-8 h-8 rounded-full bg-primary-600 flex items-center justify-center text-white text-sm font-semibold ring-2 ring-primary-100 dark:ring-primary-900"},Bt={class:"hidden md:block text-left"},Vt={class:"text-sm font-medium text-gray-900 dark:text-white truncate max-w-32"},Dt={class:"text-xs text-gray-500 dark:text-gray-400 truncate max-w-32"},It={key:0,class:"absolute right-0 mt-2 w-64 bg-white dark:bg-gray-900 rounded-xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden z-50"},Nt={class:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"},Pt={class:"flex items-center space-x-3"},Rt={class:"w-10 h-10 rounded-full bg-primary-600 flex items-center justify-center text-white text-base font-semibold"},Ot={class:"flex-1 min-w-0"},Ut={class:"text-sm font-semibold text-gray-900 dark:text-white truncate"},zt={class:"text-xs text-gray-500 dark:text-gray-400 truncate"},qt={key:0,class:"mt-2 flex items-center text-xs text-gray-600 dark:text-gray-400"},Zt={class:"py-2"},Ht=["onClick"],Kt={class:"flex-1 text-left"},Ft={key:0,class:"hidden lg:inline-block px-2 py-0.5 text-xs font-semibold text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded"},Gt={class:"px-4 py-2 border-t border-gray-200 dark:border-gray-700"},Xt={class:"flex items-center justify-between"},Jt={class:"flex items-center space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1"},Wt={class:"p-2 border-t border-gray-200 dark:border-gray-700"},Qt={__name:"UserMenuDropdown",props:{user:{type:Object,default:()=>({name:"Usuário",email:"usuario@example.com",role:"user"})},theme:{type:String,default:"light"}},emits:["logout","theme-change"],setup(s,{emit:n}){const d=s,k=n,c=te(),m=x(!1),l=x(null),g=[{id:"profile",label:"Meu Perfil",icon:fe,action:()=>c.push("/desktop/profile")},{id:"settings",label:"Configurações",icon:me,action:()=>c.push("/desktop/settings"),shortcut:"⌘,"},{id:"help",label:"Ajuda & Suporte",icon:Ye,action:()=>c.push("/desktop/help")}],f=R(()=>d.user?.name?d.user.name.split(" ").map($=>$[0]).join("").toUpperCase().slice(0,2):"U");function i($){return{admin:"Administrador",manager:"Gerente",field_user:"Usuário de Campo"}[$]||"Usuário"}function b(){m.value=!m.value}function j($){m.value=!1,$.action()}function _($){k("theme-change",$)}function S(){m.value=!1,k("logout")}function T($){l.value&&!l.value.contains($.target)&&(m.value=!1)}return K(()=>{document.addEventListener("click",T)}),re(()=>{document.removeEventListener("click",T)}),($,L)=>(r(),a("div",{class:"relative",ref_key:"dropdownRef",ref:l},[e("button",{onClick:b,class:C(["flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",{"bg-gray-100 dark:bg-gray-800":m.value}])},[e("div",Tt,v(f.value),1),e("div",Bt,[e("p",Vt,v(s.user?.name||"Usuário"),1),e("p",Dt,v(i(s.user?.role)),1)]),M(N(Je),{class:C(["hidden md:block w-4 h-4 text-gray-400 transition-transform",{"rotate-180":m.value}])},null,8,["class"])],2),M(oe,{name:"dropdown"},{default:F(()=>[m.value?(r(),a("div",It,[e("div",Nt,[e("div",Pt,[e("div",Rt,v(f.value),1),e("div",Ot,[e("p",Ut,v(s.user?.name||"Usuário"),1),e("p",zt,v(s.user?.email),1)])]),s.user?.unit?(r(),a("div",qt,[M(N(Qe),{class:"w-3 h-3 mr-1"}),H(" "+v(s.user.unit.name),1)])):w("",!0)]),e("div",Zt,[(r(),a(O,null,U(g,A=>e("button",{key:A.id,onClick:D=>j(A),class:"w-full flex items-center px-4 py-2.5 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"},[(r(),Z(Q(A.icon),{class:"w-5 h-5 mr-3 text-gray-400"})),e("span",Kt,v(A.label),1),A.shortcut?(r(),a("kbd",Ft,v(A.shortcut),1)):w("",!0)],8,Ht)),64))]),e("div",Gt,[e("div",Xt,[L[2]||(L[2]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Tema",-1)),e("div",Jt,[e("button",{onClick:L[0]||(L[0]=A=>_("light")),class:C(["p-1.5 rounded transition-colors",s.theme==="light"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400"]),title:"Tema claro"},[M(N(ye),{class:"w-4 h-4"})],2),e("button",{onClick:L[1]||(L[1]=A=>_("dark")),class:C(["p-1.5 rounded transition-colors",s.theme==="dark"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400"]),title:"Tema escuro"},[M(N(ve),{class:"w-4 h-4"})],2)])])]),e("div",Wt,[e("button",{onClick:S,class:"w-full flex items-center px-4 py-2.5 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors"},[M(N(pe),{class:"w-5 h-5 mr-3"}),L[3]||(L[3]=H(" Sair do Sistema ",-1))])])])):w("",!0)]),_:1})],512))}},Yt=z(Qt,[["__scopeId","data-v-9c4fcfae"]]),er={class:"desktop-layout flex h-screen bg-gray-50 dark:bg-gray-900"},tr={class:"p-4 border-b border-gray-200 dark:border-gray-800 space-y-3"},rr={key:0,class:"font-semibold text-gray-900 dark:text-white"},or={key:0,class:"px-1"},ar={key:0,class:"flex items-center px-3 py-2 bg-gray-50 dark:bg-gray-800 rounded-lg"},sr={class:"text-xs text-gray-600 dark:text-gray-300 truncate font-medium"},nr={key:1,class:"relative"},ir={class:"flex items-center min-w-0 flex-1"},lr={class:"text-gray-700 dark:text-gray-300 font-medium truncate"},dr={key:0,class:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 max-h-48 overflow-y-auto"},cr=["onClick"],ur={key:0,class:"w-3 h-3 text-primary-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},gr=["title"],pr={class:"flex-1 px-3 py-4 space-y-1 overflow-y-auto"},mr={key:0,class:"truncate"},hr={key:1,class:"ml-auto inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800 dark:bg-primary-900/50 dark:text-primary-300"},kr={key:2,class:"absolute left-full ml-2 px-3 py-2 bg-gray-900 dark:bg-gray-800 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity duration-200 whitespace-nowrap z-50 shadow-lg"},vr={key:0,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-primary-500 text-white"},yr={class:"border-t border-gray-200 dark:border-gray-800 p-3"},fr={class:"flex-1 flex flex-col overflow-hidden"},xr={class:"bg-white dark:bg-gray-950 border-b border-gray-200 dark:border-gray-800 px-6 py-4"},br={class:"flex items-center justify-between"},wr={class:"flex items-center space-x-4"},_r={class:"text-2xl font-bold text-gray-900 dark:text-white"},Cr={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},$r={class:"flex items-center space-x-2"},Mr={class:"flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900 p-6"},Ar={__name:"DesktopLayout",setup(s){const n=Ae(),d=x(!1),k=x("light"),c=x({name:"Usuário",email:"usuario@hemodialise.ma.gov.br",role:"user"}),m=x(null),l=x([]),g=x(null),f=x(null),i=x(!1),b=[{name:"dashboard",path:"/desktop",label:"Dashboard",icon:ke},{name:"checklists",path:"/desktop/checklists",label:"Checklists de Segurança",icon:W,badge:4},{name:"cleaning-checklists",path:"/desktop/cleaning-checklists",label:"Checklist de Limpeza",icon:W},{name:"machines",path:"/desktop/machines",label:"Máquinas",icon:he},{name:"patients",path:"/desktop/patients",label:"Pacientes",icon:xe},{name:"reports",path:"/desktop/reports",label:"Relatórios",icon:Ge}],j=R(()=>b.find(t=>t.path===n.path)?.label||"Dashboard"),_=R(()=>({"/desktop":"Visão geral do sistema","/desktop/checklists":"Checklists de segurança","/desktop/cleaning-checklists":"Controle de limpeza e desinfecção","/desktop/machines":"Gerenciamento de máquinas","/desktop/patients":"Cadastro de pacientes","/desktop/reports":"Análises detalhadas e comparações de desempenho","/desktop/notifications":"Central de avisos e atualizações","/desktop/profile":"Gerenciar informações pessoais","/desktop/settings":"Configurações do sistema","/desktop/help":"Central de ajuda e suporte"})[n.path]||"");R(()=>c.value?.name?c.value.name.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2):"U"),K(async()=>{const o=localStorage.getItem("theme")||"light";k.value=o,I(o),await T(),await S()});async function S(){try{const o=await V.get("/api/me");if(o.ok){const t=await o.json();c.value=t.user||c.value}}catch(o){console.error("Error loading user data:",o)}}async function T(){try{const o=await V.get("/api/user-units");if(!o.ok){console.warn("Failed to load units:",o.status);return}const t=await o.json();if(t.success){l.value=t.units||[];const u=t.current_unit_id;u?(g.value=t.units.find(p=>p.id===u),f.value=u):t.units.length===1?(await $(t.units[0].id),g.value=t.units[0],f.value=t.units[0].id):t.units.length>0&&(g.value=t.units[0],f.value=t.units[0].id),console.log("Units loaded (desktop):",{total:l.value.length,current:g.value?.name,currentId:f.value})}}catch(o){console.error("Error loading available units:",o)}}async function $(o){if(i.value=!1,o!==f.value)try{console.log("[DesktopLayout] Switching unit:",o);const t=await V.post("/api/user-units/switch",{unit_id:o});if(!t.ok){const p=await t.text();throw console.error("[DesktopLayout] Switch unit failed:",t.status,p),new Error(`Failed to switch unit: ${t.status}`)}const u=await t.json();console.log("[DesktopLayout] Switch unit response:",u),u.success&&(g.value=u.current_unit,f.value=o,window.location.reload())}catch(t){console.error("[DesktopLayout] Error switching unit:",t),f.value=g.value?.id}}function L(){d.value=!d.value}function A(o){k.value=o,localStorage.setItem("theme",o),I(o),console.log("Theme changed to:",o)}function D(){m.value?.open()}function I(o){const t=document.documentElement;o==="dark"?t.classList.add("dark"):t.classList.remove("dark")}function h(o){return n.path===o||o!=="/desktop"&&n.path.startsWith(o)}async function y(){try{console.log("[DesktopLayout] Logging out...");const o=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");await fetch("/logout",{method:"POST",headers:{"X-CSRF-TOKEN":o,Accept:"application/json","Content-Type":"application/json"},credentials:"include"}),console.log("[DesktopLayout] Logout successful, redirecting..."),window.location.href="/desktop"}catch(o){console.error("[DesktopLayout] Logout error:",o),window.location.href="/desktop"}}return(o,t)=>{const u=ge("router-link");return r(),a("div",er,[e("aside",{class:C(["sidebar bg-white dark:bg-gray-950 border-r border-gray-200 dark:border-gray-800 transition-all duration-300 flex flex-col",d.value?"w-16":"w-64"])},[e("div",tr,[e("div",{class:C(["flex items-center",d.value?"justify-center":"space-x-3"])},[t[1]||(t[1]=e("img",{src:"/hemodialise_logo.png",alt:"Logo",class:"w-8 h-8"},null,-1)),d.value?w("",!0):(r(),a("span",rr,"Hemodiálise"))],2),!d.value&&l.value.length>0?(r(),a("div",or,[l.value.length<=1?(r(),a("div",ar,[t[2]||(t[2]=e("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),e("span",sr,v(g.value?.name||"Carregando..."),1)])):(r(),a("div",nr,[e("button",{onClick:t[0]||(t[0]=p=>i.value=!i.value),class:"w-full flex items-center justify-between px-3 py-2 text-xs bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-300 dark:hover:border-primary-700 transition-colors"},[e("div",ir,[t[3]||(t[3]=e("svg",{class:"w-4 h-4 text-primary-500 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),e("span",lr,v(g.value?.name),1)]),(r(),a("svg",{class:C(["w-4 h-4 text-gray-400 dark:text-gray-500 ml-2 flex-shrink-0 transition-transform",{"rotate-180":i.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[4]||(t[4]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),i.value?(r(),a("div",dr,[(r(!0),a(O,null,U(l.value,p=>(r(),a("button",{key:p.id,onClick:E=>$(p.id),class:C(["w-full px-3 py-2 text-left text-xs hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors flex items-center",{"bg-primary-50 dark:bg-primary-900/20 text-primary-700 dark:text-primary-400 font-medium":p.id===f.value}])},[p.id===f.value?(r(),a("svg",ur,[...t[5]||(t[5]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)])])):w("",!0),e("span",{class:C(["flex-1 truncate",{"ml-5":p.id!==f.value}])},v(p.name),3)],10,cr))),128))])):w("",!0)]))])):d.value&&g.value?(r(),a("div",{key:1,class:"flex justify-center",title:g.value.name},[...t[6]||(t[6]=[e("div",{class:"w-2 h-2 rounded-full bg-primary-500"},null,-1)])],8,gr)):w("",!0)]),e("nav",pr,[(r(),a(O,null,U(b,p=>M(u,{key:p.name,to:p.path,class:C(["nav-item flex items-center text-sm font-medium rounded-lg transition-all duration-200 relative group",[d.value?"justify-center p-3":"px-3 py-2.5",{"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":h(p.path),"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800":!h(p.path)}]]),title:d.value?p.label:""},{default:F(()=>[(r(),Z(Q(p.icon),{class:C(["w-5 h-5 flex-shrink-0",d.value?"":"mr-3"])},null,8,["class"])),d.value?w("",!0):(r(),a("span",mr,v(p.label),1)),p.badge&&!d.value?(r(),a("span",hr,v(p.badge),1)):w("",!0),d.value?(r(),a("div",kr,[H(v(p.label)+" ",1),p.badge?(r(),a("span",vr,v(p.badge),1)):w("",!0)])):w("",!0)]),_:2},1032,["to","class","title"])),64))]),e("div",yr,[d.value?(r(),a("button",{key:0,onClick:D,class:"w-full p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",title:"Buscar (⌘K)"},[...t[7]||(t[7]=[e("svg",{class:"w-5 h-5 mx-auto text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])])):w("",!0)])],2),e("div",fr,[e("header",xr,[e("div",br,[e("div",wr,[e("button",{onClick:L,class:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",title:"Toggle Sidebar"},[...t[8]||(t[8]=[e("svg",{class:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),e("div",null,[e("h1",_r,v(j.value),1),e("p",Cr,v(_.value),1)])]),e("div",$r,[e("button",{onClick:D,class:"hidden lg:flex items-center space-x-2 px-3 py-1.5 text-sm text-gray-600 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors border border-gray-200 dark:border-gray-700",title:"Buscar (⌘K)"},[...t[9]||(t[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),e("span",null,"Buscar...",-1),e("kbd",{class:"px-2 py-0.5 text-xs font-semibold text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded"}," ⌘K ",-1)])]),e("button",{onClick:D,class:"lg:hidden p-2 text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Buscar"},[...t[10]||(t[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])]),M(St),M(Yt,{user:c.value,theme:k.value,onLogout:y,onThemeChange:A},null,8,["user","theme"])])])]),e("main",Mr,[Me(o.$slots,"default",{},void 0)])]),M(ht,{ref_key:"commandPaletteRef",ref:m,onToggleTheme:A,onLogout:y},null,512)])}}},jr=z(Ar,[["__scopeId","data-v-d871b914"]]),Lr={class:"desktop-app h-screen bg-gray-50 dark:bg-gray-900 antialiased"},Er={key:0,class:"auth-container"},Sr={key:1,class:"main-container h-full"},Tr={__name:"DesktopApp",setup(s){const n=te(),d=x(!1),k=x(null);K(async()=>{await c()});async function c(){try{const l=await V.get("/api/me");if(l.ok){const g=await l.json();k.value=g.user,d.value=!0}else d.value=!1}catch(l){console.error("Auth check failed:",l),d.value=!1}}function m(l){k.value=l,d.value=!0,n.push("/desktop")}return(l,g)=>{const f=ge("router-view");return r(),a("div",Lr,[d.value?(r(),a("div",Sr,[M(jr,null,{default:F(()=>[M(f)]),_:1})])):(r(),a("div",Er,[M(Fe,{onLoginSuccess:m})]))])}}},Br=z(Tr,[["__scopeId","data-v-731f124a"]]),Vr="modulepreload",Dr=function(s){return"/desktop-assets/"+s},ce={},B=function(n,d,k){let c=Promise.resolve();if(d&&d.length>0){let f=function(i){return Promise.all(i.map(b=>Promise.resolve(b).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),g=l?.nonce||l?.getAttribute("nonce");c=f(d.map(i=>{if(i=Dr(i),i in ce)return;ce[i]=!0;const b=i.endsWith(".css"),j=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${j}`))return;const _=document.createElement("link");if(_.rel=b?"stylesheet":Vr,b||(_.as="script"),_.crossOrigin="",_.href=i,g&&_.setAttribute("nonce",g),document.head.appendChild(_),b)return new Promise((S,T)=>{_.addEventListener("load",S),_.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${i}`)))})}))}function m(l){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=l,window.dispatchEvent(g),!g.defaultPrevented)throw l}return c.then(l=>{for(const g of l||[])g.status==="rejected"&&m(g.reason);return n().catch(m)})},Ir=[{path:"/desktop",name:"desktop.home",component:()=>B(()=>import("./DashboardView-BWAO5QDt.js"),__vite__mapDeps([0,1,2,3,4,5])),meta:{requiresAuth:!0}},{path:"/desktop/checklists",name:"desktop.checklists",component:()=>B(()=>import("./ChecklistsView-Ds8rR_Fq.js"),__vite__mapDeps([6,1,7,8,9,10,11])),meta:{requiresAuth:!0}},{path:"/desktop/machines",name:"desktop.machines",component:()=>B(()=>import("./MachinesView-BmXRTDXN.js"),__vite__mapDeps([12,1,7,8,9,10,13])),meta:{requiresAuth:!0}},{path:"/desktop/patients",name:"desktop.patients",component:()=>B(()=>import("./PatientsView-363aMkDV.js"),__vite__mapDeps([14,1,7,8,3,9,10,15])),meta:{requiresAuth:!0}},{path:"/desktop/cleaning-checklists",name:"desktop.cleaning-checklists",component:()=>B(()=>import("./CleaningChecklistsView-DHxmm88J.js"),__vite__mapDeps([16,1,9,10,17])),meta:{requiresAuth:!0}},{path:"/desktop/reports",name:"desktop.reports",component:()=>B(()=>import("./ReportsView-DcOg8EDR.js"),__vite__mapDeps([18,1,2,8,4,3,19])),meta:{requiresAuth:!0}},{path:"/desktop/notifications",name:"desktop.notifications",component:()=>B(()=>import("./NotificationsView-BaeHflsS.js"),__vite__mapDeps([20,1,21])),meta:{requiresAuth:!0}},{path:"/desktop/profile",name:"desktop.profile",component:()=>B(()=>import("./ProfileView-Ds8OEHUg.js"),__vite__mapDeps([22,1,23])),meta:{requiresAuth:!0}},{path:"/desktop/settings",name:"desktop.settings",component:()=>B(()=>import("./SettingsView-EMccYCpA.js"),__vite__mapDeps([24,1,25])),meta:{requiresAuth:!0}},{path:"/desktop/help",name:"desktop.help",component:()=>B(()=>import("./HelpView-DQqf3_vx.js"),__vite__mapDeps([26,1,27])),meta:{requiresAuth:!0}}],Nr=je({history:Le(),routes:Ir}),be=Ee(Br);be.use(Nr);be.mount("#desktop-app");setTimeout(()=>{const s=document.getElementById("loading-screen");s&&(s.classList.add("fade-out"),setTimeout(()=>{s.style.display="none"},500))},100);export{z as _,he as a,xe as b,Xe as c,V as d,et as e,de as f,ye as g,ve as h,B as i,Ge as j,me as k,ee as l,Ye as m,W as r};

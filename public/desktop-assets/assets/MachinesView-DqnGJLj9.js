import{e as n,f as o,i as e,r as b,y as F,w as K,A as M,B as k,C as se,l as I,k as H,J as u,q as c,p as v,m as B,H as E,v as Z,F as W,E as Y,G as P,T as oe,I as le,a as ne,R as Q,j as ie}from"./vendor-CiUp6LWl.js";import{_ as O,a as X,c as R,e as de,d as ue}from"./desktop-D7czA7Q8.js";import{r as ce}from"./XMarkIcon-3s64TdeG.js";import{r as U}from"./CheckIcon-Cz9GaYQ_.js";import{r as ge}from"./DocumentTextIcon-BS4TBxaJ.js";import{C as ve}from"./ConfirmDeleteModal-I480RVjH.js";function me(w,m){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})])}function be(w,m){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"})])}function G(w,m){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})])}function ee(w,m){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z","clip-rule":"evenodd"})])}function te(w,m){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M11.484 2.17a.75.75 0 0 1 1.032 0 11.209 11.209 0 0 0 7.877 3.08.75.75 0 0 1 .722.515 12.74 12.74 0 0 1 .635 3.985c0 5.942-4.064 10.933-9.563 12.348a.749.749 0 0 1-.374 0C6.314 20.683 2.25 15.692 2.25 9.75c0-1.39.223-2.73.635-3.985a.75.75 0 0 1 .722-.516l.143.001c2.996 0 5.718-1.17 7.734-3.08ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75ZM12 15a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75v-.008a.75.75 0 0 0-.75-.75H12Z","clip-rule":"evenodd"})])}function ae(w,m){return o(),n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 6.75a5.25 5.25 0 0 1 6.775-5.025.75.75 0 0 1 .313 1.248l-3.32 3.319c.063.475.276.934.641 1.299.365.365.824.578 1.3.64l3.318-3.319a.75.75 0 0 1 1.248.313 5.25 5.25 0 0 1-5.472 6.756c-1.018-.086-1.87.1-2.309.634L7.344 21.3A3.298 3.298 0 1 1 2.7 16.657l8.684-7.151c.533-.44.72-1.291.634-2.309A5.342 5.342 0 0 1 12 6.75ZM4.117 19.125a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z","clip-rule":"evenodd"}),e("path",{d:"m10.076 8.64-2.201-2.2V4.874a.75.75 0 0 0-.364-.643l-3.75-2.25a.75.75 0 0 0-.916.113l-.75.75a.75.75 0 0 0-.113.916l2.25 3.75a.75.75 0 0 0 .643.364h1.564l2.062 2.062 1.575-1.297Z"}),e("path",{"fill-rule":"evenodd",d:"m12.556 17.329 4.183 4.182a3.375 3.375 0 0 0 4.773-4.773l-3.306-3.305a6.803 6.803 0 0 1-1.53.043c-.394-.034-.682-.006-.867.042a.589.589 0 0 0-.167.063l-3.086 3.748Zm3.414-1.36a.75.75 0 0 1 1.06 0l1.875 1.876a.75.75 0 1 1-1.06 1.06L15.97 17.03a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}const xe={class:"flex min-h-full items-center justify-center p-4"},pe={class:"border-b border-gray-200 dark:border-gray-700 px-6 py-4 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20"},fe={class:"flex items-center justify-between"},ye={class:"flex items-center space-x-3"},he={class:"w-10 h-10 rounded-lg bg-blue-600 flex items-center justify-center"},ke={class:"text-xl font-bold text-gray-900 dark:text-white"},we={class:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},_e={class:"flex items-center justify-center space-x-3"},Me={class:"flex items-center space-x-2"},Ce={key:1},$e={class:"flex items-center space-x-2"},qe={key:1},je={class:"flex items-center space-x-2"},Ee={key:1},Te={class:"space-y-2"},Se={class:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Be={class:"space-y-2"},Ve={class:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},De={class:"space-y-2"},Ne={class:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Le={class:"grid grid-cols-2 gap-3"},Ze=["onClick"],Ae={class:"flex items-center"},ze={class:"font-medium text-gray-900 dark:text-white text-sm"},He={class:"space-y-2"},Re={class:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Ue={class:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg border border-gray-200 dark:border-gray-700"},Fe={class:"flex items-center"},Ie={class:"text-xs text-gray-500 dark:text-gray-400"},Pe={class:"border-t border-gray-200 dark:border-gray-700 px-6 py-4 bg-gray-50 dark:bg-gray-800/50 flex items-center justify-end space-x-3"},Xe=["disabled"],Ge={key:1,class:"w-5 h-5 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"},Je={__name:"MachineFormModal",props:{isOpen:{type:Boolean,default:!1},machine:{type:Object,default:null}},emits:["close","saved"],setup(w,{emit:m}){const x=w,C=m,r=b({name:"",identifier:"",description:"",status:"available",active:!0}),p=b(!1),g=F(()=>x.machine!==null),_=[{value:"available",label:"Disponível",icon:G,color:"green"},{value:"occupied",label:"Em Uso",icon:ee,color:"blue"},{value:"maintenance",label:"Manutenção",icon:ae,color:"orange"},{value:"reserved",label:"Reservada",icon:te,color:"purple"}],f=F(()=>r.value.name.trim().length>0&&r.value.identifier.trim().length>0&&r.value.status.length>0);K(()=>x.machine,d=>{d&&(r.value={name:d.name||"",identifier:d.identifier||"",description:d.description||"",status:d.status||"available",active:d.active!==void 0?d.active:!0})},{immediate:!0}),K(()=>x.isOpen,d=>{d&&!x.machine&&T()});function T(){r.value={name:"",identifier:"",description:"",status:"available",active:!0}}async function q(){var d;if(!(!f.value||p.value)){p.value=!0;try{await fetch("/sanctum/csrf-cookie",{credentials:"include"});const a={name:r.value.name.trim(),identifier:r.value.identifier.trim(),description:r.value.description.trim()||null,status:r.value.status,active:r.value.active};if(!g.value)try{const L=await(await fetch("/api/me",{credentials:"include"})).json();a.unit_id=L.current_unit_id||L.unit_id}catch(S){console.error("Error fetching user data:",S),y("Erro ao obter dados do usuário"),p.value=!1;return}const l=g.value?`/api/machines/${x.machine.id}`:"/api/machines",V=g.value?"PUT":"POST",A=(d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content"),D=await fetch(l,{method:V,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":A||""},credentials:"include",body:JSON.stringify(a)}),h=await D.json();if(!D.ok){if(h.has_checklist){y(h.message||"Máquina possui checklist ativo");return}if(h.errors){const S=Object.values(h.errors).flat().join(`
`);y(S)}else y(h.message||"Erro ao salvar máquina");return}h.success?(C("saved",h.machine),T(),C("close")):y(h.message||"Erro ao salvar máquina")}catch(a){console.error("Error saving machine:",a),y("Erro ao salvar máquina. Verifique sua conexão.")}finally{p.value=!1}}}function y(d){const a=document.createElement("div");a.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-red-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",a.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
    </svg>
    <span class="font-medium whitespace-pre-line">${d}</span>
  `,document.body.appendChild(a),setTimeout(()=>{a.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>a.remove(),300)},4e3)}function N(){r.value.name||r.value.identifier?confirm("Deseja realmente sair? Os dados não salvos serão perdidos.")&&$():$()}function $(){p.value||(T(),C("close"))}return(d,a)=>(o(),M(le,{to:"body"},[k(oe,{name:"modal"},{default:se(()=>[w.isOpen?(o(),n("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:H(N,["self"])},[a[18]||(a[18]=e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity"},null,-1)),e("div",xe,[e("div",{class:"relative w-full max-w-2xl bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",onClick:a[4]||(a[4]=H(()=>{},["stop"]))},[e("div",pe,[e("div",fe,[e("div",ye,[e("div",he,[k(u(X),{class:"w-6 h-6 text-white"})]),e("div",null,[e("h2",ke,c(g.value?"Editar Máquina":"Nova Máquina"),1),a[5]||(a[5]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Preencha as informações da máquina de hemodiálise ",-1))])]),e("button",{onClick:$,class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"},[k(u(ce),{class:"w-6 h-6"})])])]),e("div",we,[e("div",_e,[e("div",Me,[e("div",{class:v(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all",r.value.name?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"])},[r.value.name?(o(),M(u(U),{key:0,class:"w-5 h-5"})):(o(),n("span",Ce,"1"))],2),a[6]||(a[6]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"Nome",-1))]),e("div",{class:v(["w-12 h-1 rounded-full",r.value.identifier?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"])},null,2),e("div",$e,[e("div",{class:v(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all",r.value.identifier?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"])},[r.value.identifier?(o(),M(u(U),{key:0,class:"w-5 h-5"})):(o(),n("span",qe,"2"))],2),a[7]||(a[7]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"Identificador",-1))]),e("div",{class:v(["w-12 h-1 rounded-full",r.value.status?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"])},null,2),e("div",je,[e("div",{class:v(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all",r.value.status?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"])},[r.value.status?(o(),M(u(U),{key:0,class:"w-5 h-5"})):(o(),n("span",Ee,"3"))],2),a[8]||(a[8]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"Status",-1))])])]),e("form",{onSubmit:H(q,["prevent"]),class:"p-6 space-y-5"},[e("div",Te,[e("label",Se,[k(u(X),{class:"w-4 h-4 mr-2 text-blue-600 dark:text-blue-400"}),a[9]||(a[9]=E(" Nome da Máquina ",-1)),a[10]||(a[10]=e("span",{class:"text-red-500 ml-1"},"*",-1))]),B(e("input",{"onUpdate:modelValue":a[0]||(a[0]=l=>r.value.name=l),type:"text",required:"",placeholder:"Ex: Máquina 01, Fresenius 2008K, etc.",class:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 dark:text-white placeholder-gray-400"},null,512),[[Z,r.value.name]])]),e("div",Be,[e("label",Ve,[k(u(be),{class:"w-4 h-4 mr-2 text-purple-600 dark:text-purple-400"}),a[11]||(a[11]=E(" Identificador / Código ",-1)),a[12]||(a[12]=e("span",{class:"text-red-500 ml-1"},"*",-1))]),B(e("input",{"onUpdate:modelValue":a[1]||(a[1]=l=>r.value.identifier=l),type:"text",required:"",placeholder:"Ex: HD-001, M01, etc.",class:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 dark:text-white placeholder-gray-400"},null,512),[[Z,r.value.identifier]])]),e("div",De,[e("label",Ne,[k(u(me),{class:"w-4 h-4 mr-2 text-green-600 dark:text-green-400"}),a[13]||(a[13]=E(" Status ",-1)),a[14]||(a[14]=e("span",{class:"text-red-500 ml-1"},"*",-1))]),e("div",Le,[(o(),n(W,null,Y(_,l=>e("button",{type:"button",key:l.value,onClick:V=>r.value.status=l.value,class:v(["flex items-center justify-between p-3 border-2 rounded-lg transition-all",[r.value.status===l.value?`border-${l.color}-500 bg-${l.color}-50 dark:bg-${l.color}-900/20`:"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"]])},[e("div",Ae,[(o(),M(P(l.icon),{class:v(["w-5 h-5 mr-2",`text-${l.color}-600 dark:text-${l.color}-400`])},null,8,["class"])),e("span",ze,c(l.label),1)]),r.value.status===l.value?(o(),M(u(R),{key:0,class:v(["w-5 h-5",`text-${l.color}-600 dark:text-${l.color}-400`])},null,8,["class"])):I("",!0)],10,Ze)),64))])]),e("div",He,[e("label",Re,[k(u(ge),{class:"w-4 h-4 mr-2 text-gray-600 dark:text-gray-400"}),a[15]||(a[15]=E(" Descrição ",-1)),a[16]||(a[16]=e("span",{class:"text-gray-400 text-xs ml-1"},"(opcional)",-1))]),B(e("textarea",{"onUpdate:modelValue":a[2]||(a[2]=l=>r.value.description=l),rows:"3",placeholder:"Informações adicionais sobre a máquina...",class:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 dark:text-white placeholder-gray-400 resize-none"},null,512),[[Z,r.value.description]])]),e("div",Ue,[e("div",Fe,[(o(),M(P(r.value.active?u(R):u(de)),{class:v(["w-5 h-5 mr-3",r.value.active?"text-green-600 dark:text-green-400":"text-gray-400"])},null,8,["class"])),e("div",null,[a[17]||(a[17]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Máquina Ativa",-1)),e("p",Ie,c(r.value.active?"Esta máquina está ativa e disponível para uso":"Esta máquina está inativa"),1)])]),e("button",{type:"button",onClick:a[3]||(a[3]=l=>r.value.active=!r.value.active),class:v(["relative inline-flex h-6 w-11 items-center rounded-full transition-colors",r.value.active?"bg-green-600":"bg-gray-300 dark:bg-gray-600"])},[e("span",{class:v(["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",r.value.active?"translate-x-6":"translate-x-1"])},null,2)],2)])],32),e("div",Pe,[e("button",{type:"button",onClick:$,class:"px-5 py-2.5 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium"}," Cancelar "),e("button",{onClick:q,disabled:!f.value||p.value,class:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[p.value?(o(),n("div",Ge)):(o(),M(u(R),{key:0,class:"w-5 h-5 mr-2"})),E(" "+c(p.value?"Salvando...":g.value?"Atualizar":"Cadastrar"),1)],8,Xe)])])])])):I("",!0)]),_:1})]))}},Ke=O(Je,[["__scopeId","data-v-0adb0eab"]]),Qe={class:"machines-view space-y-6"},We={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Ye={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},Oe={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},et={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},tt={class:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1"},at={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},rt={class:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1"},st={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},ot={class:"text-2xl font-bold text-orange-600 dark:text-orange-400 mt-1"},lt={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},nt={class:"flex items-center space-x-4"},it={class:"flex-1 relative"},dt={key:0,class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-12 text-center"},ut={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},ct={class:"text-gray-500 dark:text-gray-400 mb-4"},gt={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},vt={class:"flex items-start justify-between mb-4"},mt={class:"flex items-center space-x-3"},bt={class:"w-12 h-12 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center"},xt={class:"font-semibold text-gray-900 dark:text-white"},pt={class:"text-sm text-gray-500 dark:text-gray-400"},ft=["title"],yt={class:"mb-4"},ht={key:0,class:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2"},kt={key:1,class:"text-sm text-gray-400 dark:text-gray-500 italic mb-4"},wt={class:"flex items-center justify-end space-x-2 pt-4 border-t border-gray-200 dark:border-gray-700"},_t=["onClick"],Mt=["onClick"],Ct={__name:"MachinesView",setup(w){const m=b(!1),x=b(null),C=b(!1),r=b(null),p=b(null),g=b(""),_=b(""),f=b(""),T=b(!1),q=b([]);async function y(){T.value=!0;try{const s=await ue.get("/api/machines");if(!s.ok)throw new Error("Erro ao carregar máquinas");const t=await s.json();t.success?q.value=t.machines||[]:(console.error("Erro ao carregar máquinas:",t.message),J(t.message||"Erro ao carregar máquinas"))}catch(s){console.error("Erro ao carregar máquinas:",s),J("Erro ao carregar máquinas. Verifique sua conexão.")}finally{T.value=!1}}ne(()=>{y()});const N=F(()=>{let s=q.value;if(g.value){const t=g.value.toLowerCase();s=s.filter(j=>j.name.toLowerCase().includes(t)||j.identifier.toLowerCase().includes(t))}if(_.value&&(s=s.filter(t=>t.status===_.value)),f.value){const t=f.value==="active";s=s.filter(j=>j.is_active===t)}return s});function $(s){return q.value.filter(t=>t.status===s).length}function d(s){return{available:"Disponível",occupied:"Em Uso",maintenance:"Manutenção",reserved:"Reservada"}[s]||s}function a(s){return{available:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",occupied:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",maintenance:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",reserved:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400"}[s]||""}function l(s){return{available:G,occupied:ee,maintenance:ae,reserved:te}[s]||G}function V(){x.value=null,m.value=!0}function A(s){x.value=s,m.value=!0}function D(){m.value=!1,x.value=null}async function h(s){x.value?z("Máquina atualizada com sucesso!"):z("Máquina cadastrada com sucesso!"),D(),await y()}function S(s){r.value=s,C.value=!0}async function L(){var s;(s=p.value)==null||s.resetDeletingState(),C.value=!1,z("Máquina excluída com sucesso!"),await y(),r.value=null}function z(s){const t=document.createElement("div");t.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-green-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",t.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
    </svg>
    <span class="font-medium">${s}</span>
  `,document.body.appendChild(t),setTimeout(()=>{t.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>t.remove(),300)},3e3)}function J(s){const t=document.createElement("div");t.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-red-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",t.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
    </svg>
    <span class="font-medium">${s}</span>
  `,document.body.appendChild(t),setTimeout(()=>{t.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>t.remove(),300)},3e3)}return(s,t)=>{var j;return o(),n("div",Qe,[e("div",{class:"flex items-center justify-between"},[t[5]||(t[5]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Máquinas de Hemodiálise"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Gerenciamento e controle das máquinas")],-1)),e("button",{onClick:V,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center"},[...t[4]||(t[4]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),E(" Nova Máquina ",-1)])])]),e("div",We,[e("div",Ye,[t[6]||(t[6]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total de Máquinas",-1)),e("p",Oe,c(q.value.length),1)]),e("div",et,[t[7]||(t[7]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Disponíveis",-1)),e("p",tt,c($("available")),1)]),e("div",at,[t[8]||(t[8]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Em Uso",-1)),e("p",rt,c($("occupied")),1)]),e("div",st,[t[9]||(t[9]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Manutenção",-1)),e("p",ot,c($("maintenance")),1)])]),e("div",lt,[e("div",nt,[e("div",it,[B(e("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>g.value=i),type:"text",placeholder:"Buscar por nome ou identificador...",class:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 dark:text-white"},null,512),[[Z,g.value]]),t[10]||(t[10]=e("svg",{class:"absolute left-3 top-2.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),B(e("select",{"onUpdate:modelValue":t[1]||(t[1]=i=>_.value=i),class:"px-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 dark:text-white"},[...t[11]||(t[11]=[ie('<option value="" data-v-b3bc7f6d>Todos os status</option><option value="available" data-v-b3bc7f6d>Disponível</option><option value="occupied" data-v-b3bc7f6d>Em Uso</option><option value="maintenance" data-v-b3bc7f6d>Manutenção</option><option value="reserved" data-v-b3bc7f6d>Reservada</option>',5)])],512),[[Q,_.value]]),B(e("select",{"onUpdate:modelValue":t[2]||(t[2]=i=>f.value=i),class:"px-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 dark:text-white"},[...t[12]||(t[12]=[e("option",{value:""},"Todas",-1),e("option",{value:"active"},"Ativas",-1),e("option",{value:"inactive"},"Inativas",-1)])],512),[[Q,f.value]])])]),N.value.length===0?(o(),n("div",dt,[t[13]||(t[13]=e("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})],-1)),e("h3",ut,c(g.value||_.value||f.value?"Nenhuma máquina encontrada":"Nenhuma máquina cadastrada"),1),e("p",ct,c(g.value||_.value||f.value?"Tente ajustar os filtros de busca":"Comece cadastrando a primeira máquina"),1),!g.value&&!_.value&&!f.value?(o(),n("button",{key:0,onClick:V,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium"}," Cadastrar Primeira Máquina ")):I("",!0)])):(o(),n("div",gt,[(o(!0),n(W,null,Y(N.value,i=>(o(),n("div",{key:i.id,class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-5 hover:shadow-lg transition-shadow"},[e("div",vt,[e("div",mt,[e("div",bt,[k(u(X),{class:"w-7 h-7 text-blue-600 dark:text-blue-400"})]),e("div",null,[e("h3",xt,c(i.name),1),e("p",pt,c(i.identifier),1)])]),e("div",{class:v(["w-3 h-3 rounded-full",i.is_active?"bg-green-500":"bg-gray-400"]),title:i.is_active?"Ativa":"Inativa"},null,10,ft)]),e("div",yt,[e("span",{class:v(["inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium",a(i.status)])},[(o(),M(P(l(i.status)),{class:"w-4 h-4 mr-1"})),E(" "+c(d(i.status)),1)],2)]),i.description?(o(),n("p",ht,c(i.description),1)):(o(),n("p",kt," Sem descrição ")),e("div",wt,[e("button",{onClick:re=>A(i),class:"px-3 py-1.5 text-sm text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors font-medium"}," Editar ",8,_t),e("button",{onClick:re=>S(i),class:"px-3 py-1.5 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors font-medium"}," Excluir ",8,Mt)])]))),128))])),k(Ke,{"is-open":m.value,machine:x.value,onClose:D,onSaved:h},null,8,["is-open","machine"]),k(ve,{"is-open":C.value,title:"Confirmar Exclusão da Máquina",message:"Tem certeza que deseja excluir esta máquina? Todos os registros de limpeza e manutenção associados serão mantidos.","item-name":(j=r.value)==null?void 0:j.name,onClose:t[3]||(t[3]=i=>C.value=!1),onConfirm:L,ref_key:"deleteModalRef",ref:p},null,8,["is-open","item-name"])])}}},Bt=O(Ct,[["__scopeId","data-v-b3bc7f6d"]]);export{Bt as default};

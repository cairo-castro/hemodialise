import{c as n,o as l,b as e,r as v,j as V,k as Z,p as P,q as w,s as ae,e as B,w as p,C as m,t as u,n as _,f as T,g as b,v as O,L as F,T as oe,A as se,l as le,m as ne,d as R,F as ie,y as de}from"./vendor-XHYqZCca.js";import{_ as J,c as Y}from"./desktop-DWXkO5Y4.js";import{r as ue}from"./XMarkIcon-cOl2QqgI.js";import{r as I}from"./CheckIcon-DVfLQBj4.js";import{r as G}from"./BeakerIcon-CmYqc7Xh.js";import{C as ge}from"./ConfirmDeleteModal-CHdYrwl1.js";function pe(j,C){return l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])}function ve(j,C){return l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function ce(j,C){return l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"})])}function xe(j,C){return l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}const ye={class:"flex min-h-full items-center justify-center p-4"},me={class:"border-b border-gray-200 dark:border-gray-700 px-6 py-4 bg-gradient-to-r from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20"},be={class:"flex items-center justify-between"},fe={class:"flex items-center space-x-3"},ke={class:"w-10 h-10 rounded-lg bg-primary-600 flex items-center justify-center"},he={class:"text-xl font-bold text-gray-900 dark:text-white"},we={class:"px-6 py-4 bg-gray-50 dark:bg-gray-800/50 border-b border-gray-200 dark:border-gray-700"},_e={class:"flex items-center justify-center space-x-3"},Ce={class:"flex items-center space-x-2"},Me={key:1},$e={class:"flex items-center space-x-2"},Ae={key:1},Be={class:"flex items-center space-x-2"},Te={key:1},De={class:"space-y-2"},je={class:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Ve={class:"space-y-2"},Se={class:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Pe={key:0,class:"text-xs text-gray-500 dark:text-gray-400"},Fe={class:"grid grid-cols-2 gap-4"},Le={class:"space-y-2"},ze={class:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Ne={class:"space-y-2"},Oe={class:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Ee={key:0,class:"p-4 bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800 rounded-lg"},Ie={class:"flex items-center"},Ue={class:"ml-2 text-lg font-bold text-primary-700 dark:text-primary-300"},qe={class:"space-y-2"},He={class:"flex items-center text-sm font-medium text-gray-700 dark:text-gray-300"},Ze={key:0,class:"flex items-center"},Re={class:"border-t border-gray-200 dark:border-gray-700 px-6 py-4 bg-gray-50 dark:bg-gray-800/50 flex items-center justify-end space-x-3"},Ye=["disabled"],Ge={key:1,class:"w-5 h-5 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"},Je={__name:"PatientFormModal",props:{isOpen:{type:Boolean,default:!1},patient:{type:Object,default:null}},emits:["close","saved"],setup(j,{emit:C}){const c=j,D=C,a=v({full_name:"",birth_date:"",blood_group:"",rh_factor:"",status:"ativo"}),M=v(!1),f=V(()=>c.patient!==null),$=V(()=>{if(!a.value.birth_date)return null;const i=new Date(a.value.birth_date),r=new Date;let g=r.getFullYear()-i.getFullYear();const S=r.getMonth()-i.getMonth();return(S<0||S===0&&r.getDate()<i.getDate())&&g--,g}),x=V(()=>a.value.full_name.trim().length>0&&a.value.birth_date.length>0&&a.value.status.length>0);Z(()=>c.patient,i=>{i&&(a.value={full_name:i.full_name||"",birth_date:i.birth_date||"",blood_group:i.blood_group||"",rh_factor:i.rh_factor||"",status:i.status||"ativo"})},{immediate:!0}),Z(()=>c.isOpen,i=>{i&&!c.patient&&k()});function k(){a.value={full_name:"",birth_date:"",blood_group:"",rh_factor:"",status:"ativo"}}function h(i){return{ativo:"Ativo",inativo:"Inativo",transferido:"Transferido",alta:"Alta Médica",obito:"Óbito"}[i]||i}function y(i){return{ativo:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",inativo:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",transferido:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",alta:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",obito:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}[i]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}async function L(){if(!(!x.value||M.value)){M.value=!0;try{const i={full_name:a.value.full_name.trim(),birth_date:a.value.birth_date,blood_group:a.value.blood_group||null,rh_factor:a.value.rh_factor||null,status:a.value.status,active:a.value.status==="ativo"};await new Promise(r=>setTimeout(r,1e3)),D("saved",{id:f.value?c.patient.id:Date.now(),...i}),k(),D("close")}catch(i){console.error("Error saving patient:",i),alert("Erro ao salvar paciente. Tente novamente.")}finally{M.value=!1}}}function z(){a.value.full_name||a.value.birth_date?confirm("Deseja realmente sair? Os dados não salvos serão perdidos.")&&A():A()}function A(){M.value||(k(),D("close"))}return(i,r)=>(l(),P(se,{to:"body"},[w(oe,{name:"modal"},{default:ae(()=>[j.isOpen?(l(),n("div",{key:0,class:"fixed inset-0 z-50 overflow-y-auto",onClick:p(z,["self"])},[r[24]||(r[24]=e("div",{class:"fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity"},null,-1)),e("div",ye,[e("div",{class:"relative w-full max-w-2xl bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",onClick:r[5]||(r[5]=p(()=>{},["stop"]))},[e("div",me,[e("div",be,[e("div",fe,[e("div",ke,[w(m(ce),{class:"w-6 h-6 text-white"})]),e("div",null,[e("h2",he,u(f.value?"Editar Paciente":"Novo Paciente"),1),r[6]||(r[6]=e("p",{class:"text-sm text-gray-600 dark:text-gray-400"}," Preencha as informações básicas do paciente ",-1))])]),e("button",{onClick:A,class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"},[w(m(ue),{class:"w-6 h-6"})])])]),e("div",we,[e("div",_e,[e("div",Ce,[e("div",{class:_(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all",a.value.full_name?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"])},[a.value.full_name?(l(),P(m(I),{key:0,class:"w-5 h-5"})):(l(),n("span",Me,"1"))],2),r[7]||(r[7]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"Nome",-1))]),e("div",{class:_(["w-12 h-1 rounded-full",a.value.birth_date?"bg-primary-600":"bg-gray-200 dark:bg-gray-700"])},null,2),e("div",$e,[e("div",{class:_(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all",a.value.birth_date?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"])},[a.value.birth_date?(l(),P(m(I),{key:0,class:"w-5 h-5"})):(l(),n("span",Ae,"2"))],2),r[8]||(r[8]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"Data",-1))]),e("div",{class:_(["w-12 h-1 rounded-full",a.value.blood_group&&a.value.rh_factor?"bg-primary-600":"bg-gray-200 dark:bg-gray-700"])},null,2),e("div",Be,[e("div",{class:_(["w-8 h-8 rounded-full flex items-center justify-center text-xs font-semibold transition-all",a.value.blood_group&&a.value.rh_factor?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"])},[a.value.blood_group&&a.value.rh_factor?(l(),P(m(I),{key:0,class:"w-5 h-5"})):(l(),n("span",Te,"3"))],2),r[9]||(r[9]=e("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"},"Sangue",-1))])])]),e("form",{onSubmit:p(L,["prevent"]),class:"p-6 space-y-5"},[e("div",De,[e("label",je,[w(m(xe),{class:"w-4 h-4 mr-2 text-primary-600 dark:text-primary-400"}),r[10]||(r[10]=b(" Nome Completo ",-1)),r[11]||(r[11]=e("span",{class:"text-red-500 ml-1"},"*",-1))]),T(e("input",{"onUpdate:modelValue":r[0]||(r[0]=g=>a.value.full_name=g),type:"text",required:"",placeholder:"Digite o nome completo do paciente",class:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white placeholder-gray-400"},null,512),[[O,a.value.full_name]])]),e("div",Ve,[e("label",Se,[w(m(pe),{class:"w-4 h-4 mr-2 text-green-600 dark:text-green-400"}),r[12]||(r[12]=b(" Data de Nascimento ",-1)),r[13]||(r[13]=e("span",{class:"text-red-500 ml-1"},"*",-1))]),T(e("input",{"onUpdate:modelValue":r[1]||(r[1]=g=>a.value.birth_date=g),type:"date",required:"",class:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white"},null,512),[[O,a.value.birth_date]]),$.value?(l(),n("p",Pe," Idade: "+u($.value)+" anos ",1)):B("",!0)]),e("div",Fe,[e("div",Le,[e("label",ze,[w(m(G),{class:"w-4 h-4 mr-2 text-orange-600 dark:text-orange-400"}),r[14]||(r[14]=b(" Tipo Sanguíneo ",-1)),r[15]||(r[15]=e("span",{class:"text-gray-400 text-xs ml-1"},"(opcional)",-1))]),T(e("select",{"onUpdate:modelValue":r[2]||(r[2]=g=>a.value.blood_group=g),class:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white"},[...r[16]||(r[16]=[e("option",{value:""},"Selecione",-1),e("option",{value:"A"},"A",-1),e("option",{value:"B"},"B",-1),e("option",{value:"AB"},"AB",-1),e("option",{value:"O"},"O",-1)])],512),[[F,a.value.blood_group]])]),e("div",Ne,[e("label",Oe,[w(m(ve),{class:"w-4 h-4 mr-2 text-green-600 dark:text-green-400"}),r[17]||(r[17]=b(" Fator RH ",-1)),r[18]||(r[18]=e("span",{class:"text-gray-400 text-xs ml-1"},"(opcional)",-1))]),T(e("select",{"onUpdate:modelValue":r[3]||(r[3]=g=>a.value.rh_factor=g),class:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white"},[...r[19]||(r[19]=[e("option",{value:""},"Selecione",-1),e("option",{value:"+"},"Positivo (+)",-1),e("option",{value:"-"},"Negativo (-)",-1)])],512),[[F,a.value.rh_factor]])])]),a.value.blood_group&&a.value.rh_factor?(l(),n("div",Ee,[e("div",Ie,[w(m(G),{class:"w-5 h-5 text-primary-600 dark:text-primary-400 mr-2"}),r[20]||(r[20]=e("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Tipo Sanguíneo Completo:",-1)),e("span",Ue,u(a.value.blood_group)+u(a.value.rh_factor),1)])])):B("",!0),e("div",qe,[e("label",He,[w(m(Y),{class:"w-4 h-4 mr-2 text-purple-600 dark:text-purple-400"}),r[21]||(r[21]=b(" Status do Paciente ",-1)),r[22]||(r[22]=e("span",{class:"text-red-500 ml-1"},"*",-1))]),T(e("select",{"onUpdate:modelValue":r[4]||(r[4]=g=>a.value.status=g),required:"",class:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white"},[...r[23]||(r[23]=[e("option",{value:""},"Selecione o status",-1),e("option",{value:"ativo"},"Ativo",-1),e("option",{value:"inativo"},"Inativo",-1),e("option",{value:"transferido"},"Transferido",-1),e("option",{value:"alta"},"Alta Médica",-1),e("option",{value:"obito"},"Óbito",-1)])],512),[[F,a.value.status]]),a.value.status?(l(),n("div",Ze,[e("span",{class:_(["inline-flex items-center px-3 py-1 rounded-full text-xs font-medium",y(a.value.status)])},u(h(a.value.status)),3)])):B("",!0)])],32),e("div",Re,[e("button",{type:"button",onClick:A,class:"px-5 py-2.5 text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors font-medium"}," Cancelar "),e("button",{onClick:L,disabled:!x.value||M.value,class:"px-5 py-2.5 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[M.value?(l(),n("div",Ge)):(l(),P(m(Y),{key:0,class:"w-5 h-5 mr-2"})),b(" "+u(M.value?"Salvando...":f.value?"Atualizar":"Cadastrar"),1)],8,Ye)])])])])):B("",!0)]),_:1})]))}},Ke=J(Je,[["__scopeId","data-v-c01ecf43"]]),Qe={class:"patients-view space-y-6"},We={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Xe={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},et={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},tt={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},rt={class:"text-2xl font-bold text-green-600 dark:text-green-400 mt-1"},at={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},ot={class:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1"},st={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},lt={class:"text-2xl font-bold text-orange-600 dark:text-orange-400 mt-1"},nt={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 overflow-hidden"},it={key:0,class:"text-center py-12"},dt={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},ut={class:"text-gray-500 dark:text-gray-400 mb-4"},gt={key:1,class:"w-full"},pt={class:"bg-gray-50 dark:bg-gray-800/50"},vt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},ct={class:"flex items-center gap-2"},xt={class:"relative"},yt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},mt={class:"flex items-center gap-2"},bt={class:"relative"},ft={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},kt={class:"flex items-center gap-2"},ht={class:"relative"},wt={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},_t={class:"flex items-center gap-2"},Ct={class:"relative"},Mt={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},$t={class:"divide-y divide-gray-200 dark:divide-gray-700"},At={class:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white"},Bt={class:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400"},Tt={class:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400"},Dt={class:"px-6 py-4"},jt={key:0,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"},Vt={key:1,class:"text-sm text-gray-400 dark:text-gray-500"},St={class:"px-6 py-4"},Pt={class:"px-6 py-4 text-right space-x-2"},Ft=["onClick"],Lt=["onClick"],zt={__name:"PatientsView",setup(j){const C=v(!1),c=v(null),D=v(!1),a=v(null),M=v(null),f=v(""),$=v(""),x=v(""),k=v(""),h=v(null),y=v([{id:1,full_name:"Maria Silva Santos",birth_date:"1965-03-15",blood_group:"A",rh_factor:"+"},{id:2,full_name:"João Pedro Oliveira",birth_date:"1972-08-22",blood_group:"O",rh_factor:"+"},{id:3,full_name:"Ana Carolina Souza",birth_date:"1980-11-05",blood_group:"B",rh_factor:"-"}]),L=V(()=>y.value.length),z=V(()=>{let o=y.value;if(f.value){const t=f.value.toLowerCase();o=o.filter(d=>d.full_name.toLowerCase().includes(t))}if($.value&&(o=o.filter(t=>U(t.birth_date).toString().includes($.value))),x.value){const[t,d]=x.value.includes("+")?[x.value.replace("+",""),"+"]:[x.value.replace("-",""),"-"];o=o.filter(s=>s.blood_group===t&&s.rh_factor===d)}return k.value&&(o=o.filter(t=>(t.status||"ativo")===k.value)),o}),A=V(()=>!!(f.value||$.value||x.value||k.value));function i(o){h.value=null}le(()=>{document.addEventListener("click",i)}),ne(()=>{document.removeEventListener("click",i)});function r(o){h.value===o?h.value=null:h.value=o}function g(){f.value="",$.value="",x.value="",k.value="",h.value=null}function S(o,t){return y.value.filter(d=>d.blood_group===o&&d.rh_factor===t).length}function K(o){return{ativo:"Ativo",inativo:"Inativo",transferido:"Transferido",alta:"Alta Médica",obito:"Óbito"}[o]||o}function Q(o){return{ativo:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",inativo:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",transferido:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",alta:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400",obito:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}[o]||"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}function W(o){return o?new Date(o+"T00:00:00").toLocaleDateString("pt-BR"):"N/A"}function U(o){if(!o)return 0;const t=new Date(o+"T00:00:00"),d=new Date;let s=d.getFullYear()-t.getFullYear();const N=d.getMonth()-t.getMonth();return(N<0||N===0&&d.getDate()<t.getDate())&&s--,s}function q(){c.value=null,C.value=!0}function X(o){c.value=o,C.value=!0}function H(){C.value=!1,c.value=null}function ee(o){if(c.value){const t=y.value.findIndex(d=>d.id===c.value.id);t!==-1&&(y.value[t]={...y.value[t],...o}),E("Paciente atualizado com sucesso!")}else y.value.push(o),E("Paciente cadastrado com sucesso!");H()}function te(o){a.value=o,D.value=!0}function re(){var t;const o=y.value.findIndex(d=>d.id===a.value.id);o!==-1&&(y.value.splice(o,1),(t=M.value)==null||t.resetDeletingState(),D.value=!1,E("Paciente excluído com sucesso!"),a.value=null)}function E(o){const t=document.createElement("div");t.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-green-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",t.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
    </svg>
    <span class="font-medium">${o}</span>
  `,document.body.appendChild(t),setTimeout(()=>{t.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>t.remove(),300)},3e3)}return(o,t)=>{var d;return l(),n("div",Qe,[e("div",{class:"flex items-center justify-between"},[t[18]||(t[18]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Pacientes"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Gerenciamento de pacientes em tratamento")],-1)),e("button",{onClick:q,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium flex items-center"},[...t[17]||(t[17]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),b(" Novo Paciente ",-1)])])]),e("div",We,[e("div",Xe,[t[19]||(t[19]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total de Pacientes",-1)),e("p",et,u(y.value.length),1)]),e("div",tt,[t[20]||(t[20]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Em Tratamento",-1)),e("p",rt,u(L.value),1)]),e("div",at,[t[21]||(t[21]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tipo A+",-1)),e("p",ot,u(S("A","+")),1)]),e("div",st,[t[22]||(t[22]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Tipo O+",-1)),e("p",lt,u(S("O","+")),1)])]),e("div",nt,[z.value.length===0?(l(),n("div",it,[t[24]||(t[24]=e("svg",{class:"w-16 h-16 mx-auto mb-4 text-gray-300 dark:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),e("h3",dt,u(A.value?"Nenhum paciente encontrado":"Nenhum paciente cadastrado"),1),e("p",ut,u(A.value?"Tente ajustar os filtros de busca":"Comece cadastrando o primeiro paciente"),1),A.value?(l(),n("button",{key:0,onClick:g,class:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium"},[...t[23]||(t[23]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1),e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),b(" Limpar Filtros ",-1)])])):(l(),n("button",{key:1,onClick:q,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium"}," Cadastrar Primeiro Paciente "))])):(l(),n("table",gt,[e("thead",pt,[e("tr",null,[e("th",vt,[e("div",ct,[t[26]||(t[26]=b(" Nome Completo ",-1)),e("div",xt,[e("button",{onClick:t[0]||(t[0]=p(s=>r("name"),["stop"])),class:_(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":f.value}])},[...t[25]||(t[25]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),h.value==="name"?(l(),n("div",{key:0,onClick:t[3]||(t[3]=p(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[200px]"},[T(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>f.value=s),type:"text",placeholder:"Filtrar nome...",class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:t[2]||(t[2]=p(()=>{},["stop"]))},null,512),[[O,f.value]])])):B("",!0)])])]),t[36]||(t[36]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},"Data de Nascimento",-1)),e("th",yt,[e("div",mt,[t[28]||(t[28]=b(" Idade ",-1)),e("div",bt,[e("button",{onClick:t[4]||(t[4]=p(s=>r("age"),["stop"])),class:_(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":$.value}])},[...t[27]||(t[27]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),h.value==="age"?(l(),n("div",{key:0,onClick:t[7]||(t[7]=p(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[150px]"},[T(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>$.value=s),type:"text",placeholder:"Filtrar idade...",class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:t[6]||(t[6]=p(()=>{},["stop"]))},null,512),[[O,$.value]])])):B("",!0)])])]),e("th",ft,[e("div",kt,[t[31]||(t[31]=b(" Tipo Sanguíneo ",-1)),e("div",ht,[e("button",{onClick:t[8]||(t[8]=p(s=>r("bloodType"),["stop"])),class:_(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":x.value}])},[...t[29]||(t[29]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),h.value==="bloodType"?(l(),n("div",{key:0,onClick:t[11]||(t[11]=p(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[150px]"},[T(e("select",{"onUpdate:modelValue":t[9]||(t[9]=s=>x.value=s),class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:t[10]||(t[10]=p(()=>{},["stop"]))},[...t[30]||(t[30]=[R('<option value="" data-v-e97f4739>Todos</option><option value="A+" data-v-e97f4739>A+</option><option value="A-" data-v-e97f4739>A-</option><option value="B+" data-v-e97f4739>B+</option><option value="B-" data-v-e97f4739>B-</option><option value="AB+" data-v-e97f4739>AB+</option><option value="AB-" data-v-e97f4739>AB-</option><option value="O+" data-v-e97f4739>O+</option><option value="O-" data-v-e97f4739>O-</option>',9)])],512),[[F,x.value]])])):B("",!0)])])]),e("th",wt,[e("div",_t,[t[34]||(t[34]=b(" Status ",-1)),e("div",Ct,[e("button",{onClick:t[12]||(t[12]=p(s=>r("status"),["stop"])),class:_(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":k.value}])},[...t[32]||(t[32]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),h.value==="status"?(l(),n("div",{key:0,onClick:t[15]||(t[15]=p(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[150px]"},[T(e("select",{"onUpdate:modelValue":t[13]||(t[13]=s=>k.value=s),class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:t[14]||(t[14]=p(()=>{},["stop"]))},[...t[33]||(t[33]=[R('<option value="" data-v-e97f4739>Todos</option><option value="ativo" data-v-e97f4739>Ativo</option><option value="inativo" data-v-e97f4739>Inativo</option><option value="transferido" data-v-e97f4739>Transferido</option><option value="alta" data-v-e97f4739>Alta Médica</option><option value="obito" data-v-e97f4739>Óbito</option>',6)])],512),[[F,k.value]])])):B("",!0)])])]),e("th",Mt,[A.value?(l(),n("button",{key:0,onClick:g,class:"inline-flex items-center gap-1 px-2 py-1 text-xs text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Limpar todos os filtros"},[...t[35]||(t[35]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1),e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):B("",!0)])])]),e("tbody",$t,[(l(!0),n(ie,null,de(z.value,s=>(l(),n("tr",{key:s.id,class:"hover:bg-gray-50 dark:hover:bg-gray-800/50"},[e("td",At,u(s.full_name),1),e("td",Bt,u(W(s.birth_date)),1),e("td",Tt,u(U(s.birth_date))+" anos ",1),e("td",Dt,[s.blood_group&&s.rh_factor?(l(),n("span",jt,u(s.blood_group)+u(s.rh_factor),1)):(l(),n("span",Vt,"N/A"))]),e("td",St,[e("span",{class:_(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",Q(s.status||"ativo")])},u(K(s.status||"ativo")),3)]),e("td",Pt,[e("button",{onClick:N=>X(s),class:"text-primary-600 dark:text-primary-400 hover:underline text-sm font-medium"}," Editar ",8,Ft),e("button",{onClick:N=>te(s),class:"text-red-600 dark:text-red-400 hover:underline text-sm font-medium"}," Excluir ",8,Lt)])]))),128))])]))]),w(Ke,{"is-open":C.value,patient:c.value,onClose:H,onSaved:ee},null,8,["is-open","patient"]),w(ge,{"is-open":D.value,title:"Confirmar Exclusão do Paciente",message:"Tem certeza que deseja excluir este paciente? Todos os registros associados serão mantidos.","item-name":(d=a.value)==null?void 0:d.full_name,onClose:t[16]||(t[16]=s=>D.value=!1),onConfirm:re,ref_key:"deleteModalRef",ref:M},null,8,["is-open","item-name"])])}}},Ht=J(zt,[["__scopeId","data-v-e97f4739"]]);export{Ht as default};

const __vite__fileDeps=["assets/DashboardView-9XF5ugn7.js","assets/vendor-DpClryQt.js","assets/DashboardView-C2q3J00u.css","assets/ChecklistsView-IuFL_gqv.js","assets/MachinesView-CScuaprE.js","assets/PatientsView-9vidomCz.js","assets/ProfileView-C7tIt8RL.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{r as x,a as L,c as a,o as n,b as e,w as P,d as b,e as y,v as S,n as g,t as v,f as B,g as A,h as $,F as D,i as I,j as O,u as R,k as T,l as j,m as k,p as q,q as U,s as z,x as N,y as Z,z as F,A as W}from"./vendor-DpClryQt.js";const C=(c,m)=>{const r=c.__vccOpts||c;for(const[p,l]of m)r[p]=l;return r},K={class:"login-view w-full max-w-md px-6"},X={class:"bg-white rounded-2xl shadow-2xl p-8"},G={key:0,class:"mt-1 text-sm text-red-600"},J={key:0,class:"mt-1 text-sm text-red-600"},Q={class:"flex items-center"},Y=["disabled"],ee={key:0},te={key:1,class:"flex items-center justify-center"},oe={key:0,class:"p-4 bg-red-50 border border-red-200 rounded-lg"},se={class:"text-sm text-red-600"},re={__name:"LoginView",emits:["login-success"],setup(c,{emit:m}){const r=m,p=x(!1),l=L({email:"",password:"",remember:!1}),o=L({email:"",password:"",general:""});async function i(){var d,t,h;o.email="",o.password="",o.general="",p.value=!0;try{const s=(d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content"),u=await fetch("/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":s},credentials:"same-origin",body:JSON.stringify({email:l.email,password:l.password,remember:l.remember})}),f=await u.json();u.ok?r("login-success",f.user):f.errors?(o.email=((t=f.errors.email)==null?void 0:t[0])||"",o.password=((h=f.errors.password)==null?void 0:h[0])||""):o.general=f.message||"Erro ao fazer login. Tente novamente."}catch(s){console.error("Login error:",s),o.general="Erro de conexão. Verifique sua internet e tente novamente."}finally{p.value=!1}}return(d,t)=>(n(),a("div",K,[e("div",X,[t[7]||(t[7]=e("div",{class:"text-center mb-8"},[e("img",{src:"/hemodialise_logo.png",alt:"Logo Hemodiálise",class:"w-24 h-24 mx-auto mb-4"}),e("h1",{class:"text-3xl font-bold text-gray-900"},"Sistema Hemodiálise"),e("p",{class:"text-gray-600 mt-2"},"Interface Desktop")],-1)),e("form",{onSubmit:P(i,["prevent"]),class:"space-y-6"},[e("div",null,[t[3]||(t[3]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Email ",-1)),y(e("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=h=>l.email=h),type:"email",required:"",class:g(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",{"border-red-500":o.email}]),placeholder:"seu@email.com"},null,2),[[S,l.email]]),o.email?(n(),a("p",G,v(o.email),1)):b("",!0)]),e("div",null,[t[4]||(t[4]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"}," Senha ",-1)),y(e("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=h=>l.password=h),type:"password",required:"",class:g(["w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",{"border-red-500":o.password}]),placeholder:"••••••••"},null,2),[[S,l.password]]),o.password?(n(),a("p",J,v(o.password),1)):b("",!0)]),e("div",Q,[y(e("input",{id:"remember","onUpdate:modelValue":t[2]||(t[2]=h=>l.remember=h),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[B,l.remember]]),t[5]||(t[5]=e("label",{for:"remember",class:"ml-2 block text-sm text-gray-700"}," Lembrar-me ",-1))]),e("button",{type:"submit",disabled:p.value,class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},[p.value?(n(),a("span",te,[...t[6]||(t[6]=[e("svg",{class:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),A(" Entrando... ",-1)])])):(n(),a("span",ee,"Entrar"))],8,Y),o.general?(n(),a("div",oe,[e("p",se,v(o.general),1)])):b("",!0)],32),t[8]||(t[8]=e("div",{class:"mt-6 text-center text-sm text-gray-600"},[e("p",null,[A("Acesso móvel? "),e("a",{href:"/mobile",class:"text-blue-600 hover:underline"},"Clique aqui")]),e("p",{class:"mt-2"},[A("Admin? "),e("a",{href:"/admin",class:"text-blue-600 hover:underline"},"Painel Admin")])],-1))])]))}},ne=C(re,[["__scopeId","data-v-a43e4e90"]]);function ae(c,m){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"})])}function le(c,m){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"})])}function ie(c,m){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function ce(c,m){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function de(c,m){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}const ue={class:"desktop-layout flex h-screen bg-gray-100"},me={class:"p-6 flex items-center justify-between border-b border-gray-800"},pe={key:0,class:"flex items-center space-x-3"},he={key:1,src:"/hemodialise_logo.png",alt:"Logo",class:"w-10 h-10 mx-auto"},fe={class:"flex-1 px-4 py-6 space-y-2 overflow-y-auto"},ve={key:0,class:"font-medium"},_e={class:"p-4 border-t border-gray-800"},ge={key:0,class:"font-medium"},we={class:"w-6 h-6 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},be=["d"],xe={class:"flex-1 flex flex-col overflow-hidden"},ke={class:"bg-white shadow-sm z-10"},ye={class:"px-6 py-4 flex items-center justify-between"},Ae={class:"text-2xl font-semibold text-gray-900"},Ce={class:"flex items-center space-x-4"},Ee={class:"text-right"},Ve={class:"text-sm font-medium text-gray-900"},Le={class:"text-xs text-gray-500"},Se={class:"w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center text-white font-semibold"},$e={class:"flex-1 overflow-y-auto bg-gray-50 p-6"},Me={__name:"DesktopLayout",setup(c){const m=R();T();const r=x(!0),p=x(null),l=[{name:"dashboard",path:"/desktop",label:"Dashboard",icon:ie},{name:"checklists",path:"/desktop/checklists",label:"Checklists",icon:ae},{name:"machines",path:"/desktop/machines",label:"Máquinas",icon:le},{name:"patients",path:"/desktop/patients",label:"Pacientes",icon:de},{name:"profile",path:"/desktop/profile",label:"Perfil",icon:ce}],o=$(()=>{const s=l.find(u=>u.path===m.path);return(s==null?void 0:s.label)||"Sistema Hemodiálise"}),i=$(()=>{var s;return(s=p.value)!=null&&s.name?p.value.name.split(" ").map(u=>u[0]).join("").toUpperCase().slice(0,2):"U"});function d(){r.value=!r.value}function t(s){return m.path===s||m.path.startsWith(s+"/")}async function h(){var s;try{const u=(s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content");await fetch("/logout",{method:"POST",headers:{"X-CSRF-TOKEN":u,Accept:"application/json"},credentials:"same-origin"}),window.location.href="/desktop"}catch(u){console.error("Logout error:",u),window.location.href="/desktop"}}return(s,u)=>{var E,V;const f=j("router-link");return n(),a("div",ue,[e("aside",{class:g(["sidebar w-64 bg-gray-900 text-white flex flex-col transition-all duration-300",{"w-20":!r.value}])},[e("div",me,[r.value?(n(),a("div",pe,[...u[0]||(u[0]=[e("img",{src:"/hemodialise_logo.png",alt:"Logo",class:"w-10 h-10"},null,-1),e("span",{class:"font-bold text-lg"},"Hemodiálise",-1)])])):(n(),a("img",he))]),e("nav",fe,[(n(),a(D,null,I(l,_=>k(f,{key:_.name,to:_.path,class:g(["nav-item flex items-center px-4 py-3 rounded-lg transition-colors duration-200",{"bg-blue-600 text-white":t(_.path),"text-gray-300 hover:bg-gray-800":!t(_.path)}])},{default:q(()=>[(n(),U(z(_.icon),{class:g(["w-6 h-6",{"mr-3":r.value}])},null,8,["class"])),r.value?(n(),a("span",ve,v(_.label),1)):b("",!0)]),_:2},1032,["to","class"])),64))]),e("div",_e,[e("button",{onClick:h,class:"w-full flex items-center px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-800 transition-colors duration-200"},[(n(),a("svg",{class:g(["w-6 h-6",{"mr-3":r.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...u[1]||(u[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},null,-1)])],2)),r.value?(n(),a("span",ge,"Sair")):b("",!0)])]),e("button",{onClick:d,class:"p-4 border-t border-gray-800 hover:bg-gray-800 transition-colors duration-200"},[(n(),a("svg",we,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:r.value?"M11 19l-7-7 7-7m8 14l-7-7 7-7":"M13 5l7 7-7 7M5 5l7 7-7 7"},null,8,be)]))])],2),e("div",xe,[e("header",ke,[e("div",ye,[e("h1",Ae,v(o.value),1),e("div",Ce,[e("div",Ee,[e("p",Ve,v(((E=p.value)==null?void 0:E.name)||"Usuário"),1),e("p",Le,v((V=p.value)==null?void 0:V.email),1)]),e("div",Se,v(i.value),1)])])]),e("main",$e,[O(s.$slots,"default",{},void 0)])])])}}},Te=C(Me,[["__scopeId","data-v-3c4c94a9"]]),je={class:"desktop-app h-screen bg-gray-50 antialiased"},qe={key:0,class:"auth-container"},He={key:1,class:"main-container h-full"},Pe={__name:"DesktopApp",setup(c){const m=T(),r=x(!1),p=x(null);N(async()=>{await l()});async function l(){try{const i=await fetch("/api/me",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"same-origin"});if(i.ok){const d=await i.json();p.value=d.user,r.value=!0}else r.value=!1}catch(i){console.error("Auth check failed:",i),r.value=!1}}function o(i){p.value=i,r.value=!0,m.push("/desktop")}return(i,d)=>{const t=j("router-view");return n(),a("div",je,[r.value?(n(),a("div",He,[k(Te,null,{default:q(()=>[k(t)]),_:1})])):(n(),a("div",qe,[k(ne,{onLoginSuccess:o})]))])}}},Be=C(Pe,[["__scopeId","data-v-ab469d68"]]),De="modulepreload",Ie=function(c){return"/desktop-assets/"+c},M={},w=function(m,r,p){let l=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),i=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));l=Promise.all(r.map(d=>{if(d=Ie(d),d in M)return;M[d]=!0;const t=d.endsWith(".css"),h=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const s=document.createElement("link");if(s.rel=t?"stylesheet":De,t||(s.as="script",s.crossOrigin=""),s.href=d,i&&s.setAttribute("nonce",i),document.head.appendChild(s),t)return new Promise((u,f)=>{s.addEventListener("load",u),s.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${d}`)))})}))}return l.then(()=>m()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},Oe=[{path:"/desktop",name:"desktop.home",component:()=>w(()=>import("./DashboardView-9XF5ugn7.js"),__vite__mapDeps([0,1,2])),meta:{requiresAuth:!0}},{path:"/desktop/checklists",name:"desktop.checklists",component:()=>w(()=>import("./ChecklistsView-IuFL_gqv.js"),__vite__mapDeps([3,1])),meta:{requiresAuth:!0}},{path:"/desktop/machines",name:"desktop.machines",component:()=>w(()=>import("./MachinesView-CScuaprE.js"),__vite__mapDeps([4,1])),meta:{requiresAuth:!0}},{path:"/desktop/patients",name:"desktop.patients",component:()=>w(()=>import("./PatientsView-9vidomCz.js"),__vite__mapDeps([5,1])),meta:{requiresAuth:!0}},{path:"/desktop/profile",name:"desktop.profile",component:()=>w(()=>import("./ProfileView-C7tIt8RL.js"),__vite__mapDeps([6,1])),meta:{requiresAuth:!0}}],Re=Z({history:F(),routes:Oe}),H=W(Be);H.use(Re);H.mount("#desktop-app");setTimeout(()=>{const c=document.getElementById("loading-screen");c&&(c.classList.add("fade-out"),setTimeout(()=>{c.style.display="none"},500))},100);export{C as _,le as a,de as b,ae as r};

import{r as b,w as X,A as Z,f as i,B as R,C as ee,e as u,l as _,k as C,i as e,q as c,p,F as H,m as x,U as $,v as V,T as te,I as re,S as T,y as J,a as ae,Q as le,E as se,R as oe,J as ne,V as Q,u as W,H as F,z as ie,j as de}from"./vendor-BYzl544o.js";import{C as ue}from"./ConfirmDeleteModal-D_a1pSzy.js";import{_ as Y}from"./desktop-C1_hgPJA.js";const ge={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800 flex-shrink-0"},pe={class:"text-xl font-bold text-gray-900 dark:text-white"},ye={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},xe={class:"p-6 overflow-y-auto flex-1"},ce={key:0,class:"flex items-center justify-center py-12"},me={key:1,class:"space-y-6"},be={class:"flex items-center gap-3"},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},fe={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},ke={class:"text-sm font-medium text-gray-900 dark:text-white"},he={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},we={class:"text-sm font-medium text-gray-900 dark:text-white"},_e={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Ce={class:"text-sm font-medium text-gray-900 dark:text-white"},$e={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Me={class:"text-sm font-medium text-gray-900 dark:text-white"},ze={class:"space-y-4"},Le={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ve={class:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-2"},De={class:"flex gap-2"},Ne={class:"flex items-center gap-2 cursor-pointer"},je={class:"flex items-center gap-2 cursor-pointer"},Se={class:"flex items-center gap-2 cursor-pointer"},Te={class:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-2"},Ue={class:"flex gap-2"},Be={class:"flex items-center gap-2 cursor-pointer"},Ee={class:"flex items-center gap-2 cursor-pointer"},Ae={class:"flex items-center gap-2 cursor-pointer"},qe={class:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-2"},Ie={class:"flex gap-2"},Oe={class:"flex items-center gap-2 cursor-pointer"},Fe={class:"flex items-center gap-2 cursor-pointer"},He={class:"flex items-center gap-2 cursor-pointer"},Pe={class:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-2"},Re={class:"flex gap-2"},Qe={class:"flex items-center gap-2 cursor-pointer"},We={class:"flex items-center gap-2 cursor-pointer"},Je={class:"flex items-center gap-2 cursor-pointer"},Ge={class:"flex items-start justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},Ke={class:"flex items-start justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},Xe={class:"flex items-start justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},Ye={class:"flex items-start justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},Ze={class:"space-y-4"},et={class:"grid grid-cols-1 gap-4"},tt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},rt={key:0,class:"text-sm text-gray-900 dark:text-white whitespace-pre-wrap"},at={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},st={key:0,class:"text-sm text-gray-900 dark:text-white whitespace-pre-wrap"},ot={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},lt={key:0,class:"text-sm text-gray-900 dark:text-white whitespace-pre-wrap"},nt={key:2,class:"text-center py-12"},it={class:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-800 flex-shrink-0"},dt={class:"flex items-center gap-2"},ut=["disabled"],gt={key:0},pt={key:1},yt={__name:"CleaningDetailModal",props:{isOpen:{type:Boolean,required:!0},cleaningId:{type:Number,default:null}},emits:["close","deleted"],setup(I,{emit:U}){const w=I,L=U,o=b(null),M=b(!1),v=b(!1),f=b(!1),h=b(!1),a=b(null),d=b({hd_machine_cleaning:null,osmosis_cleaning:null,serum_support_cleaning:null,chemical_disinfection:null,cleaning_products_used:"",cleaning_procedure:"",observations:""});X(()=>w.cleaningId,n=>{n&&w.isOpen&&D()},{immediate:!0}),X(()=>w.isOpen,n=>{n&&w.cleaningId?D():v.value=!1});async function D(){if(w.cleaningId)try{M.value=!0;const n=await T.get(`/api/cleaning-controls/${w.cleaningId}`);o.value=n.data}catch(n){console.error("Error loading cleaning:",n)}finally{M.value=!1}}function B(){v.value=!v.value,v.value&&(d.value={hd_machine_cleaning:o.value.hd_machine_cleaning,osmosis_cleaning:o.value.osmosis_cleaning,serum_support_cleaning:o.value.serum_support_cleaning,chemical_disinfection:o.value.chemical_disinfection,cleaning_products_used:o.value.cleaning_products_used||"",cleaning_procedure:o.value.cleaning_procedure||"",observations:o.value.observations||""})}function E(){v.value=!1}async function O(){try{f.value=!0;const n=await T.put(`/api/cleaning-controls/${w.cleaningId}`,d.value);n.data.success&&(o.value=n.data.cleaning,v.value=!1)}catch(n){console.error("Error saving cleaning:",n),alert("Erro ao salvar limpeza")}finally{f.value=!1}}async function N(){try{(await T.delete(`/api/cleaning-controls/${w.cleaningId}`)).data.success&&(a.value?.resetDeletingState(),h.value=!1,j("Limpeza excluída com sucesso!"),L("deleted"),S())}catch(n){console.error("Error deleting cleaning:",n),a.value?.resetDeletingState();const r=n.response?.data?.message||"Erro ao excluir limpeza";P(r)}}function j(n){const r=document.createElement("div");r.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-green-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",r.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
    </svg>
    <span class="font-medium">${n}</span>
  `,document.body.appendChild(r),setTimeout(()=>{r.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>r.remove(),300)},3e3)}function P(n){const r=document.createElement("div");r.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-red-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",r.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
    </svg>
    <span class="font-medium">${n}</span>
  `,document.body.appendChild(r),setTimeout(()=>{r.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>r.remove(),300)},4e3)}function S(){L("close")}function A(n){return n.special_cleaning?"Especial":n.monthly_cleaning?"Mensal":n.weekly_cleaning?"Semanal":n.daily_cleaning?"Diária":"N/A"}function k(n){return n.special_cleaning?"inline-flex items-center px-3 py-1 text-sm font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400 rounded-full":n.monthly_cleaning?"inline-flex items-center px-3 py-1 text-sm font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400 rounded-full":n.weekly_cleaning?"inline-flex items-center px-3 py-1 text-sm font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400 rounded-full":n.daily_cleaning?"inline-flex items-center px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 rounded-full":"inline-flex items-center px-3 py-1 text-sm font-medium bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400 rounded-full"}function t(n){return{matutino:"Matutino",vespertino:"Vespertino",noturno:"Noturno",morning:"Matutino",afternoon:"Vespertino",night:"Noturno"}[n]||n}function l(n){return n?new Date(n).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A"}function z(n){return n===!0?"Conforme":n===!1?"Não Conforme":"N/A"}function q(n){return n===!0?"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 rounded-full":n===!1?"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400 rounded-full":"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400 rounded-full"}return(n,r)=>(i(),Z(re,{to:"body"},[R(te,{name:"modal"},{default:ee(()=>[I.isOpen?(i(),u("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:C(S,["self"])},[e("div",{class:"bg-white dark:bg-gray-950 rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden border border-gray-200 dark:border-gray-800 flex flex-col",onClick:r[16]||(r[16]=C(()=>{},["stop"]))},[e("div",ge,[e("div",null,[e("h3",pe," Detalhes da Limpeza #"+c(o.value?.id),1),e("p",ye,c(l(o.value?.cleaning_date)),1)]),e("button",{onClick:S,class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors"},[...r[18]||(r[18]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",xe,[M.value?(i(),u("div",ce,[...r[19]||(r[19]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"},null,-1)])])):o.value?(i(),u("div",me,[e("div",be,[e("span",{class:p(k(o.value))},c(A(o.value)),3)]),e("div",ve,[e("div",fe,[r[20]||(r[20]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Máquina",-1)),e("p",ke,c(o.value.machine?.name||"N/A"),1)]),e("div",he,[r[21]||(r[21]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Data da Limpeza",-1)),e("p",we,c(l(o.value.cleaning_date)),1)]),e("div",_e,[r[22]||(r[22]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Turno",-1)),e("p",Ce,c(t(o.value.shift)),1)]),e("div",$e,[r[23]||(r[23]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-1"},"Responsável",-1)),e("p",Me,c(o.value.user?.name||"N/A"),1)])]),e("div",ze,[r[44]||(r[44]=e("h4",{class:"text-base font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2"}," Itens da Limpeza ",-1)),e("div",Le,[v.value?(i(),u(H,{key:0},[e("div",Ve,[r[27]||(r[27]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Máquina de HD",-1)),e("div",De,[e("label",Ne,[x(e("input",{"onUpdate:modelValue":r[0]||(r[0]=y=>d.value.hd_machine_cleaning=y),type:"radio",value:!0,class:"w-4 h-4 text-green-600 border-gray-300 focus:ring-green-500"},null,512),[[$,d.value.hd_machine_cleaning]]),r[24]||(r[24]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Conforme",-1))]),e("label",je,[x(e("input",{"onUpdate:modelValue":r[1]||(r[1]=y=>d.value.hd_machine_cleaning=y),type:"radio",value:!1,class:"w-4 h-4 text-red-600 border-gray-300 focus:ring-red-500"},null,512),[[$,d.value.hd_machine_cleaning]]),r[25]||(r[25]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Não Conforme",-1))]),e("label",Se,[x(e("input",{"onUpdate:modelValue":r[2]||(r[2]=y=>d.value.hd_machine_cleaning=y),type:"radio",value:null,class:"w-4 h-4 text-gray-600 border-gray-300 focus:ring-gray-500"},null,512),[[$,d.value.hd_machine_cleaning]]),r[26]||(r[26]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"N/A",-1))])])]),e("div",Te,[r[31]||(r[31]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Osmose",-1)),e("div",Ue,[e("label",Be,[x(e("input",{"onUpdate:modelValue":r[3]||(r[3]=y=>d.value.osmosis_cleaning=y),type:"radio",value:!0,class:"w-4 h-4 text-green-600 border-gray-300 focus:ring-green-500"},null,512),[[$,d.value.osmosis_cleaning]]),r[28]||(r[28]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Conforme",-1))]),e("label",Ee,[x(e("input",{"onUpdate:modelValue":r[4]||(r[4]=y=>d.value.osmosis_cleaning=y),type:"radio",value:!1,class:"w-4 h-4 text-red-600 border-gray-300 focus:ring-red-500"},null,512),[[$,d.value.osmosis_cleaning]]),r[29]||(r[29]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Não Conforme",-1))]),e("label",Ae,[x(e("input",{"onUpdate:modelValue":r[5]||(r[5]=y=>d.value.osmosis_cleaning=y),type:"radio",value:null,class:"w-4 h-4 text-gray-600 border-gray-300 focus:ring-gray-500"},null,512),[[$,d.value.osmosis_cleaning]]),r[30]||(r[30]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"N/A",-1))])])]),e("div",qe,[r[35]||(r[35]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Suporte de Soro",-1)),e("div",Ie,[e("label",Oe,[x(e("input",{"onUpdate:modelValue":r[6]||(r[6]=y=>d.value.serum_support_cleaning=y),type:"radio",value:!0,class:"w-4 h-4 text-green-600 border-gray-300 focus:ring-green-500"},null,512),[[$,d.value.serum_support_cleaning]]),r[32]||(r[32]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Conforme",-1))]),e("label",Fe,[x(e("input",{"onUpdate:modelValue":r[7]||(r[7]=y=>d.value.serum_support_cleaning=y),type:"radio",value:!1,class:"w-4 h-4 text-red-600 border-gray-300 focus:ring-red-500"},null,512),[[$,d.value.serum_support_cleaning]]),r[33]||(r[33]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Não Conforme",-1))]),e("label",He,[x(e("input",{"onUpdate:modelValue":r[8]||(r[8]=y=>d.value.serum_support_cleaning=y),type:"radio",value:null,class:"w-4 h-4 text-gray-600 border-gray-300 focus:ring-gray-500"},null,512),[[$,d.value.serum_support_cleaning]]),r[34]||(r[34]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"N/A",-1))])])]),e("div",Pe,[r[39]||(r[39]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Desinfecção Química",-1)),e("div",Re,[e("label",Qe,[x(e("input",{"onUpdate:modelValue":r[9]||(r[9]=y=>d.value.chemical_disinfection=y),type:"radio",value:!0,class:"w-4 h-4 text-green-600 border-gray-300 focus:ring-green-500"},null,512),[[$,d.value.chemical_disinfection]]),r[36]||(r[36]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Conforme",-1))]),e("label",We,[x(e("input",{"onUpdate:modelValue":r[10]||(r[10]=y=>d.value.chemical_disinfection=y),type:"radio",value:!1,class:"w-4 h-4 text-red-600 border-gray-300 focus:ring-red-500"},null,512),[[$,d.value.chemical_disinfection]]),r[37]||(r[37]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"Não Conforme",-1))]),e("label",Je,[x(e("input",{"onUpdate:modelValue":r[11]||(r[11]=y=>d.value.chemical_disinfection=y),type:"radio",value:null,class:"w-4 h-4 text-gray-600 border-gray-300 focus:ring-gray-500"},null,512),[[$,d.value.chemical_disinfection]]),r[38]||(r[38]=e("span",{class:"text-sm text-gray-700 dark:text-gray-300"},"N/A",-1))])])])],64)):(i(),u(H,{key:1},[e("div",Ge,[r[40]||(r[40]=e("span",{class:"text-sm text-gray-900 dark:text-white"},"Máquina de HD",-1)),e("span",{class:p(q(o.value.hd_machine_cleaning))},c(z(o.value.hd_machine_cleaning)),3)]),e("div",Ke,[r[41]||(r[41]=e("span",{class:"text-sm text-gray-900 dark:text-white"},"Osmose",-1)),e("span",{class:p(q(o.value.osmosis_cleaning))},c(z(o.value.osmosis_cleaning)),3)]),e("div",Xe,[r[42]||(r[42]=e("span",{class:"text-sm text-gray-900 dark:text-white"},"Suporte de Soro",-1)),e("span",{class:p(q(o.value.serum_support_cleaning))},c(z(o.value.serum_support_cleaning)),3)]),e("div",Ye,[r[43]||(r[43]=e("span",{class:"text-sm text-gray-900 dark:text-white"},"Desinfecção Química",-1)),e("span",{class:p(q(o.value.chemical_disinfection))},c(z(o.value.chemical_disinfection)),3)])],64))])]),e("div",Ze,[r[47]||(r[47]=e("h4",{class:"text-base font-semibold text-gray-900 dark:text-white border-b border-gray-200 dark:border-gray-700 pb-2"}," Produtos e Procedimentos ",-1)),e("div",et,[e("div",tt,[r[45]||(r[45]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},"Produtos Utilizados",-1)),v.value?x((i(),u("textarea",{key:1,"onUpdate:modelValue":r[12]||(r[12]=y=>d.value.cleaning_products_used=y),rows:"3",class:"w-full text-sm text-gray-900 dark:text-white bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg p-2 focus:ring-2 focus:ring-primary-500",placeholder:"Produtos utilizados na limpeza..."},null,512)),[[V,d.value.cleaning_products_used]]):(i(),u("p",rt,c(o.value.cleaning_products_used||"Não informado"),1))]),e("div",at,[r[46]||(r[46]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},"Procedimento de Limpeza",-1)),v.value?x((i(),u("textarea",{key:1,"onUpdate:modelValue":r[13]||(r[13]=y=>d.value.cleaning_procedure=y),rows:"4",class:"w-full text-sm text-gray-900 dark:text-white bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg p-2 focus:ring-2 focus:ring-primary-500",placeholder:"Descreva o procedimento..."},null,512)),[[V,d.value.cleaning_procedure]]):(i(),u("p",st,c(o.value.cleaning_procedure||"Não informado"),1))])])]),e("div",ot,[r[48]||(r[48]=e("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-2"},"Observações",-1)),v.value?x((i(),u("textarea",{key:1,"onUpdate:modelValue":r[14]||(r[14]=y=>d.value.observations=y),rows:"3",class:"w-full text-sm text-gray-900 dark:text-white bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg p-2 focus:ring-2 focus:ring-primary-500",placeholder:"Observações gerais..."},null,512)),[[V,d.value.observations]]):(i(),u("p",lt,c(o.value.observations||"Sem observações"),1))])])):(i(),u("div",nt,[...r[49]||(r[49]=[e("p",{class:"text-gray-500 dark:text-gray-400"},"Erro ao carregar detalhes da limpeza",-1)])]))]),e("div",it,[e("div",null,[o.value?(i(),u("button",{key:0,onClick:r[15]||(r[15]=y=>h.value=!0),class:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors"}," Excluir ")):_("",!0)]),e("div",dt,[v.value?(i(),u(H,{key:0},[e("button",{onClick:E,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors"}," Cancelar "),e("button",{onClick:O,disabled:f.value,class:"px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[f.value?(i(),u("span",gt,"Salvando...")):(i(),u("span",pt,"Salvar"))],8,ut)],64)):(i(),u(H,{key:1},[o.value?(i(),u("button",{key:0,onClick:B,class:"px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors"}," Editar ")):_("",!0),e("button",{onClick:S,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors"}," Fechar ")],64))])])])])):_("",!0)]),_:1}),R(ue,{"is-open":h.value,title:"Confirmar Exclusão da Limpeza",message:"Tem certeza que deseja excluir este registro de limpeza?","item-name":`Limpeza #${o.value?.id} - ${o.value?.machine?.name}`,onClose:r[17]||(r[17]=y=>h.value=!1),onConfirm:N,ref_key:"deleteModalRef",ref:a},null,8,["is-open","item-name"])]))}},xt=Y(yt,[["__scopeId","data-v-17944180"]]),ct={class:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800 flex-shrink-0"},mt={class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},bt={class:"w-full h-2 bg-gray-200 dark:bg-gray-800"},vt={class:"p-6 overflow-y-auto flex-1"},ft={class:"space-y-6"},kt={class:"space-y-2"},ht={key:0,class:"flex items-center justify-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},wt={key:1,class:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg"},_t=["value"],Ct={class:"space-y-2"},$t={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},Mt={class:"grid grid-cols-2 gap-4"},zt={class:"space-y-2"},Lt=["max"],Vt={class:"space-y-2"},Dt={class:"space-y-6"},Nt={class:"grid grid-cols-2 gap-4"},jt={class:"flex items-center gap-3"},St={key:0,class:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Tt={class:"flex items-center gap-3"},Ut={key:0,class:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Bt={class:"flex items-center gap-3"},Et={key:0,class:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},At={class:"flex items-center gap-3"},qt={key:0,class:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},It={class:"space-y-6"},Ot={class:"space-y-4"},Ft={class:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},Ht={class:"flex gap-3"},Pt={class:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},Rt={class:"flex gap-3"},Qt={class:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},Wt={class:"flex gap-3"},Jt={class:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},Gt={class:"flex gap-3"},Kt={class:"space-y-6"},Xt={class:"space-y-4"},Yt={class:"flex items-center justify-between p-6 border-t border-gray-200 dark:border-gray-800 flex-shrink-0"},Zt={key:1},er={class:"flex items-center gap-2"},tr=["disabled"],rr=["disabled"],ar={__name:"CleaningWizardModal",props:{isOpen:{type:Boolean,required:!0}},emits:["close","created"],setup(I,{emit:U}){const w=I,L=U,o=b(1),M=b([]),v=b(!1),f=b(!1),h=new Date().toISOString().split("T")[0],a=b({machine_id:"",shift:"",cleaning_date:h,cleaning_time:new Date().toTimeString().slice(0,5),daily_cleaning:!1,weekly_cleaning:!1,monthly_cleaning:!1,special_cleaning:!1,hd_machine_cleaning:null,osmosis_cleaning:null,serum_support_cleaning:null,chemical_disinfection:null,cleaning_products_used:"",cleaning_procedure:"",observations:""}),d=J(()=>o.value===1?a.value.machine_id&&a.value.shift&&a.value.cleaning_date&&a.value.cleaning_time:o.value===2?a.value.daily_cleaning||a.value.weekly_cleaning||a.value.monthly_cleaning||a.value.special_cleaning:!0),D=J(()=>a.value.machine_id&&a.value.shift&&a.value.cleaning_date&&a.value.cleaning_time&&(a.value.daily_cleaning||a.value.weekly_cleaning||a.value.monthly_cleaning||a.value.special_cleaning));X(()=>w.isOpen,k=>{k&&(o.value=1,B(),E())}),ae(()=>{w.isOpen&&B()});async function B(){try{v.value=!0;const k=await T.get("/api/me"),t=k.data.current_unit_id||k.data.unit_id,l=t?{scoped_unit_id:t}:{},z=await T.get("/api/machines",{params:l});M.value=z.data.machines||z.data.data||[]}catch(k){console.error("Error loading machines:",k)}finally{v.value=!1}}function E(){a.value={machine_id:"",shift:"",cleaning_date:h,cleaning_time:new Date().toTimeString().slice(0,5),daily_cleaning:!1,weekly_cleaning:!1,monthly_cleaning:!1,special_cleaning:!1,hd_machine_cleaning:null,osmosis_cleaning:null,serum_support_cleaning:null,chemical_disinfection:null,cleaning_products_used:"",cleaning_procedure:"",observations:""}}function O(){d.value&&o.value<4&&o.value++}function N(){o.value>1&&o.value--}async function j(){if(!(!D.value||f.value))try{f.value=!0,(await T.post("/api/cleaning-controls",a.value)).data.success&&(P("Checklist de limpeza salvo com sucesso!"),L("created"),f.value=!1,L("close"))}catch(k){console.error("Error creating cleaning control:",k);const t=k.response?.data?.message||"Erro ao salvar checklist de limpeza";S(t)}finally{f.value=!1}}function P(k){const t=document.createElement("div");t.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-green-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",t.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
    </svg>
    <span class="font-medium">${k}</span>
  `,document.body.appendChild(t),setTimeout(()=>{t.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>t.remove(),300)},3e3)}function S(k){const t=document.createElement("div");t.className="fixed top-4 right-4 z-[100] px-6 py-4 bg-red-600 text-white rounded-lg shadow-lg flex items-center gap-3 animate-slide-in-right",t.innerHTML=`
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
    </svg>
    <span class="font-medium">${k}</span>
  `,document.body.appendChild(t),setTimeout(()=>{t.style.animation="slide-out-right 0.3s ease-out forwards",setTimeout(()=>t.remove(),300)},4e3)}function A(){f.value||L("close")}return(k,t)=>(i(),Z(re,{to:"body"},[R(te,{name:"modal"},{default:ee(()=>[I.isOpen?(i(),u("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",onClick:C(A,["self"])},[e("div",{class:"bg-white dark:bg-gray-950 rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden border border-gray-200 dark:border-gray-800 flex flex-col",onClick:t[25]||(t[25]=C(()=>{},["stop"]))},[e("div",ct,[e("div",null,[t[26]||(t[26]=e("h3",{class:"text-xl font-bold text-gray-900 dark:text-white"}," Novo Checklist de Limpeza ",-1)),e("p",mt," Passo "+c(o.value)+" de 4 ",1)]),e("button",{onClick:A,class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors"},[...t[27]||(t[27]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",bt,[e("div",{class:"h-full bg-primary-600 transition-all duration-300",style:le({width:`${o.value/4*100}%`})},null,4)]),e("div",vt,[x(e("div",ft,[t[38]||(t[38]=e("h4",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Máquina, Turno e Data",-1)),e("div",kt,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Selecione a Máquina ",-1)),v.value?(i(),u("div",ht,[...t[28]||(t[28]=[e("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"},null,-1),e("span",{class:"ml-2 text-sm text-gray-600 dark:text-gray-400"},"Carregando máquinas...",-1)])])):M.value.length===0?(i(),u("div",wt,[...t[29]||(t[29]=[e("p",{class:"text-sm text-yellow-800 dark:text-yellow-400"}," ⚠️ Nenhuma máquina disponível. Verifique se há máquinas cadastradas para sua unidade. ",-1)])])):x((i(),u("select",{key:2,"onUpdate:modelValue":t[0]||(t[0]=l=>a.value.machine_id=l),class:"w-full px-4 py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 text-gray-900 dark:text-white"},[t[30]||(t[30]=e("option",{value:""},"Selecione uma máquina...",-1)),(i(!0),u(H,null,se(M.value,l=>(i(),u("option",{key:l.id,value:l.id},c(l.name),9,_t))),128))],512)),[[oe,a.value.machine_id]])]),e("div",Ct,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Selecione o Turno ",-1)),e("div",$t,[e("button",{type:"button",onClick:t[1]||(t[1]=l=>a.value.shift="matutino"),class:p(["p-4 rounded-lg border-2 transition-all flex flex-col items-center gap-2",a.value.shift==="matutino"?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600"])},[...t[32]||(t[32]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})],-1),e("div",{class:"text-center"},[e("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Matutino"),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"06:00-12:00")],-1)])],2),e("button",{type:"button",onClick:t[2]||(t[2]=l=>a.value.shift="vespertino"),class:p(["p-4 rounded-lg border-2 transition-all flex flex-col items-center gap-2",a.value.shift==="vespertino"?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600"])},[...t[33]||(t[33]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})],-1),e("div",{class:"text-center"},[e("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Vespertino"),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"12:00-18:00")],-1)])],2),e("button",{type:"button",onClick:t[3]||(t[3]=l=>a.value.shift="noturno"),class:p(["p-4 rounded-lg border-2 transition-all flex flex-col items-center gap-2",a.value.shift==="noturno"?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600"])},[...t[34]||(t[34]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})],-1),e("div",{class:"text-center"},[e("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Noturno"),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"18:00-00:00")],-1)])],2)])]),e("div",Mt,[e("div",zt,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Data da Limpeza ",-1)),x(e("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=l=>a.value.cleaning_date=l),max:ne(h),class:"w-full px-4 py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 text-gray-900 dark:text-white"},null,8,Lt),[[V,a.value.cleaning_date]])]),e("div",Vt,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Horário da Limpeza ",-1)),x(e("input",{type:"time","onUpdate:modelValue":t[5]||(t[5]=l=>a.value.cleaning_time=l),class:"w-full px-4 py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 text-gray-900 dark:text-white"},null,512),[[V,a.value.cleaning_time]])])])],512),[[Q,o.value===1]]),x(e("div",Dt,[t[47]||(t[47]=e("h4",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Tipo de Limpeza",-1)),e("div",Nt,[e("label",{class:p(["relative p-4 rounded-lg border-2 transition-all cursor-pointer",a.value.daily_cleaning?"border-blue-600 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600"])},[x(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=l=>a.value.daily_cleaning=l),class:"sr-only"},null,512),[[W,a.value.daily_cleaning]]),e("div",jt,[e("div",{class:p(["w-5 h-5 rounded border-2 flex items-center justify-center",a.value.daily_cleaning?"border-blue-600 bg-blue-600":"border-gray-300 dark:border-gray-600"])},[a.value.daily_cleaning?(i(),u("svg",St,[...t[39]||(t[39]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"},null,-1)])])):_("",!0)],2),t[40]||(t[40]=e("div",null,[e("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Limpeza Diária"),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Limpeza rotineira")],-1))])],2),e("label",{class:p(["relative p-4 rounded-lg border-2 transition-all cursor-pointer",a.value.weekly_cleaning?"border-yellow-600 bg-yellow-50 dark:bg-yellow-900/20":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600"])},[x(e("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=l=>a.value.weekly_cleaning=l),class:"sr-only"},null,512),[[W,a.value.weekly_cleaning]]),e("div",Tt,[e("div",{class:p(["w-5 h-5 rounded border-2 flex items-center justify-center",a.value.weekly_cleaning?"border-yellow-600 bg-yellow-600":"border-gray-300 dark:border-gray-600"])},[a.value.weekly_cleaning?(i(),u("svg",Ut,[...t[41]||(t[41]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"},null,-1)])])):_("",!0)],2),t[42]||(t[42]=e("div",null,[e("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Limpeza Semanal"),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Limpeza profunda")],-1))])],2),e("label",{class:p(["relative p-4 rounded-lg border-2 transition-all cursor-pointer",a.value.monthly_cleaning?"border-purple-600 bg-purple-50 dark:bg-purple-900/20":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600"])},[x(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=l=>a.value.monthly_cleaning=l),class:"sr-only"},null,512),[[W,a.value.monthly_cleaning]]),e("div",Bt,[e("div",{class:p(["w-5 h-5 rounded border-2 flex items-center justify-center",a.value.monthly_cleaning?"border-purple-600 bg-purple-600":"border-gray-300 dark:border-gray-600"])},[a.value.monthly_cleaning?(i(),u("svg",Et,[...t[43]||(t[43]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"},null,-1)])])):_("",!0)],2),t[44]||(t[44]=e("div",null,[e("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Limpeza Mensal"),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Manutenção preventiva")],-1))])],2),e("label",{class:p(["relative p-4 rounded-lg border-2 transition-all cursor-pointer",a.value.special_cleaning?"border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-700 hover:border-gray-400 dark:hover:border-gray-600"])},[x(e("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=l=>a.value.special_cleaning=l),class:"sr-only"},null,512),[[W,a.value.special_cleaning]]),e("div",At,[e("div",{class:p(["w-5 h-5 rounded border-2 flex items-center justify-center",a.value.special_cleaning?"border-red-600 bg-red-600":"border-gray-300 dark:border-gray-600"])},[a.value.special_cleaning?(i(),u("svg",qt,[...t[45]||(t[45]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 13l4 4L19 7"},null,-1)])])):_("",!0)],2),t[46]||(t[46]=e("div",null,[e("div",{class:"text-sm font-medium text-gray-900 dark:text-white"},"Limpeza Especial"),e("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"Situação excepcional")],-1))])],2)])],512),[[Q,o.value===2]]),x(e("div",It,[t[52]||(t[52]=e("div",null,[e("h4",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},"Itens de Limpeza"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Marque a conformidade de cada item")],-1)),t[53]||(t[53]=e("div",{class:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-3 h-3 rounded-full bg-green-500"}),e("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Conforme")]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-3 h-3 rounded-full bg-red-500"}),e("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"Não Conforme")]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-3 h-3 rounded-full bg-gray-400"}),e("span",{class:"text-xs text-gray-600 dark:text-gray-400"},"N/A")])],-1)),e("div",Ot,[e("div",Ft,[t[48]||(t[48]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white mb-3"},"Máquina de HD",-1)),e("div",Ht,[e("button",{type:"button",onClick:t[10]||(t[10]=l=>a.value.hd_machine_cleaning=!0),class:p(["flex-1 px-4 py-2 rounded-lg border-2 transition-all text-sm font-medium",a.value.hd_machine_cleaning===!0?"border-green-600 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])}," Conforme ",2),e("button",{type:"button",onClick:t[11]||(t[11]=l=>a.value.hd_machine_cleaning=!1),class:p(["flex-1 px-4 py-2 rounded-lg border-2 transition-all text-sm font-medium",a.value.hd_machine_cleaning===!1?"border-red-600 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])}," Não Conforme ",2),e("button",{type:"button",onClick:t[12]||(t[12]=l=>a.value.hd_machine_cleaning=null),class:p(["flex-1 px-4 py-2 rounded-lg border-2 transition-all text-sm font-medium",a.value.hd_machine_cleaning===null?"border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])}," N/A ",2)])]),e("div",Pt,[t[49]||(t[49]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white mb-3"},"Osmose",-1)),e("div",Rt,[e("button",{type:"button",onClick:t[13]||(t[13]=l=>a.value.osmosis_cleaning=!0),class:p(["flex-1 px-4 py-2 rounded-lg border-2 transition-all text-sm font-medium",a.value.osmosis_cleaning===!0?"border-green-600 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])}," Conforme ",2),e("button",{type:"button",onClick:t[14]||(t[14]=l=>a.value.osmosis_cleaning=!1),class:p(["flex-1 px-4 py-2 rounded-lg border-2 transition-all text-sm font-medium",a.value.osmosis_cleaning===!1?"border-red-600 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])}," Não Conforme ",2),e("button",{type:"button",onClick:t[15]||(t[15]=l=>a.value.osmosis_cleaning=null),class:p(["flex-1 px-4 py-2 rounded-lg border-2 transition-all text-sm font-medium",a.value.osmosis_cleaning===null?"border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])}," N/A ",2)])]),e("div",Qt,[t[50]||(t[50]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white mb-3"},"Suporte de Soro",-1)),e("div",Wt,[e("button",{type:"button",onClick:t[16]||(t[16]=l=>a.value.serum_support_cleaning=!0),class:p(["flex-1 px-4 py-2 rounded-lg border-2 transition-all text-sm font-medium",a.value.serum_support_cleaning===!0?"border-green-600 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])}," Conforme ",2),e("button",{type:"button",onClick:t[17]||(t[17]=l=>a.value.serum_support_cleaning=!1),class:p(["flex-1 px-4 py-2 rounded-lg border-2 transition-all text-sm font-medium",a.value.serum_support_cleaning===!1?"border-red-600 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])}," Não Conforme ",2),e("button",{type:"button",onClick:t[18]||(t[18]=l=>a.value.serum_support_cleaning=null),class:p(["flex-1 px-4 py-2 rounded-lg border-2 transition-all text-sm font-medium",a.value.serum_support_cleaning===null?"border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])}," N/A ",2)])]),e("div",Jt,[t[51]||(t[51]=e("p",{class:"text-sm font-medium text-gray-900 dark:text-white mb-3"},"Desinfecção Química",-1)),e("div",Gt,[e("button",{type:"button",onClick:t[19]||(t[19]=l=>a.value.chemical_disinfection=!0),class:p(["flex-1 px-4 py-2 rounded-lg border-2 transition-all text-sm font-medium",a.value.chemical_disinfection===!0?"border-green-600 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])}," Conforme ",2),e("button",{type:"button",onClick:t[20]||(t[20]=l=>a.value.chemical_disinfection=!1),class:p(["flex-1 px-4 py-2 rounded-lg border-2 transition-all text-sm font-medium",a.value.chemical_disinfection===!1?"border-red-600 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])}," Não Conforme ",2),e("button",{type:"button",onClick:t[21]||(t[21]=l=>a.value.chemical_disinfection=null),class:p(["flex-1 px-4 py-2 rounded-lg border-2 transition-all text-sm font-medium",a.value.chemical_disinfection===null?"border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:border-gray-400 dark:hover:border-gray-500"])}," N/A ",2)])])])],512),[[Q,o.value===3]]),x(e("div",Kt,[t[57]||(t[57]=e("h4",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Produtos, Procedimentos e Observações",-1)),e("div",Xt,[e("div",null,[t[54]||(t[54]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Produtos Utilizados ",-1)),x(e("textarea",{"onUpdate:modelValue":t[22]||(t[22]=l=>a.value.cleaning_products_used=l),rows:"3",placeholder:"Liste os produtos utilizados na limpeza...",class:"w-full px-4 py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 text-gray-900 dark:text-white"},null,512),[[V,a.value.cleaning_products_used]])]),e("div",null,[t[55]||(t[55]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," Procedimento de Limpeza ",-1)),x(e("textarea",{"onUpdate:modelValue":t[23]||(t[23]=l=>a.value.cleaning_procedure=l),rows:"4",placeholder:"Descreva o procedimento de limpeza realizado...",class:"w-full px-4 py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 text-gray-900 dark:text-white"},null,512),[[V,a.value.cleaning_procedure]])]),e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},[F(" Observações "),e("span",{class:"text-gray-500"},"(opcional)")],-1)),x(e("textarea",{"onUpdate:modelValue":t[24]||(t[24]=l=>a.value.observations=l),rows:"3",placeholder:"Adicione observações sobre a limpeza (opcional)...",class:"w-full px-4 py-2 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 text-gray-900 dark:text-white"},null,512),[[V,a.value.observations]])])])],512),[[Q,o.value===4]])]),e("div",Yt,[o.value>1?(i(),u("button",{key:0,onClick:N,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors"}," Voltar ")):(i(),u("div",Zt)),e("div",er,[e("button",{onClick:A,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors"}," Cancelar "),o.value<4?(i(),u("button",{key:0,onClick:O,disabled:!d.value,class:"px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"}," Próximo ",8,tr)):(i(),u("button",{key:1,onClick:j,disabled:!D.value||f.value,class:"px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},c(f.value?"Salvando...":"Concluir Limpeza"),9,rr))])])])])):_("",!0)]),_:1})]))}},sr=Y(ar,[["__scopeId","data-v-95b9a61e"]]),or={class:"cleaning-checklists-view space-y-6"},lr={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},nr={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},ir={class:"text-2xl font-bold text-gray-900 dark:text-white mt-1"},dr={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},ur={class:"text-2xl font-bold text-blue-600 dark:text-blue-400 mt-1"},gr={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},pr={class:"text-2xl font-bold text-yellow-600 dark:text-yellow-400 mt-1"},yr={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 p-4"},xr={class:"text-2xl font-bold text-purple-600 dark:text-purple-400 mt-1"},cr={class:"bg-white dark:bg-gray-950 rounded-xl border border-gray-200 dark:border-gray-800 overflow-hidden"},mr={key:0,class:"flex items-center justify-center py-12"},br={key:1,class:"w-full"},vr={class:"bg-gray-50 dark:bg-gray-800/50"},fr={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},kr={class:"flex items-center gap-2"},hr={class:"relative"},wr={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},_r={class:"flex items-center gap-2"},Cr={class:"relative"},$r={class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},Mr={class:"flex items-center gap-2"},zr={class:"relative"},Lr={class:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"},Vr={class:"divide-y divide-gray-200 dark:divide-gray-700"},Dr={key:0},Nr={colspan:"9",class:"px-6 py-12 text-center"},jr={class:"text-sm text-gray-500 dark:text-gray-400 mb-3"},Sr={class:"px-6 py-4 text-sm font-medium text-gray-900 dark:text-white"},Tr={class:"px-6 py-4 text-sm text-gray-900 dark:text-white"},Ur={class:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400"},Br={class:"px-6 py-4"},Er={class:"px-6 py-4 text-center"},Ar={class:"px-6 py-4 text-center"},qr={class:"px-6 py-4 text-center"},Ir={class:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400"},Or={class:"px-6 py-4 text-right"},Fr=["onClick"],Hr={__name:"CleaningChecklistsView",setup(I){const U=b(!1),w=b(!1),L=b(null),o=b([]),M=b(!1),v=b({total_today:0,daily:0,weekly:0,monthly:0}),f=b(""),h=b(""),a=b(""),d=b(null);let D=null;const B=J(()=>{let g=o.value;if(f.value){const s=f.value.toLowerCase();g=g.filter(m=>m.machine?.name?.toLowerCase().includes(s))}return h.value&&(g=g.filter(s=>s.cleaning_date===h.value)),a.value&&(g=g.filter(s=>a.value==="daily"?s.daily_cleaning:a.value==="weekly"?s.weekly_cleaning:a.value==="monthly"?s.monthly_cleaning:a.value==="special"?s.special_cleaning:!0)),g}),E=J(()=>!!(f.value||h.value||a.value));function O(g){d.value=null}ae(()=>{N(),j(),D=setInterval(()=>{N(),j()},3e4),document.addEventListener("click",O)}),ie(()=>{D&&clearInterval(D),document.removeEventListener("click",O)});async function N(){try{M.value=!0;const g=await T.get("/api/cleaning-controls",{params:{per_page:50}});o.value=g.data.data||[]}catch(g){console.error("Error loading cleanings:",g)}finally{M.value=!1}}async function j(){try{const g=await T.get("/api/cleaning-controls/stats");g.data.success&&(v.value=g.data.stats)}catch(g){console.error("Error loading stats:",g)}}function P(g){L.value=g,w.value=!0}function S(){w.value=!1,L.value=null}function A(){N(),j()}function k(){U.value=!0}function t(){U.value=!1}function l(){N(),j()}function z(g){d.value===g?d.value=null:d.value=g}function q(){f.value="",h.value="",a.value="",d.value=null}function n(g){return g.special_cleaning?"Especial":g.monthly_cleaning?"Mensal":g.weekly_cleaning?"Semanal":g.daily_cleaning?"Diária":"N/A"}function r(g){return g.special_cleaning?"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400 rounded-full":g.monthly_cleaning?"px-2 py-1 text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-400 rounded-full":g.weekly_cleaning?"px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400 rounded-full":g.daily_cleaning?"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 rounded-full":"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400 rounded-full"}function y(g){return g?new Date(g).toLocaleDateString("pt-BR"):"N/A"}function G(g){return g===!0?"C":g===!1?"NC":"N/A"}function K(g){return g===!0?"inline-flex items-center justify-center w-8 h-8 text-xs font-bold bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 rounded-full":g===!1?"inline-flex items-center justify-center w-8 h-8 text-xs font-bold bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400 rounded-full":"inline-flex items-center justify-center w-8 h-8 text-xs font-bold bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400 rounded-full"}return(g,s)=>(i(),u("div",or,[e("div",{class:"flex items-center justify-between"},[s[13]||(s[13]=e("div",null,[e("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"Checklists de Limpeza"),e("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Controle de limpeza e desinfecção das máquinas")],-1)),e("button",{onClick:k,class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors font-medium flex items-center"},[...s[12]||(s[12]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),F(" Nova Limpeza ",-1)])])]),e("div",lr,[e("div",nr,[s[14]||(s[14]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total Hoje",-1)),e("p",ir,c(v.value.total_today),1)]),e("div",dr,[s[15]||(s[15]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Limpeza Diária",-1)),e("p",ur,c(v.value.daily),1)]),e("div",gr,[s[16]||(s[16]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Limpeza Semanal",-1)),e("p",pr,c(v.value.weekly),1)]),e("div",yr,[s[17]||(s[17]=e("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Limpeza Mensal",-1)),e("p",xr,c(v.value.monthly),1)])]),e("div",cr,[M.value?(i(),u("div",mr,[...s[18]||(s[18]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"},null,-1)])])):(i(),u("table",br,[e("thead",vr,[e("tr",null,[s[27]||(s[27]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"}," ID ",-1)),e("th",fr,[e("div",kr,[s[20]||(s[20]=F(" Máquina ",-1)),e("div",hr,[e("button",{onClick:s[0]||(s[0]=C(m=>z("machine"),["stop"])),class:p(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":f.value}])},[...s[19]||(s[19]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),d.value==="machine"?(i(),u("div",{key:0,onClick:s[3]||(s[3]=C(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[200px]"},[x(e("input",{"onUpdate:modelValue":s[1]||(s[1]=m=>f.value=m),type:"text",placeholder:"Filtrar máquina...",class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:s[2]||(s[2]=C(()=>{},["stop"]))},null,512),[[V,f.value]])])):_("",!0)])])]),e("th",wr,[e("div",_r,[s[22]||(s[22]=F(" Data ",-1)),e("div",Cr,[e("button",{onClick:s[4]||(s[4]=C(m=>z("date"),["stop"])),class:p(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":h.value}])},[...s[21]||(s[21]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),d.value==="date"?(i(),u("div",{key:0,onClick:s[7]||(s[7]=C(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[150px]"},[x(e("input",{"onUpdate:modelValue":s[5]||(s[5]=m=>h.value=m),type:"date",class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:s[6]||(s[6]=C(()=>{},["stop"]))},null,512),[[V,h.value]])])):_("",!0)])])]),e("th",$r,[e("div",Mr,[s[25]||(s[25]=F(" Tipo de Limpeza ",-1)),e("div",zr,[e("button",{onClick:s[8]||(s[8]=C(m=>z("type"),["stop"])),class:p(["p-1 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",{"text-primary-600 dark:text-primary-400":a.value}])},[...s[23]||(s[23]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1)])],2),d.value==="type"?(i(),u("div",{key:0,onClick:s[11]||(s[11]=C(()=>{},["stop"])),class:"absolute top-full left-0 mt-1 bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg shadow-lg p-3 z-10 min-w-[180px]"},[x(e("select",{"onUpdate:modelValue":s[9]||(s[9]=m=>a.value=m),class:"w-full px-2 py-1.5 text-sm bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded focus:ring-1 focus:ring-primary-500 focus:border-primary-500 text-gray-900 dark:text-white",onClick:s[10]||(s[10]=C(()=>{},["stop"]))},[...s[24]||(s[24]=[de('<option value="" data-v-997798cb>Todos</option><option value="daily" data-v-997798cb>Diária</option><option value="weekly" data-v-997798cb>Semanal</option><option value="monthly" data-v-997798cb>Mensal</option><option value="special" data-v-997798cb>Especial</option>',5)])],512),[[oe,a.value]])])):_("",!0)])])]),s[28]||(s[28]=e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"}," Desinfecção Química ",-1)),s[29]||(s[29]=e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"}," Máquina HD ",-1)),s[30]||(s[30]=e("th",{class:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"}," Osmose ",-1)),s[31]||(s[31]=e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase"}," Responsável ",-1)),e("th",Lr,[E.value?(i(),u("button",{key:0,onClick:q,class:"inline-flex items-center gap-1 px-2 py-1 text-xs text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Limpar todos os filtros"},[...s[26]||(s[26]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1),e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):_("",!0)])])]),e("tbody",Vr,[B.value.length===0?(i(),u("tr",Dr,[e("td",Nr,[e("p",jr,c(E.value?"Nenhuma limpeza encontrada com os filtros aplicados":"Nenhuma limpeza registrada hoje"),1),E.value?(i(),u("button",{key:0,onClick:q,class:"inline-flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium text-sm"},[...s[32]||(s[32]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})],-1),e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),F(" Limpar Filtros ",-1)])])):_("",!0)])])):_("",!0),(i(!0),u(H,null,se(B.value,m=>(i(),u("tr",{key:m.id,class:"hover:bg-gray-50 dark:hover:bg-gray-800/50"},[e("td",Sr," #"+c(m.id),1),e("td",Tr,c(m.machine?.name||"N/A"),1),e("td",Ur,c(y(m.cleaning_date)),1),e("td",Br,[e("span",{class:p(r(m))},c(n(m)),3)]),e("td",Er,[e("span",{class:p(K(m.chemical_disinfection))},c(G(m.chemical_disinfection)),3)]),e("td",Ar,[e("span",{class:p(K(m.hd_machine_cleaning))},c(G(m.hd_machine_cleaning)),3)]),e("td",qr,[e("span",{class:p(K(m.osmosis_cleaning))},c(G(m.osmosis_cleaning)),3)]),e("td",Ir,c(m.user?.name||"N/A"),1),e("td",Or,[e("button",{onClick:Pr=>P(m.id),class:"text-primary-600 dark:text-primary-400 hover:underline text-sm font-medium"}," Ver Detalhes ",8,Fr)])]))),128))])]))]),R(xt,{"is-open":w.value,"cleaning-id":L.value,onClose:S,onDeleted:A},null,8,["is-open","cleaning-id"]),R(sr,{"is-open":U.value,onClose:t,onCreated:l},null,8,["is-open"])]))}},Jr=Y(Hr,[["__scopeId","data-v-997798cb"]]);export{Jr as default};

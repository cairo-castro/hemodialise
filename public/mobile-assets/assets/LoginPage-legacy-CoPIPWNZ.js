System.register(["./vendor-legacy-X-yEH-Kx.js","./ionic-legacy-Bcx0Tl_t.js","./_plugin-vue_export-helper-legacy-Du2wO1NW.js","./main-legacy-CDStiije.js"],function(e,a){"use strict";var t,o,n,i,d,r,l,s,b,c,p,g,u,m,f,v,h,x,w,y,z,k,j,C,E,S,_,U,A,L,T;return{setters:[e=>{t=e.d,o=e.r,n=e.c,i=e.o,d=e.B,r=e.q,l=e.x,s=e.y,b=e.z,c=e.v,p=e.n,g=e.t,u=e.C,m=e.w,f=e.D,v=e.E},e=>{h=e.e,x=e.f,w=e.g,y=e.h,z=e.i,k=e.t},e=>{j=e.m,C=e.a,E=e.l,S=e.e,_=e.b,U=e.c,A=e.s,L=e._},e=>{T=e.C}],execute:function(){var a=document.createElement("style");a.textContent=".login-content[data-v-45bd3a7b]{--background: #f8f9fa}.bg-shape[data-v-45bd3a7b]{position:absolute;border-radius:50%;opacity:.05;pointer-events:none}.shape-1[data-v-45bd3a7b]{width:400px;height:400px;background:linear-gradient(135deg,#3b82f6,#2563eb);top:-200px;right:-100px}.shape-2[data-v-45bd3a7b]{width:300px;height:300px;background:linear-gradient(135deg,#10b981,#059669);bottom:-150px;left:-100px}.shape-3[data-v-45bd3a7b]{width:200px;height:200px;background:linear-gradient(135deg,#f59e0b,#d97706);top:50%;left:50%;transform:translate(-50%,-50%)}.loading-container[data-v-45bd3a7b]{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:2rem}.loading-card[data-v-45bd3a7b]{background:#fff;padding:3rem 2rem;border-radius:24px;box-shadow:0 10px 40px rgba(0,0,0,.1);text-align:center}.loading-spinner[data-v-45bd3a7b]{--color: #3b82f6;transform:scale(1.5);margin-bottom:1.5rem}.loading-text[data-v-45bd3a7b]{font-size:1rem;font-weight:600;color:#1f2937;margin:0}.login-container[data-v-45bd3a7b]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;padding:2rem 1.5rem;position:relative;overflow:hidden}.login-card[data-v-45bd3a7b]{width:100%;max-width:420px;background:#fff;border-radius:24px;padding:2.5rem 2rem;box-shadow:0 20px 60px rgba(0,0,0,.12);position:relative;z-index:10}.login-header[data-v-45bd3a7b]{text-align:center;margin-bottom:2rem}.logo-wrapper[data-v-45bd3a7b]{display:flex;justify-content:center;margin-bottom:1.5rem}.logo-circle[data-v-45bd3a7b]{width:80px;height:80px;border-radius:20px;background:linear-gradient(135deg,#3b82f6,#2563eb);display:flex;align-items:center;justify-content:center;box-shadow:0 10px 30px rgba(59,130,246,.3)}.logo-icon[data-v-45bd3a7b]{font-size:3rem;color:#fff}.app-title[data-v-45bd3a7b]{font-size:1.75rem;font-weight:800;color:#1f2937;margin:0 0 .5rem;letter-spacing:-.5px}.app-subtitle[data-v-45bd3a7b]{font-size:.938rem;color:#6b7280;margin:0;font-weight:500}.login-form[data-v-45bd3a7b]{display:flex;flex-direction:column;gap:1.5rem}.input-group[data-v-45bd3a7b]{display:flex;flex-direction:column;gap:.5rem}.input-label[data-v-45bd3a7b]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:600;color:#374151}.label-icon[data-v-45bd3a7b]{font-size:1rem;color:#3b82f6}.input-wrapper[data-v-45bd3a7b]{position:relative;display:flex;align-items:center}.input-field[data-v-45bd3a7b]{width:100%;padding:.875rem 1rem;border:2px solid #e5e7eb;border-radius:12px;font-size:1rem;color:#1f2937;background:#f9fafb;transition:all .2s ease;outline:none}.input-field[data-v-45bd3a7b]:focus{border-color:#3b82f6;background:#fff;box-shadow:0 0 0 4px rgba(59,130,246,.1)}.input-field[data-v-45bd3a7b]:disabled{opacity:.5;cursor:not-allowed}.input-field[data-v-45bd3a7b]::placeholder{color:#9ca3af}.password-toggle[data-v-45bd3a7b]{position:absolute;right:1rem;background:none;border:none;padding:.5rem;cursor:pointer;color:#6b7280;display:flex;align-items:center;justify-content:center;transition:color .2s ease}.password-toggle[data-v-45bd3a7b]:hover{color:#3b82f6}.password-toggle ion-icon[data-v-45bd3a7b]{font-size:1.25rem}.login-button[data-v-45bd3a7b]{width:100%;padding:1rem 1.5rem;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.75rem;transition:all .3s ease;box-shadow:0 4px 14px rgba(59,130,246,.4);margin-top:.5rem}.login-button[data-v-45bd3a7b]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px rgba(59,130,246,.5)}.login-button[data-v-45bd3a7b]:active:not(:disabled){transform:translateY(0)}.login-button[data-v-45bd3a7b]:disabled{opacity:.6;cursor:not-allowed;transform:none}.button-icon[data-v-45bd3a7b]{font-size:1.25rem}.card-footer[data-v-45bd3a7b]{margin-top:2rem;padding-top:1.5rem;border-top:1px solid #f3f4f6;display:flex;justify-content:center}.footer-badge[data-v-45bd3a7b]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#f0fdf4;border-radius:8px;font-size:.813rem;font-weight:600;color:#059669}.badge-icon[data-v-45bd3a7b]{font-size:1rem}.bottom-info[data-v-45bd3a7b]{margin-top:2rem;text-align:center;z-index:10}.info-text[data-v-45bd3a7b]{font-size:.875rem;font-weight:600;color:#4b5563;margin:0 0 .25rem}.info-subtext[data-v-45bd3a7b]{font-size:.813rem;color:#9ca3af;margin:0}@media (max-width: 480px){.login-card[data-v-45bd3a7b]{padding:2rem 1.5rem;border-radius:20px}.logo-circle[data-v-45bd3a7b]{width:70px;height:70px;border-radius:18px}.logo-icon[data-v-45bd3a7b]{font-size:2.5rem}.app-title[data-v-45bd3a7b]{font-size:1.5rem}.app-subtitle[data-v-45bd3a7b]{font-size:.875rem}.login-form[data-v-45bd3a7b]{gap:1.25rem}.input-field[data-v-45bd3a7b]{padding:.75rem .875rem;font-size:.938rem}.login-button[data-v-45bd3a7b]{padding:.875rem 1.25rem;font-size:.938rem}.shape-1[data-v-45bd3a7b],.shape-2[data-v-45bd3a7b],.shape-3[data-v-45bd3a7b]{opacity:.03}}@media (max-height: 700px){.login-container[data-v-45bd3a7b]{padding:1.5rem}.login-card[data-v-45bd3a7b]{padding:2rem 1.5rem}.login-header[data-v-45bd3a7b]{margin-bottom:1.5rem}.logo-wrapper[data-v-45bd3a7b]{margin-bottom:1rem}.logo-circle[data-v-45bd3a7b]{width:60px;height:60px}.logo-icon[data-v-45bd3a7b]{font-size:2rem}.login-form[data-v-45bd3a7b]{gap:1rem}.card-footer[data-v-45bd3a7b]{margin-top:1.5rem;padding-top:1rem}}\n",document.head.appendChild(a);const q={key:0,class:"loading-container"},D={class:"loading-card"},B={key:1,class:"login-container"},I={class:"login-card"},Q={class:"login-header"},R={class:"logo-wrapper"},V={class:"logo-circle"},Y={class:"input-group"},G={class:"input-label"},H={class:"input-wrapper"},K=["disabled"],M={class:"input-group"},O={class:"input-label"},P={class:"input-wrapper"},$=["type","disabled"],F=["disabled"],J={class:"card-footer"},N={class:"footer-badge"};e("default",L(t({__name:"LoginPage",setup(e){const a=b(),t=T.getInstance(),L=t.getLoginUseCase(),W=t.getCurrentUserUseCase(),X=t.getAuthRepository(),Z=o({email:"",password:""}),ee=o(!1),ae=o(!1),te=o(!1),oe=o({header:"",message:""}),ne=n(()=>Z.value.email.length>0&&Z.value.password.length>0),ie=async()=>{console.log("Starting login process..."),ee.value=!0;try{console.log("Executing login use case..."),await L.execute(Z.value),console.log("Login use case completed successfully"),console.log("Getting current user...");const e=await W.execute();console.log("Current user:",e),console.log("User role validation passed - checking permissions");const t=await k.create({message:`Bem-vindo, ${e.name}!`,duration:1500,color:"success",position:"top"});await t.present(),console.log("Toast presented"),console.log("About to navigate to dashboard..."),setTimeout(()=>{console.log("Executing router.replace to /dashboard"),a.replace("/dashboard"),console.log("Router.replace called")},100)}catch(e){console.error("Login error:",e),oe.value={header:"Erro no Login",message:e.message||"Erro interno. Tente novamente."},te.value=!0}finally{ee.value=!1}};return i(()=>{(async()=>{try{X.isAuthenticated()&&(await W.execute(),a.replace("/dashboard"))}catch(e){X.removeToken()}})()}),(e,a)=>(r(),d(s(h),null,{default:l(()=>[c(s(z),{fullscreen:!0,class:"login-content"},{default:l(()=>[ee.value?(r(),p("div",q,[g("div",D,[c(s(x),{name:"crescent",class:"loading-spinner"}),a[4]||(a[4]=g("p",{class:"loading-text"},"Autenticando...",-1))])])):(r(),p("div",B,[a[11]||(a[11]=g("div",{class:"bg-shape shape-1"},null,-1)),a[12]||(a[12]=g("div",{class:"bg-shape shape-2"},null,-1)),a[13]||(a[13]=g("div",{class:"bg-shape shape-3"},null,-1)),g("div",I,[g("div",Q,[g("div",R,[g("div",V,[c(s(w),{icon:s(j),class:"logo-icon"},null,8,["icon"])])]),a[5]||(a[5]=g("h1",{class:"app-title"},"Hemodiálise",-1)),a[6]||(a[6]=g("p",{class:"app-subtitle"},"Sistema de Segurança e Qualidade",-1))]),g("form",{onSubmit:u(ie,["prevent"]),class:"login-form"},[g("div",Y,[g("label",G,[c(s(w),{icon:s(C),class:"label-icon"},null,8,["icon"]),a[7]||(a[7]=g("span",null,"Email",-1))]),g("div",H,[m(g("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>Z.value.email=e),type:"email",required:"",disabled:ee.value,placeholder:"seu.email@exemplo.com",class:"input-field",autocomplete:"email"},null,8,K),[[f,Z.value.email]])])]),g("div",M,[g("label",O,[c(s(w),{icon:s(E),class:"label-icon"},null,8,["icon"]),a[8]||(a[8]=g("span",null,"Senha",-1))]),g("div",P,[m(g("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>Z.value.password=e),type:ae.value?"text":"password",required:"",disabled:ee.value,placeholder:"••••••••",class:"input-field",autocomplete:"current-password"},null,8,$),[[v,Z.value.password]]),g("button",{type:"button",class:"password-toggle",onClick:a[2]||(a[2]=e=>ae.value=!ae.value),tabindex:"-1"},[c(s(w),{icon:ae.value?s(S):s(_)},null,8,["icon"])])])]),g("button",{type:"submit",class:"login-button",disabled:ee.value||!ne.value},[c(s(w),{icon:s(U),class:"button-icon"},null,8,["icon"]),a[9]||(a[9]=g("span",null,"Entrar no Sistema",-1))],8,F)],32),g("div",J,[g("div",N,[c(s(w),{icon:s(A),class:"badge-icon"},null,8,["icon"]),a[10]||(a[10]=g("span",null,"Acesso Seguro",-1))])])]),a[14]||(a[14]=g("div",{class:"bottom-info"},[g("p",{class:"info-text"},"Sistema de Controle de Qualidade"),g("p",{class:"info-subtext"},"Estado do Maranhão · 2025")],-1)),c(s(y),{"is-open":te.value,header:oe.value.header,message:oe.value.message,buttons:["OK"],onDidDismiss:a[3]||(a[3]=e=>te.value=!1)},null,8,["is-open","header","message"])]))]),_:1})]),_:1}))}}),[["__scopeId","data-v-45bd3a7b"]]))}}});

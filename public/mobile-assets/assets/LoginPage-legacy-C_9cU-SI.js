System.register(["./vendor-legacy-KI3bjCrV.js","./ionic-legacy-DR1m-lCA.js","./_plugin-vue_export-helper-legacy-lXI7YtLh.js","./main-legacy-C7bTSPYi.js"],function(e,a){"use strict";var o,t,n,r,i,d,l,s,c,p,g,u,b,m,v,f,x,h,w,y,z,k,j,C,E,S,_,U,A,L,T;return{setters:[e=>{o=e.d,t=e.r,n=e.c,r=e.o,i=e.B,d=e.q,l=e.x,s=e.y,c=e.z,p=e.v,g=e.n,u=e.t,b=e.C,m=e.w,v=e.D,f=e.E},e=>{x=e.e,h=e.f,w=e.g,y=e.h,z=e.i,k=e.t},e=>{j=e.m,C=e.a,E=e.l,S=e.e,_=e.b,U=e.c,A=e.s,L=e._},e=>{T=e.C}],execute:function(){var a=document.createElement("style");a.textContent=".login-content[data-v-cd872b11]{--background: var(--ion-background-color)}.bg-shape[data-v-cd872b11]{position:absolute;border-radius:50%;opacity:.05;pointer-events:none}.shape-1[data-v-cd872b11]{width:400px;height:400px;background:linear-gradient(135deg,#3b82f6,#2563eb);top:-200px;right:-100px}.shape-2[data-v-cd872b11]{width:300px;height:300px;background:linear-gradient(135deg,#10b981,#059669);bottom:-150px;left:-100px}.shape-3[data-v-cd872b11]{width:200px;height:200px;background:linear-gradient(135deg,#f59e0b,#d97706);top:50%;left:50%;transform:translate(-50%,-50%)}.loading-container[data-v-cd872b11]{display:flex;align-items:center;justify-content:center;min-height:100vh;padding:2rem}.loading-card[data-v-cd872b11]{background:var(--ion-card-background);padding:3rem 2rem;border-radius:24px;box-shadow:0 10px 40px rgba(0,0,0,.1);text-align:center}.loading-spinner[data-v-cd872b11]{--color: var(--ion-color-primary);transform:scale(1.5);margin-bottom:1.5rem}.loading-text[data-v-cd872b11]{font-size:1rem;font-weight:600;color:var(--ion-text-color);margin:0}.login-container[data-v-cd872b11]{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh;padding:2rem 1.5rem;position:relative;overflow:hidden}.login-card[data-v-cd872b11]{width:100%;max-width:420px;background:var(--ion-card-background);border-radius:24px;padding:2.5rem 2rem;box-shadow:0 20px 60px rgba(0,0,0,.12);position:relative;z-index:10}.login-header[data-v-cd872b11]{text-align:center;margin-bottom:2rem}.logo-wrapper[data-v-cd872b11]{display:flex;justify-content:center;margin-bottom:1.5rem}.logo-circle[data-v-cd872b11]{width:80px;height:80px;border-radius:20px;background:linear-gradient(135deg,#3b82f6,#2563eb);display:flex;align-items:center;justify-content:center;box-shadow:0 10px 30px rgba(59,130,246,.3)}.logo-icon[data-v-cd872b11]{font-size:3rem;color:#fff}.app-title[data-v-cd872b11]{font-size:1.75rem;font-weight:800;color:var(--ion-text-color);margin:0 0 .5rem;letter-spacing:-.5px}.app-subtitle[data-v-cd872b11]{font-size:.938rem;color:var(--ion-color-step-600);margin:0;font-weight:500}.login-form[data-v-cd872b11]{display:flex;flex-direction:column;gap:1.5rem}.input-group[data-v-cd872b11]{display:flex;flex-direction:column;gap:.5rem}.input-label[data-v-cd872b11]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:600;color:var(--ion-text-color)}.label-icon[data-v-cd872b11]{font-size:1rem;color:var(--ion-color-primary)}.input-wrapper[data-v-cd872b11]{position:relative;display:flex;align-items:center}.input-field[data-v-cd872b11]{width:100%;padding:.875rem 1rem;border:2px solid var(--ion-color-step-150);border-radius:12px;font-size:1rem;color:var(--ion-text-color);background:var(--ion-background-color);transition:all .2s ease;outline:none}.input-field[data-v-cd872b11]:focus{border-color:var(--ion-color-primary);background:var(--ion-card-background);box-shadow:0 0 0 4px rgba(59,130,246,.1)}.input-field[data-v-cd872b11]:disabled{opacity:.5;cursor:not-allowed}.input-field[data-v-cd872b11]::placeholder{color:var(--ion-color-step-500)}.password-toggle[data-v-cd872b11]{position:absolute;right:1rem;background:none;border:none;padding:.5rem;cursor:pointer;color:var(--ion-color-step-600);display:flex;align-items:center;justify-content:center;transition:color .2s ease}.password-toggle[data-v-cd872b11]:hover{color:var(--ion-color-primary)}.password-toggle ion-icon[data-v-cd872b11]{font-size:1.25rem}.login-button[data-v-cd872b11]{width:100%;padding:1rem 1.5rem;background:linear-gradient(135deg,#3b82f6,#2563eb);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.75rem;transition:all .3s ease;box-shadow:0 4px 14px rgba(59,130,246,.4);margin-top:.5rem}.login-button[data-v-cd872b11]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px rgba(59,130,246,.5)}.login-button[data-v-cd872b11]:active:not(:disabled){transform:translateY(0)}.login-button[data-v-cd872b11]:disabled{opacity:.6;cursor:not-allowed;transform:none}.button-icon[data-v-cd872b11]{font-size:1.25rem}.card-footer[data-v-cd872b11]{margin-top:2rem;padding-top:1.5rem;border-top:1px solid #f3f4f6;display:flex;justify-content:center}.footer-badge[data-v-cd872b11]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#f0fdf4;border-radius:8px;font-size:.813rem;font-weight:600;color:#059669}.badge-icon[data-v-cd872b11]{font-size:1rem}.bottom-info[data-v-cd872b11]{margin-top:2rem;text-align:center;z-index:10}.info-text[data-v-cd872b11]{font-size:.875rem;font-weight:600;color:#4b5563;margin:0 0 .25rem}.info-subtext[data-v-cd872b11]{font-size:.813rem;color:var(--ion-color-step-500);margin:0}@media (max-width: 480px){.login-card[data-v-cd872b11]{padding:2rem 1.5rem;border-radius:20px}.logo-circle[data-v-cd872b11]{width:70px;height:70px;border-radius:18px}.logo-icon[data-v-cd872b11]{font-size:2.5rem}.app-title[data-v-cd872b11]{font-size:1.5rem}.app-subtitle[data-v-cd872b11]{font-size:.875rem}.login-form[data-v-cd872b11]{gap:1.25rem}.input-field[data-v-cd872b11]{padding:.75rem .875rem;font-size:.938rem}.login-button[data-v-cd872b11]{padding:.875rem 1.25rem;font-size:.938rem}.shape-1[data-v-cd872b11],.shape-2[data-v-cd872b11],.shape-3[data-v-cd872b11]{opacity:.03}}@media (max-height: 700px){.login-container[data-v-cd872b11]{padding:1.5rem}.login-card[data-v-cd872b11]{padding:2rem 1.5rem}.login-header[data-v-cd872b11]{margin-bottom:1.5rem}.logo-wrapper[data-v-cd872b11]{margin-bottom:1rem}.logo-circle[data-v-cd872b11]{width:60px;height:60px}.logo-icon[data-v-cd872b11]{font-size:2rem}.login-form[data-v-cd872b11]{gap:1rem}.card-footer[data-v-cd872b11]{margin-top:1.5rem;padding-top:1rem}}\n/*$vite$:1*/",document.head.appendChild(a);const q={key:0,class:"loading-container"},D={class:"loading-card"},$={key:1,class:"login-container"},B={class:"login-card"},I={class:"login-header"},Q={class:"logo-wrapper"},R={class:"logo-circle"},V={class:"input-group"},Y={class:"input-label"},G={class:"input-wrapper"},H=["disabled"],K={class:"input-group"},M={class:"input-label"},O={class:"input-wrapper"},P=["type","disabled"],F=["disabled"],J={class:"card-footer"},N={class:"footer-badge"};e("default",L(o({__name:"LoginPage",setup(e){const a=c(),o=T.getInstance(),L=o.getLoginUseCase(),W=o.getCurrentUserUseCase(),X=o.getAuthRepository(),Z=t({email:"",password:""}),ee=t(!1),ae=t(!1),oe=t(!1),te=t({header:"",message:""}),ne=n(()=>Z.value.email.length>0&&Z.value.password.length>0),re=async()=>{console.log("Starting login process..."),ee.value=!0;try{console.log("Executing login use case..."),await L.execute(Z.value),console.log("Login use case completed successfully"),console.log("Getting current user...");const e=await W.execute();console.log("Current user:",e),console.log("User role validation passed - checking permissions");const o=await k.create({message:`Bem-vindo, ${e.name}!`,duration:1500,color:"success",position:"top"});await o.present(),console.log("Toast presented"),console.log("About to navigate to dashboard..."),setTimeout(()=>{console.log("Executing router.replace to /dashboard"),a.replace("/dashboard"),console.log("Router.replace called")},100)}catch(e){console.error("Login error:",e),te.value={header:"Erro no Login",message:e.message||"Erro interno. Tente novamente."},oe.value=!0}finally{ee.value=!1}};return r(()=>{(async()=>{try{X.isAuthenticated()&&(await W.execute(),a.replace("/dashboard"))}catch(e){X.removeToken()}})()}),(e,a)=>(d(),i(s(x),null,{default:l(()=>[p(s(z),{fullscreen:!0,class:"login-content"},{default:l(()=>[ee.value?(d(),g("div",q,[u("div",D,[p(s(h),{name:"crescent",class:"loading-spinner"}),a[4]||(a[4]=u("p",{class:"loading-text"},"Autenticando...",-1))])])):(d(),g("div",$,[a[11]||(a[11]=u("div",{class:"bg-shape shape-1"},null,-1)),a[12]||(a[12]=u("div",{class:"bg-shape shape-2"},null,-1)),a[13]||(a[13]=u("div",{class:"bg-shape shape-3"},null,-1)),u("div",B,[u("div",I,[u("div",Q,[u("div",R,[p(s(w),{icon:s(j),class:"logo-icon"},null,8,["icon"])])]),a[5]||(a[5]=u("h1",{class:"app-title"},"Hemodiálise",-1)),a[6]||(a[6]=u("p",{class:"app-subtitle"},"Sistema de Segurança e Qualidade",-1))]),u("form",{onSubmit:b(re,["prevent"]),class:"login-form"},[u("div",V,[u("label",Y,[p(s(w),{icon:s(C),class:"label-icon"},null,8,["icon"]),a[7]||(a[7]=u("span",null,"Email",-1))]),u("div",G,[m(u("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>Z.value.email=e),type:"email",required:"",disabled:ee.value,placeholder:"seu.email@exemplo.com",class:"input-field",autocomplete:"email"},null,8,H),[[v,Z.value.email]])])]),u("div",K,[u("label",M,[p(s(w),{icon:s(E),class:"label-icon"},null,8,["icon"]),a[8]||(a[8]=u("span",null,"Senha",-1))]),u("div",O,[m(u("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>Z.value.password=e),type:ae.value?"text":"password",required:"",disabled:ee.value,placeholder:"••••••••",class:"input-field",autocomplete:"current-password"},null,8,P),[[f,Z.value.password]]),u("button",{type:"button",class:"password-toggle",onClick:a[2]||(a[2]=e=>ae.value=!ae.value),tabindex:"-1"},[p(s(w),{icon:ae.value?s(S):s(_)},null,8,["icon"])])])]),u("button",{type:"submit",class:"login-button",disabled:ee.value||!ne.value},[p(s(w),{icon:s(U),class:"button-icon"},null,8,["icon"]),a[9]||(a[9]=u("span",null,"Entrar no Sistema",-1))],8,F)],32),u("div",J,[u("div",N,[p(s(w),{icon:s(A),class:"badge-icon"},null,8,["icon"]),a[10]||(a[10]=u("span",null,"Acesso Seguro",-1))])])]),a[14]||(a[14]=u("div",{class:"bottom-info"},[u("p",{class:"info-text"},"Sistema de Controle de Qualidade"),u("p",{class:"info-subtext"},"Estado do Maranhão · 2025")],-1)),p(s(y),{"is-open":oe.value,header:te.value.header,message:te.value.message,buttons:["OK"],onDidDismiss:a[3]||(a[3]=e=>oe.value=!1)},null,8,["is-open","header","message"])]))]),_:1})]),_:1}))}}),[["__scopeId","data-v-cd872b11"]]))}}});

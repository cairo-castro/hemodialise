System.register(["./vendor-legacy-B8oEYziD.js","./ionic-legacy-But9DPYG.js","./_plugin-vue_export-helper-legacy-C1HXhe8x.js","./main-legacy-DzrpluBc.js"],function(e,a){"use strict";var t,l,o,n,i,r,s,d,u,c,m,p,v,f,g,_,b,h,y,w,x,C,V,k,A,B,z,D,P,U,j,L,O,S,q,E,N,I,G,M,R,T,F,H,J,W,K;return{setters:[e=>{t=e.d,l=e.r,o=e.c,n=e.o,i=e.z,r=e.n,s=e.v,d=e.x,u=e.t,c=e.B,m=e.q,p=e.l,v=e.D,f=e.G,g=e.F,_=e.C,b=e.E},e=>{h=e.e,y=e.J,w=e.t,x=e.n,C=e.p,V=e.z,k=e.o,A=e.k,B=e.g,z=e.q,D=e.L,P=e.H,U=e.m,j=e.h,L=e.i,O=e.j,S=e.C,q=e.D,E=e.G,N=e.u,I=e.v,G=e.M},e=>{M=e.A,R=e.p,T=e.y,F=e.B,H=e.C,J=e.D,W=e._},e=>{K=e.C}],execute:function(){var a=document.createElement("style");a.textContent=".search-container[data-v-25a90338]{padding:1rem;background:var(--ion-color-light)}.patients-container[data-v-25a90338]{padding:0 1rem 1rem}.patient-card[data-v-25a90338]{margin-bottom:1rem;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);transition:transform .2s ease}.patient-card[data-v-25a90338]:active{transform:scale(.98)}.patient-header[data-v-25a90338]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.75rem}.patient-info h3[data-v-25a90338]{margin:0;font-size:1.1rem;font-weight:600;color:var(--ion-color-dark)}.patient-info p[data-v-25a90338]{margin:.25rem 0 0;font-size:.875rem;color:var(--ion-color-medium)}.patient-details[data-v-25a90338]{display:flex;gap:1rem}.detail-item[data-v-25a90338]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:var(--ion-color-medium)}.detail-item ion-icon[data-v-25a90338]{font-size:1rem}.empty-state[data-v-25a90338]{text-align:center;padding:3rem 1rem;color:var(--ion-color-medium)}.empty-state ion-icon[data-v-25a90338]{font-size:4rem;margin-bottom:1rem}.empty-state h3[data-v-25a90338]{margin:0 0 .5rem;font-size:1.25rem;color:var(--ion-color-dark)}.empty-state p[data-v-25a90338]{margin:0;font-size:.875rem}.modal-content[data-v-25a90338]{padding:1rem}.create-form[data-v-25a90338]{max-width:100%}.form-group[data-v-25a90338]{margin-bottom:1rem}.mobile-input[data-v-25a90338]{--background: #f9fafb;--border-color: #d1d5db;--border-radius: 8px;margin-bottom:8px}.mobile-button[data-v-25a90338]{--border-radius: 8px;margin:8px 0;height:48px;font-weight:600}.modal-buttons[data-v-25a90338]{margin-top:1.5rem}\n",document.head.appendChild(a);const Q={class:"search-container"},X={class:"patients-container"},Y={class:"patient-header"},Z={class:"patient-info"},$={class:"patient-status"},ee={class:"patient-details"},ae={key:0,class:"detail-item"},te={key:1,class:"detail-item"},le={key:0,class:"empty-state"},oe={key:0},ne={key:1},ie={class:"form-group"},re={class:"form-group"},se={class:"form-group"},de={class:"form-group"},ue={class:"form-group"},ce={class:"form-group"},me={class:"modal-buttons"};e("default",W(t({__name:"PatientsPage",setup(e){const a=K.getInstance(),t=a.getCreatePatientUseCase(),W=a.get("PatientRepository"),pe=l([]),ve=l(""),fe=l(!1),ge=l({full_name:"",birth_date:"",medical_record:"",blood_type:"",allergies:"",observations:""}),_e=o(()=>{if(!ve.value)return pe.value;const e=ve.value.toLowerCase();return pe.value.filter(a=>a.full_name.toLowerCase().includes(e)||a.medical_record.toLowerCase().includes(e)||a.blood_type&&a.blood_type.toLowerCase().includes(e))}),be=o(()=>ge.value.full_name.length>0&&ge.value.birth_date.length>0&&ge.value.medical_record.length>0),he=e=>{ve.value=e.target.value},ye=async()=>{const e=await y.create({message:"Cadastrando paciente...",spinner:"crescent"});await e.present();try{const e=await t.execute(ge.value);pe.value.unshift(e),ge.value={full_name:"",birth_date:"",medical_record:"",blood_type:"",allergies:"",observations:""},fe.value=!1;const a=await w.create({message:"Paciente cadastrado com sucesso!",duration:2e3,color:"success",position:"top"});await a.present()}catch(a){const e=await w.create({message:a.message||"Erro ao cadastrar paciente",duration:3e3,color:"danger",position:"top"});await e.present()}finally{await e.dismiss()}};return n(()=>{(async()=>{const e=await y.create({message:"Carregando pacientes...",spinner:"crescent"});await e.present();try{pe.value=await W.getAll()}catch(a){console.error("Error loading patients:",a);const e=await w.create({message:"Erro ao carregar pacientes",duration:3e3,color:"danger",position:"top"});await e.present()}finally{await e.dismiss()}})()}),(e,a)=>(r(),i(d(h),null,{default:s(()=>[u(d(z),{translucent:!0},{default:s(()=>[u(d(x),null,{default:s(()=>[u(d(C),{slot:"start"},{default:s(()=>[u(d(V),{"default-href":"/dashboard"})]),_:1}),u(d(k),null,{default:s(()=>[...a[11]||(a[11]=[c("Pacientes",-1)])]),_:1}),u(d(C),{slot:"end"},{default:s(()=>[u(d(A),{onClick:a[0]||(a[0]=e=>fe.value=!0)},{default:s(()=>[u(d(B),{icon:d(M),slot:"icon-only"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),u(d(U),{fullscreen:!0},{default:s(()=>[m("div",Q,[u(d(D),{modelValue:ve.value,"onUpdate:modelValue":a[1]||(a[1]=e=>ve.value=e),placeholder:"Buscar pacientes...",onIonInput:he,"show-clear-button":"focus"},null,8,["modelValue"])]),m("div",X,[(r(!0),p(g,null,f(_e.value,e=>(r(),i(d(N),{key:e.id,class:"patient-card",button:"",onClick:a=>(e=>{console.log("Selected patient:",e)})(e)},{default:s(()=>[u(d(I),null,{default:s(()=>{return[m("div",Y,[m("div",Z,[m("h3",null,b(e.full_name),1),m("p",null,b((t=e.birth_date,new Date(t).toLocaleDateString("pt-BR")))+" • "+b(e.age)+" anos",1)]),m("div",$,[u(d(G),{color:"success"},{default:s(()=>[...a[12]||(a[12]=[c("Ativo",-1)])]),_:1})])]),m("div",ee,[e.medical_record?(r(),p("div",ae,[u(d(B),{icon:d(H)},null,8,["icon"]),m("span",null,b(e.medical_record),1)])):v("",!0),e.blood_type?(r(),p("div",te,[u(d(B),{icon:d(J)},null,8,["icon"]),m("span",null,b(e.blood_type),1)])):v("",!0)])];var t}),_:2},1024)]),_:2},1032,["onClick"]))),128)),0===_e.value.length?(r(),p("div",le,[u(d(B),{icon:d(R)},null,8,["icon"]),a[13]||(a[13]=m("h3",null,"Nenhum paciente encontrado",-1)),ve.value?(r(),p("p",oe,"Tente ajustar os termos de busca")):(r(),p("p",ne,"Cadastre o primeiro paciente"))])):v("",!0)]),u(d(P),{"is-open":fe.value,onWillDismiss:a[10]||(a[10]=e=>fe.value=!1)},{default:s(()=>[u(d(z),null,{default:s(()=>[u(d(x),null,{default:s(()=>[u(d(k),null,{default:s(()=>[...a[14]||(a[14]=[c("Novo Paciente",-1)])]),_:1}),u(d(C),{slot:"end"},{default:s(()=>[u(d(A),{onClick:a[2]||(a[2]=e=>fe.value=!1)},{default:s(()=>[u(d(B),{icon:d(T),slot:"icon-only"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),u(d(U),{class:"modal-content"},{default:s(()=>[m("form",{onSubmit:_(ye,["prevent"]),class:"create-form"},[m("div",ie,[u(d(j),{class:"mobile-input",fill:"outline"},{default:s(()=>[u(d(L),{position:"floating"},{default:s(()=>[...a[15]||(a[15]=[c("Nome Completo *",-1)])]),_:1}),u(d(O),{modelValue:ge.value.full_name,"onUpdate:modelValue":a[3]||(a[3]=e=>ge.value.full_name=e),type:"text",required:"",placeholder:"Digite o nome completo"},null,8,["modelValue"])]),_:1})]),m("div",re,[u(d(j),{class:"mobile-input",fill:"outline"},{default:s(()=>[u(d(L),{position:"floating"},{default:s(()=>[...a[16]||(a[16]=[c("Data de Nascimento *",-1)])]),_:1}),u(d(O),{modelValue:ge.value.birth_date,"onUpdate:modelValue":a[4]||(a[4]=e=>ge.value.birth_date=e),type:"date",required:""},null,8,["modelValue"])]),_:1})]),m("div",se,[u(d(j),{class:"mobile-input",fill:"outline"},{default:s(()=>[u(d(L),{position:"floating"},{default:s(()=>[...a[17]||(a[17]=[c("Prontuário Médico *",-1)])]),_:1}),u(d(O),{modelValue:ge.value.medical_record,"onUpdate:modelValue":a[5]||(a[5]=e=>ge.value.medical_record=e),type:"text",required:"",placeholder:"Número do prontuário"},null,8,["modelValue"])]),_:1})]),m("div",de,[u(d(j),{class:"mobile-input",fill:"outline"},{default:s(()=>[u(d(L),{position:"floating"},{default:s(()=>[...a[18]||(a[18]=[c("Tipo Sanguíneo",-1)])]),_:1}),u(d(S),{modelValue:ge.value.blood_type,"onUpdate:modelValue":a[6]||(a[6]=e=>ge.value.blood_type=e),placeholder:"Selecione"},{default:s(()=>[u(d(q),{value:"A+"},{default:s(()=>[...a[19]||(a[19]=[c("A+",-1)])]),_:1}),u(d(q),{value:"A-"},{default:s(()=>[...a[20]||(a[20]=[c("A-",-1)])]),_:1}),u(d(q),{value:"B+"},{default:s(()=>[...a[21]||(a[21]=[c("B+",-1)])]),_:1}),u(d(q),{value:"B-"},{default:s(()=>[...a[22]||(a[22]=[c("B-",-1)])]),_:1}),u(d(q),{value:"AB+"},{default:s(()=>[...a[23]||(a[23]=[c("AB+",-1)])]),_:1}),u(d(q),{value:"AB-"},{default:s(()=>[...a[24]||(a[24]=[c("AB-",-1)])]),_:1}),u(d(q),{value:"O+"},{default:s(()=>[...a[25]||(a[25]=[c("O+",-1)])]),_:1}),u(d(q),{value:"O-"},{default:s(()=>[...a[26]||(a[26]=[c("O-",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),m("div",ue,[u(d(j),{class:"mobile-input",fill:"outline"},{default:s(()=>[u(d(L),{position:"floating"},{default:s(()=>[...a[27]||(a[27]=[c("Alergias",-1)])]),_:1}),u(d(E),{modelValue:ge.value.allergies,"onUpdate:modelValue":a[7]||(a[7]=e=>ge.value.allergies=e),rows:"3",placeholder:"Descreva alergias conhecidas..."},null,8,["modelValue"])]),_:1})]),m("div",ce,[u(d(j),{class:"mobile-input",fill:"outline"},{default:s(()=>[u(d(L),{position:"floating"},{default:s(()=>[...a[28]||(a[28]=[c("Observações",-1)])]),_:1}),u(d(E),{modelValue:ge.value.observations,"onUpdate:modelValue":a[8]||(a[8]=e=>ge.value.observations=e),rows:"3",placeholder:"Observações gerais..."},null,8,["modelValue"])]),_:1})]),m("div",me,[u(d(A),{expand:"block",type:"submit",class:"mobile-button",disabled:!be.value},{default:s(()=>[u(d(B),{icon:d(F),slot:"start"},null,8,["icon"]),a[29]||(a[29]=c(" Cadastrar Paciente ",-1))]),_:1},8,["disabled"]),u(d(A),{expand:"block",fill:"outline",class:"mobile-button",onClick:a[9]||(a[9]=e=>fe.value=!1)},{default:s(()=>[...a[30]||(a[30]=[c(" Cancelar ",-1)])]),_:1})])],32)]),_:1})]),_:1},8,["is-open"])]),_:1})]),_:1}))}}),[["__scopeId","data-v-25a90338"]]))}}});

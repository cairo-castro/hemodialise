import{d as Oa,r as f,c as x,o as Ia,B as H,q as m,x as l,y as t,v as e,H as n,t as s,K as C,G as p,n as b,J as y,L as Sa,F as Aa,C as ea}from"./vendor-DcQkTNkg.js";import{e as Ba,n as L,t as V,o as F,q as M,x as Ea,p as X,k as U,g as i,r as W,H as Na,j as oa,E as la,i as J,J as I,K as G,L as u,G as $}from"./ionic-GHA3wq_y.js";import{A as na,w as K,z as T,B as ia,o as da,S as ra,D as ua,H as ca,J as q,p as E,G as Q,T as Y,r as Z,F as va,U as pa,V as xa,i as Ma,N as Ua,_ as $a}from"./_plugin-vue_export-helper-CkaGgE-1.js";import{C as Ta}from"./main-D751Gqk8.js";import{u as qa}from"./useStatsAutoRefresh-D7rRAsKP.js";const Da={class:"search-container-dash"},Ra={class:"search-card"},za={class:"stats-grid-extended"},ja={class:"stat-icon"},Ha={class:"stat-info"},La={class:"stat-value"},Fa={class:"stat-icon"},Xa={class:"stat-info"},Wa={class:"stat-value"},Ja={class:"stat-icon"},Ga={class:"stat-info"},Ka={class:"stat-value"},Qa={class:"stat-icon"},Ya={class:"stat-info"},Za={class:"stat-value"},at={class:"stat-icon"},tt={class:"stat-info"},st={class:"stat-value"},et={class:"stat-icon"},ot={class:"stat-info"},lt={class:"stat-value"},nt={class:"patients-container-dash"},it={class:"section-header"},dt={class:"patients-grid"},rt=["onClick"],ut={class:"patient-avatar"},ct={class:"patient-content"},vt={class:"patient-header-dash"},pt={class:"patient-meta"},mt={class:"meta-item"},ft={class:"meta-item"},_t={key:0,class:"patient-details-dash"},bt={key:0,class:"detail-chip"},gt={class:"patient-arrow"},ht={key:0,class:"empty-state-dash"},yt={class:"empty-icon"},wt={key:0},Ct={key:1},Vt={class:"modal-title-dash"},kt={class:"welcome-card-dash"},Pt={class:"patient-avatar-large"},Ot={class:"input-cards-dash"},It={class:"input-card-dash"},St={class:"card-icon-dash primary"},At={class:"card-content-dash"},Bt={class:"input-card-dash"},Et={class:"card-icon-dash secondary"},Nt={class:"card-content-dash"},xt={class:"input-card-dash"},Mt={class:"card-icon-dash tertiary"},Ut={class:"card-content-dash"},$t={class:"input-card-dash"},Tt={class:"card-icon-dash quaternary"},qt={class:"card-content-dash"},Dt={class:"input-card-dash"},Rt={class:"card-icon-dash danger"},zt={class:"card-content-dash"},jt={class:"input-card-dash"},Ht={class:"card-icon-dash medium"},Lt={class:"card-content-dash"},Ft={class:"buttons-dash"},Xt=["disabled"],Wt={class:"modal-title-dash"},Jt={class:"edit-header-card"},Gt={class:"patient-avatar-large"},Kt={class:"input-cards-dash"},Qt={class:"input-card-dash"},Yt={class:"card-icon-dash primary"},Zt={class:"card-content-dash"},as={class:"input-card-dash"},ts={class:"card-icon-dash secondary"},ss={class:"card-content-dash"},es={key:0,class:"detail-hint"},os={class:"input-card-dash"},ls={class:"card-icon-dash tertiary"},ns={class:"card-content-dash"},is={class:"input-card-dash status-card"},ds={class:"card-content-dash"},rs={key:0,class:"detail-hint"},us={key:1,class:"detail-hint terminal-hint"},cs={class:"input-card-dash"},vs={class:"card-icon-dash quaternary"},ps={class:"card-content-dash"},ms={class:"input-card-dash"},fs={class:"card-icon-dash danger"},_s={class:"card-content-dash"},bs={class:"input-card-dash"},gs={class:"card-icon-dash medium"},hs={class:"card-content-dash"},ys={class:"info-card-compact"},ws={class:"buttons-dash"},Cs=["disabled"],Vs=Oa({__name:"PatientsPage",setup(ks){const aa=Ta.getInstance(),ma=aa.getCreatePatientUseCase(),fa=aa.get("PatientRepository"),_=f([]),S=f(""),w=f(!1),k=f(!1),r=f(null),g=f(""),ta=f(!1);f(!1);const N=f(!1),h=f(null);let D=null;const c=f({full_name:"",birth_date:"",blood_type:"",medical_record:"",allergies:"",observations:""}),R=x(()=>h.value!==null?_.value.filter(d=>d.status===h.value):_.value),_a=x(()=>c.value.full_name.length>0&&c.value.birth_date.length>0),ba=x(()=>_.value.length),A=x(()=>{const d={ativo:0,inativo:0,transferido:0,alta:0,obito:0};return _.value.forEach(a=>{const o=a.status||"ativo";d.hasOwnProperty(o)&&d[o]++}),d}),z=async(d="")=>{const a=await L.create({message:d?"Buscando pacientes...":"Carregando pacientes...",spinner:"crescent"});await a.present();try{const o=await fetch("/api/patients?per_page=100&include_inactive=true".concat(d?"&search=".concat(encodeURIComponent(d)):""),{credentials:"include",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!o.ok)throw new Error("Erro ao carregar pacientes");const v=await o.json();if(v.success)_.value=v.patients||[];else throw new Error(v.message||"Erro ao carregar pacientes")}catch(o){console.error("Error loading patients:",o),await(await V.create({message:"Erro ao carregar pacientes",duration:3e3,color:"danger",position:"top"})).present()}finally{await a.dismiss()}},ga=d=>{var o,v;const a=((o=d.target)==null?void 0:o.value)||((v=d.detail)==null?void 0:v.value)||"";if(S.value=a,D&&clearTimeout(D),!a||a.length===0){z();return}D=setTimeout(async()=>{if(a.length>=2){ta.value=!0;try{_.value=await fa.quickSearch(a,50)}catch(B){console.error("Error searching patients:",B),await(await V.create({message:"Erro ao buscar pacientes",duration:2e3,color:"warning",position:"top"})).present()}finally{ta.value=!1}}},500)},P=d=>{h.value=d},ha=async d=>{try{const a=await L.create({message:"Carregando detalhes...",spinner:"crescent"});await a.present();const v=await(await fetch("/api/patients/".concat(d.id),{credentials:"include",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json();if(v.success)r.value=v.patient,g.value=v.patient.status||"ativo",k.value=!0;else throw new Error(v.message||"Erro ao carregar detalhes");await a.dismiss()}catch(a){console.error("Error loading patient details:",a),await(await V.create({message:a.message||"Erro ao carregar detalhes do paciente",duration:3e3,color:"danger",position:"top"})).present()}},ya=async()=>{if(r.value)try{N.value=!0;const a=await(await fetch("/api/patients/".concat(r.value.id),{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({full_name:r.value.full_name,birth_date:r.value.birth_date,blood_type:r.value.blood_type||null,medical_record:r.value.medical_record||null,allergies:r.value.allergies||null,observations:r.value.observations||null,status:g.value})})).json();if(a.success){const o=_.value.findIndex(B=>B.id===r.value.id);o!==-1&&(_.value[o]={..._.value[o],...a.patient}),k.value=!1,await(await V.create({message:"Paciente atualizado com sucesso!",duration:2e3,color:"success",position:"top"})).present()}else throw new Error(a.message||"Erro ao atualizar paciente")}catch(d){console.error("Error updating patient:",d),await(await V.create({message:d.message||"Erro ao atualizar paciente",duration:3e3,color:"danger",position:"top"})).present()}finally{N.value=!1}},wa=d=>({ativo:"success",inativo:"warning",transferido:"primary",alta:"medium",obito:"danger"})[d]||"success",sa=d=>d==="alta"||d==="obito",Ca=d=>({ativo:T,inativo:ia,transferido:da,alta:ra,obito:ua})[d]||T,Va=d=>({ativo:"success",inativo:"warning",transferido:"info",alta:"medium",obito:"danger"})[d]||"success",ka=async()=>{const d=await L.create({message:"Cadastrando paciente...",spinner:"crescent"});await d.present();try{const a=await ma.execute(c.value);_.value.unshift(a),c.value={full_name:"",birth_date:"",blood_type:"",medical_record:"",allergies:"",observations:""},w.value=!1,await(await V.create({message:"Paciente cadastrado com sucesso!",duration:2e3,color:"success",position:"top"})).present()}catch(a){await(await V.create({message:a.message||"Erro ao cadastrar paciente",duration:3e3,color:"danger",position:"top"})).present()}finally{await d.dismiss()}},Pa=d=>{if(!d)return"Data n√£o informada";const a=d.split("-");if(a.length===3){const o=parseInt(a[0]),v=parseInt(a[1])-1,B=parseInt(a[2]),j=new Date(o,v,B);if(!isNaN(j.getTime()))return j.toLocaleDateString("pt-BR")}return"Data inv√°lida"},{isRefreshing:O}=qa(z,{loadOnMount:!1,interval:15e3,onStatsUpdated:()=>{console.log("[Patients] Stats atualizados automaticamente")}});return Ia(()=>{z()}),(d,a)=>(m(),H(t(Ba),null,{default:l(()=>[e(t(W),{translucent:!0},{default:l(()=>[e(t(F),{color:"primary"},{default:l(()=>[e(t(M),{slot:"start"},{default:l(()=>[e(t(Ea),{"default-href":"/dashboard"})]),_:1}),e(t(X),null,{default:l(()=>[...a[29]||(a[29]=[n("Pacientes",-1)])]),_:1}),e(t(M),{slot:"end"},{default:l(()=>[e(t(U),{onClick:a[0]||(a[0]=o=>w.value=!0),class:"add-button"},{default:l(()=>[e(t(i),{icon:t(na),slot:"icon-only"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),e(t(J),{fullscreen:!0,class:"dashboard-content"},{default:l(()=>[s("div",Da,[s("div",Ra,[e(t(i),{icon:t(K),class:"search-icon"},null,8,["icon"]),e(t(Na),{value:S.value,placeholder:"Buscar pacientes...",onIonInput:a[1]||(a[1]=o=>ga(o)),onIonClear:a[2]||(a[2]=o=>S.value=""),"show-clear-button":"focus",class:"search-bar-dash",debounce:"300"},null,8,["value"])])]),s("div",za,[s("div",{class:C(["stat-card primary clickable",{updating:t(O),active:h.value===null}]),onClick:a[3]||(a[3]=o=>P(null))},[s("div",ja,[e(t(i),{icon:t(K)},null,8,["icon"])]),s("div",Ha,[s("span",La,p(ba.value),1),a[30]||(a[30]=s("span",{class:"stat-label"},"Total",-1))])],2),s("div",{class:C(["stat-card success clickable",{updating:t(O),active:h.value==="ativo"}]),onClick:a[4]||(a[4]=o=>P("ativo"))},[s("div",Fa,[e(t(i),{icon:t(T)},null,8,["icon"])]),s("div",Xa,[s("span",Wa,p(A.value.ativo),1),a[31]||(a[31]=s("span",{class:"stat-label"},"Ativos",-1))])],2),s("div",{class:C(["stat-card warning clickable",{updating:t(O),active:h.value==="inativo"}]),onClick:a[5]||(a[5]=o=>P("inativo"))},[s("div",Ja,[e(t(i),{icon:t(ia)},null,8,["icon"])]),s("div",Ga,[s("span",Ka,p(A.value.inativo),1),a[32]||(a[32]=s("span",{class:"stat-label"},"Inativos",-1))])],2),s("div",{class:C(["stat-card info clickable",{updating:t(O),active:h.value==="transferido"}]),onClick:a[6]||(a[6]=o=>P("transferido"))},[s("div",Qa,[e(t(i),{icon:t(da)},null,8,["icon"])]),s("div",Ya,[s("span",Za,p(A.value.transferido),1),a[33]||(a[33]=s("span",{class:"stat-label"},"Transferidos",-1))])],2),s("div",{class:C(["stat-card medium clickable",{updating:t(O),active:h.value==="alta"}]),onClick:a[7]||(a[7]=o=>P("alta"))},[s("div",at,[e(t(i),{icon:t(ra)},null,8,["icon"])]),s("div",tt,[s("span",st,p(A.value.alta),1),a[34]||(a[34]=s("span",{class:"stat-label"},"Alta",-1))])],2),s("div",{class:C(["stat-card danger clickable",{updating:t(O),active:h.value==="obito"}]),onClick:a[8]||(a[8]=o=>P("obito"))},[s("div",et,[e(t(i),{icon:t(ua)},null,8,["icon"])]),s("div",ot,[s("span",lt,p(A.value.obito),1),a[35]||(a[35]=s("span",{class:"stat-label"},"√ìbito",-1))])],2)]),s("div",nt,[s("div",it,[a[36]||(a[36]=s("h2",null,"Lista de Pacientes",-1)),e(t(oa),{color:"primary"},{default:l(()=>[n(p(R.value.length),1)]),_:1})]),s("div",dt,[(m(!0),b(Aa,null,Sa(R.value,o=>(m(),b("div",{key:o.id,class:"patient-card-dash",onClick:v=>ha(o)},[s("div",ut,[e(t(i),{icon:t(E)},null,8,["icon"])]),s("div",ct,[s("div",vt,[s("h3",null,p(o.full_name),1),e(t(oa),{color:wa(o.status),class:"status-badge"},{default:l(()=>[n(p(o.status_label||"Ativo"),1)]),_:2},1032,["color"])]),s("div",pt,[s("div",mt,[e(t(i),{icon:t(Q)},null,8,["icon"]),s("span",null,p(Pa(o.birth_date)),1)]),s("div",ft,[e(t(i),{icon:t(Ma)},null,8,["icon"]),s("span",null,p(o.age)+" anos",1)])]),o.blood_type?(m(),b("div",_t,[o.blood_type?(m(),b("div",bt,[e(t(i),{icon:t(Y)},null,8,["icon"]),s("span",null,p(o.blood_type),1)])):y("",!0)])):y("",!0)]),s("div",gt,[e(t(i),{icon:t(Ua)},null,8,["icon"])])],8,rt))),128))]),R.value.length===0?(m(),b("div",ht,[s("div",yt,[e(t(i),{icon:t(K)},null,8,["icon"])]),a[38]||(a[38]=s("h3",null,"Nenhum paciente encontrado",-1)),S.value?(m(),b("p",wt,"Tente ajustar os termos de busca")):(m(),b("p",Ct,"Cadastre o primeiro paciente clicando no bot√£o +")),S.value?y("",!0):(m(),H(t(U),{key:2,onClick:a[9]||(a[9]=o=>w.value=!0),class:"empty-action"},{default:l(()=>[e(t(i),{icon:t(na),slot:"start"},null,8,["icon"]),a[37]||(a[37]=n(" Novo Paciente ",-1))]),_:1}))])):y("",!0)]),e(t(la),{"is-open":w.value,onWillDismiss:a[18]||(a[18]=o=>w.value=!1)},{default:l(()=>[e(t(W),null,{default:l(()=>[e(t(F),{color:"primary"},{default:l(()=>[e(t(X),null,{default:l(()=>[s("div",Vt,[e(t(i),{icon:t(ca)},null,8,["icon"]),a[39]||(a[39]=s("span",null,"Novo Paciente",-1))])]),_:1}),e(t(M),{slot:"end"},{default:l(()=>[e(t(U),{onClick:a[10]||(a[10]=o=>w.value=!1)},{default:l(()=>[e(t(i),{icon:t(q),slot:"icon-only"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),e(t(J),{class:"modal-content-dash"},{default:l(()=>[s("form",{onSubmit:ea(ka,["prevent"]),class:"form-dash"},[s("div",kt,[s("div",Pt,[e(t(i),{icon:t(ca)},null,8,["icon"])]),a[40]||(a[40]=s("h2",null,"Cadastrar Novo Paciente",-1)),a[41]||(a[41]=s("p",null,"Preencha todas as informa√ß√µes necess√°rias",-1))]),s("div",Ot,[s("div",It,[s("div",St,[e(t(i),{icon:t(E)},null,8,["icon"])]),s("div",At,[a[42]||(a[42]=s("label",null,"Nome Completo",-1)),e(t(I),{modelValue:c.value.full_name,"onUpdate:modelValue":a[11]||(a[11]=o=>c.value.full_name=o),type:"text",required:"",placeholder:"Digite o nome completo",class:"input-dash"},null,8,["modelValue"])])]),s("div",Bt,[s("div",Et,[e(t(i),{icon:t(Q)},null,8,["icon"])]),s("div",Nt,[a[43]||(a[43]=s("label",null,"Data de Nascimento",-1)),e(t(I),{modelValue:c.value.birth_date,"onUpdate:modelValue":a[12]||(a[12]=o=>c.value.birth_date=o),type:"date",required:"",class:"input-dash"},null,8,["modelValue"])])]),s("div",xt,[s("div",Mt,[e(t(i),{icon:t(Y)},null,8,["icon"])]),s("div",Ut,[a[53]||(a[53]=s("label",null,[n("Tipo Sangu√≠neo "),s("span",{class:"optional"},"(opcional)")],-1)),e(t(G),{modelValue:c.value.blood_type,"onUpdate:modelValue":a[13]||(a[13]=o=>c.value.blood_type=o),placeholder:"Selecione o tipo sangu√≠neo",interface:"action-sheet",class:"select-dash"},{default:l(()=>[e(t(u),{value:""},{default:l(()=>[...a[44]||(a[44]=[n("N√£o informado",-1)])]),_:1}),e(t(u),{value:"A+"},{default:l(()=>[...a[45]||(a[45]=[n("A+",-1)])]),_:1}),e(t(u),{value:"A-"},{default:l(()=>[...a[46]||(a[46]=[n("A-",-1)])]),_:1}),e(t(u),{value:"B+"},{default:l(()=>[...a[47]||(a[47]=[n("B+",-1)])]),_:1}),e(t(u),{value:"B-"},{default:l(()=>[...a[48]||(a[48]=[n("B-",-1)])]),_:1}),e(t(u),{value:"AB+"},{default:l(()=>[...a[49]||(a[49]=[n("AB+",-1)])]),_:1}),e(t(u),{value:"AB-"},{default:l(()=>[...a[50]||(a[50]=[n("AB-",-1)])]),_:1}),e(t(u),{value:"O+"},{default:l(()=>[...a[51]||(a[51]=[n("O+",-1)])]),_:1}),e(t(u),{value:"O-"},{default:l(()=>[...a[52]||(a[52]=[n("O-",-1)])]),_:1})]),_:1},8,["modelValue"])])]),s("div",$t,[s("div",Tt,[e(t(i),{icon:t(Z)},null,8,["icon"])]),s("div",qt,[a[54]||(a[54]=s("label",null,[n("Prontu√°rio M√©dico "),s("span",{class:"optional"},"(opcional)")],-1)),e(t(I),{modelValue:c.value.medical_record,"onUpdate:modelValue":a[14]||(a[14]=o=>c.value.medical_record=o),type:"text",placeholder:"N√∫mero do prontu√°rio",class:"input-dash"},null,8,["modelValue"])])]),s("div",Dt,[s("div",Rt,[e(t(i),{icon:t(va)},null,8,["icon"])]),s("div",zt,[a[55]||(a[55]=s("label",null,[n("Alergias "),s("span",{class:"optional"},"(opcional)")],-1)),e(t($),{modelValue:c.value.allergies,"onUpdate:modelValue":a[15]||(a[15]=o=>c.value.allergies=o),rows:"3",placeholder:"Descreva alergias conhecidas",class:"textarea-dash"},null,8,["modelValue"])])]),s("div",jt,[s("div",Ht,[e(t(i),{icon:t(pa)},null,8,["icon"])]),s("div",Lt,[a[56]||(a[56]=s("label",null,[n("Observa√ß√µes M√©dicas "),s("span",{class:"optional"},"(opcional)")],-1)),e(t($),{modelValue:c.value.observations,"onUpdate:modelValue":a[16]||(a[16]=o=>c.value.observations=o),rows:"4",placeholder:"Observa√ß√µes gerais sobre o paciente",class:"textarea-dash"},null,8,["modelValue"])])])]),s("div",Ft,[s("button",{type:"button",class:"btn-cancel-dash",onClick:a[17]||(a[17]=o=>w.value=!1)},[e(t(i),{icon:t(q)},null,8,["icon"]),a[57]||(a[57]=n(" Cancelar ",-1))]),s("button",{type:"submit",class:"btn-submit-dash",disabled:!_a.value},[e(t(i),{icon:t(T)},null,8,["icon"]),a[58]||(a[58]=n(" Cadastrar Paciente ",-1))],8,Xt)])],32)]),_:1})]),_:1},8,["is-open"]),e(t(la),{"is-open":k.value,onWillDismiss:a[28]||(a[28]=o=>k.value=!1)},{default:l(()=>[e(t(W),null,{default:l(()=>[e(t(F),{color:"primary"},{default:l(()=>[e(t(X),null,{default:l(()=>[s("div",Wt,[e(t(i),{icon:t(E)},null,8,["icon"]),a[59]||(a[59]=s("span",null,"Editar Paciente",-1))])]),_:1}),e(t(M),{slot:"end"},{default:l(()=>[e(t(U),{onClick:a[19]||(a[19]=o=>k.value=!1)},{default:l(()=>[e(t(i),{icon:t(q),slot:"icon-only"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),r.value?(m(),H(t(J),{key:0,class:"modal-content-dash"},{default:l(()=>[s("form",{onSubmit:ea(ya,["prevent"]),class:"form-dash"},[s("div",Jt,[s("div",Gt,[e(t(i),{icon:t(E)},null,8,["icon"])]),a[60]||(a[60]=s("h2",null,"Editar Informa√ß√µes",-1)),a[61]||(a[61]=s("p",null,"Atualize os dados do paciente",-1))]),s("div",Kt,[s("div",Qt,[s("div",Yt,[e(t(i),{icon:t(E)},null,8,["icon"])]),s("div",Zt,[a[62]||(a[62]=s("label",null,"Nome Completo",-1)),e(t(I),{modelValue:r.value.full_name,"onUpdate:modelValue":a[20]||(a[20]=o=>r.value.full_name=o),type:"text",required:"",placeholder:"Nome completo do paciente",class:"input-dash"},null,8,["modelValue"])])]),s("div",as,[s("div",ts,[e(t(i),{icon:t(Q)},null,8,["icon"])]),s("div",ss,[a[63]||(a[63]=s("label",null,"Data de Nascimento",-1)),e(t(I),{modelValue:r.value.birth_date,"onUpdate:modelValue":a[21]||(a[21]=o=>r.value.birth_date=o),type:"date",required:"",class:"input-dash"},null,8,["modelValue"]),r.value.age?(m(),b("span",es,p(r.value.age)+" anos",1)):y("",!0)])]),s("div",os,[s("div",ls,[e(t(i),{icon:t(Y)},null,8,["icon"])]),s("div",ns,[a[73]||(a[73]=s("label",null,[n("Tipo Sangu√≠neo "),s("span",{class:"optional"},"(opcional)")],-1)),e(t(G),{modelValue:r.value.blood_type,"onUpdate:modelValue":a[22]||(a[22]=o=>r.value.blood_type=o),placeholder:"Selecione o tipo",interface:"action-sheet",class:"select-dash"},{default:l(()=>[e(t(u),{value:""},{default:l(()=>[...a[64]||(a[64]=[n("N√£o informado",-1)])]),_:1}),e(t(u),{value:"A+"},{default:l(()=>[...a[65]||(a[65]=[n("A+",-1)])]),_:1}),e(t(u),{value:"A-"},{default:l(()=>[...a[66]||(a[66]=[n("A-",-1)])]),_:1}),e(t(u),{value:"B+"},{default:l(()=>[...a[67]||(a[67]=[n("B+",-1)])]),_:1}),e(t(u),{value:"B-"},{default:l(()=>[...a[68]||(a[68]=[n("B-",-1)])]),_:1}),e(t(u),{value:"AB+"},{default:l(()=>[...a[69]||(a[69]=[n("AB+",-1)])]),_:1}),e(t(u),{value:"AB-"},{default:l(()=>[...a[70]||(a[70]=[n("AB-",-1)])]),_:1}),e(t(u),{value:"O+"},{default:l(()=>[...a[71]||(a[71]=[n("O+",-1)])]),_:1}),e(t(u),{value:"O-"},{default:l(()=>[...a[72]||(a[72]=[n("O-",-1)])]),_:1})]),_:1},8,["modelValue"])])]),s("div",is,[s("div",{class:C(["card-icon-dash",Va(g.value)])},[e(t(i),{icon:Ca(g.value)},null,8,["icon"])],2),s("div",ds,[a[79]||(a[79]=s("label",null,"Status do Paciente",-1)),e(t(G),{modelValue:g.value,"onUpdate:modelValue":a[23]||(a[23]=o=>g.value=o),placeholder:"Selecione o status",interface:"action-sheet",class:"select-dash",disabled:sa(r.value.status)},{default:l(()=>[e(t(u),{value:"ativo"},{default:l(()=>[...a[74]||(a[74]=[n("‚úÖ Ativo - Pode realizar sess√µes",-1)])]),_:1}),e(t(u),{value:"inativo"},{default:l(()=>[...a[75]||(a[75]=[n("‚è∏Ô∏è Inativo - Temporariamente suspenso",-1)])]),_:1}),e(t(u),{value:"transferido"},{default:l(()=>[...a[76]||(a[76]=[n("üîÑ Transferido - Outra unidade",-1)])]),_:1}),e(t(u),{value:"alta"},{default:l(()=>[...a[77]||(a[77]=[n("‚¨ÜÔ∏è Alta M√©dica - Permanente (irrevers√≠vel)",-1)])]),_:1}),e(t(u),{value:"obito"},{default:l(()=>[...a[78]||(a[78]=[n("‚ùå √ìbito - Falecimento (irrevers√≠vel)",-1)])]),_:1})]),_:1},8,["modelValue","disabled"]),g.value!==r.value.status&&(g.value==="alta"||g.value==="obito")?(m(),b("span",rs," ‚ö†Ô∏è Status terminal n√£o pode ser revertido ")):y("",!0),sa(r.value.status)?(m(),b("span",us," üîí Status terminal bloqueado para edi√ß√£o ")):y("",!0)])]),s("div",cs,[s("div",vs,[e(t(i),{icon:t(Z)},null,8,["icon"])]),s("div",ps,[a[80]||(a[80]=s("label",null,[n("Prontu√°rio M√©dico "),s("span",{class:"optional"},"(opcional)")],-1)),e(t(I),{modelValue:r.value.medical_record,"onUpdate:modelValue":a[24]||(a[24]=o=>r.value.medical_record=o),type:"text",placeholder:"N√∫mero do prontu√°rio",class:"input-dash"},null,8,["modelValue"])])]),s("div",ms,[s("div",fs,[e(t(i),{icon:t(va)},null,8,["icon"])]),s("div",_s,[a[81]||(a[81]=s("label",null,[n("Alergias "),s("span",{class:"optional"},"(opcional)")],-1)),e(t($),{modelValue:r.value.allergies,"onUpdate:modelValue":a[25]||(a[25]=o=>r.value.allergies=o),rows:"3",placeholder:"Descreva alergias conhecidas",class:"textarea-dash"},null,8,["modelValue"])])]),s("div",bs,[s("div",gs,[e(t(i),{icon:t(pa)},null,8,["icon"])]),s("div",hs,[a[82]||(a[82]=s("label",null,[n("Observa√ß√µes M√©dicas "),s("span",{class:"optional"},"(opcional)")],-1)),e(t($),{modelValue:r.value.observations,"onUpdate:modelValue":a[26]||(a[26]=o=>r.value.observations=o),rows:"4",placeholder:"Observa√ß√µes gerais sobre o paciente",class:"textarea-dash"},null,8,["modelValue"])])]),s("div",ys,[e(t(i),{icon:t(Z)},null,8,["icon"]),s("span",null,[s("strong",null,p(r.value.checklists_count),1),a[83]||(a[83]=n(" checklists realizados",-1))])])]),s("div",ws,[s("button",{type:"button",class:"btn-cancel-dash",onClick:a[27]||(a[27]=o=>k.value=!1)},[e(t(i),{icon:t(q)},null,8,["icon"]),a[84]||(a[84]=n(" Cancelar ",-1))]),s("button",{type:"submit",class:"btn-submit-dash",disabled:N.value},[e(t(i),{icon:t(xa)},null,8,["icon"]),n(" "+p(N.value?"Salvando...":"Salvar Altera√ß√µes"),1)],8,Cs)])],32)]),_:1})):y("",!0)]),_:1},8,["is-open"])]),_:1})]),_:1}))}}),Bs=$a(Vs,[["__scopeId","data-v-c7968c53"]]);export{Bs as default};

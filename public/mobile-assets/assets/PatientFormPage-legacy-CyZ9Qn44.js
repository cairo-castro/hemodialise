System.register(["./vendor-legacy-DlkPr0jj.js","./ionic-legacy-uAFUVFYq.js","./_plugin-vue_export-helper-legacy-B7gxhGwx.js","./main-legacy-CxxKDJVF.js"],function(a,e){"use strict";var t,o,r,n,s,d,l,i,c,p,u,v,g,f,m,h,b,x,_,y,w,k,z,S,C,V,P,j,q,I,N,U,B,D,A,E;return{setters:[a=>{t=a.d,o=a.r,r=a.c,n=a.o,s=a.B,d=a.q,l=a.x,i=a.y,c=a.v,p=a.H,u=a.t,v=a.K,g=a.C,f=a.z},a=>{m=a.e,h=a.o,b=a.q,x=a.x,_=a.p,y=a.r,w=a.g,k=a.J,z=a.K,S=a.L,C=a.i,V=a.l,P=a.n,j=a.t},a=>{q=a.p,I=a.G,N=a.S,U=a.U,B=a.J,D=a.z,A=a._},a=>{E=a.C}],execute:function(){var e=document.createElement("style");e.textContent=".modal-title-dash[data-v-3487382f]{display:flex;align-items:center;gap:.5rem;font-size:1.1rem;font-weight:700}.modal-title-dash ion-icon[data-v-3487382f]{font-size:1.5rem}.modal-content-dash[data-v-3487382f]{--background: linear-gradient(180deg, #f8f9fa 0%, #e9ecef 100%);--padding: 0}.form-dash[data-v-3487382f]{max-width:600px;margin:0 auto;padding:16px}.welcome-card-dash[data-v-3487382f]{background:var(--ion-card-background);padding:20px;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,.08);margin-bottom:20px;text-align:center}.welcome-card-dash h2[data-v-3487382f]{font-size:1.5rem;font-weight:700;color:var(--ion-text-color);margin:0 0 8px}.welcome-card-dash p[data-v-3487382f]{font-size:.9rem;color:var(--ion-color-step-600);margin:0}.progress-dash[data-v-3487382f]{display:flex;align-items:center;justify-content:center;gap:0;margin-bottom:24px;padding:0 20px}.progress-item[data-v-3487382f]{display:flex;flex-direction:column;align-items:center;gap:8px}.progress-dot[data-v-3487382f]{width:32px;height:32px;border-radius:50%;background:var(--ion-card-background);border:3px solid #d1d5db;transition:all .3s ease}.progress-item.done .progress-dot[data-v-3487382f]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-primary-shade) 100%);border-color:var(--ion-color-primary)}.progress-item span[data-v-3487382f]{font-size:.7rem;color:var(--ion-color-step-600);font-weight:600;text-transform:uppercase;letter-spacing:.5px}.progress-item.done span[data-v-3487382f]{color:var(--ion-color-primary)}.progress-line[data-v-3487382f]{width:40px;height:3px;background:#e5e7eb;margin:0 -8px 20px;transition:all .3s ease}.progress-line.active[data-v-3487382f]{background:var(--ion-color-primary)}.input-cards-dash[data-v-3487382f]{display:flex;flex-direction:column;gap:12px;margin-bottom:24px}.input-card-dash[data-v-3487382f]{display:flex;align-items:flex-start;gap:16px;background:var(--ion-card-background);border:2px solid var(--ion-color-step-150);border-radius:12px;padding:16px;transition:all .2s ease}.input-card-dash[data-v-3487382f]:focus-within{border-color:var(--ion-color-primary);box-shadow:0 0 0 3px rgba(59,130,246,.1)}.card-icon-dash[data-v-3487382f]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.card-icon-dash ion-icon[data-v-3487382f]{font-size:1.8rem;color:#fff}.card-icon-dash.primary[data-v-3487382f]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-primary-shade) 100%)}.card-icon-dash.secondary[data-v-3487382f]{background:linear-gradient(135deg,#10b981,#059669)}.card-icon-dash.tertiary[data-v-3487382f]{background:linear-gradient(135deg,#f59e0b,#d97706)}.card-icon-dash.success[data-v-3487382f]{background:linear-gradient(135deg,#10b981,#059669)}.card-content-dash[data-v-3487382f]{flex:1;display:flex;flex-direction:column;gap:8px}.card-content-dash label[data-v-3487382f]{font-size:.875rem;font-weight:600;color:var(--ion-text-color);margin:0}.optional[data-v-3487382f]{font-size:.75rem;font-weight:400;color:var(--ion-color-step-500)}.input-dash[data-v-3487382f],.select-dash[data-v-3487382f]{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;font-size:1rem;color:var(--ion-text-color)}.input-dash[data-v-3487382f]::part(native),.select-dash[data-v-3487382f]::part(container){padding:0!important}.buttons-dash[data-v-3487382f]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.btn-cancel-dash[data-v-3487382f],.btn-submit-dash[data-v-3487382f]{display:flex;align-items:center;justify-content:center;gap:8px;padding:14px 20px;border-radius:12px;font-size:1rem;font-weight:600;border:none;cursor:pointer;transition:all .2s ease}.btn-cancel-dash[data-v-3487382f]{background:var(--ion-card-background);color:var(--ion-color-step-600);border:2px solid var(--ion-color-step-150)}.btn-cancel-dash[data-v-3487382f]:active{transform:scale(.98);border-color:var(--ion-color-primary)}.btn-submit-dash[data-v-3487382f]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-primary-shade) 100%);color:#fff;box-shadow:0 4px 12px rgba(0,0,0,.15)}.btn-submit-dash[data-v-3487382f]:active{transform:scale(.98)}.btn-submit-dash[data-v-3487382f]:disabled{opacity:.5;cursor:not-allowed}.btn-cancel-dash ion-icon[data-v-3487382f],.btn-submit-dash ion-icon[data-v-3487382f]{font-size:1.2rem}@media (max-width: 480px){.progress-dash[data-v-3487382f]{padding:0 10px}.progress-line[data-v-3487382f]{width:30px}.card-icon-dash[data-v-3487382f]{width:40px;height:40px}.card-icon-dash ion-icon[data-v-3487382f]{font-size:1.5rem}.buttons-dash[data-v-3487382f]{grid-template-columns:1fr}}\n",document.head.appendChild(e);const O={class:"progress-dash"},F={class:"input-cards-dash"},H={class:"input-card-dash"},J={class:"card-icon-dash primary"},K={class:"card-content-dash"},T={class:"input-card-dash"},G={class:"card-icon-dash secondary"},L={class:"card-content-dash"},R={class:"input-card-dash"},M={class:"card-icon-dash tertiary"},Q={class:"card-content-dash"},W={class:"input-card-dash"},X={class:"card-icon-dash success"},Y={class:"card-content-dash"},Z={class:"buttons-dash"},$=["disabled"];a("default",A(t({__name:"PatientFormPage",setup(a){const e=f(),t=E.getInstance().getCreatePatientUseCase(),A=o({full_name:"",birth_date:"",blood_group:"",rh_factor:"",allergies:"",observations:""}),aa=r(()=>A.value.full_name.trim().length>0&&A.value.birth_date.length>0),ea=async()=>{if(!aa.value)return;const a=await P.create({message:"Cadastrando paciente...",spinner:"crescent"});await a.present();try{const o=await t.execute(A.value);if(o){console.log("âœ… Paciente criado com sucesso:",o);const t=o.id.toString();localStorage.setItem("new_patient_id",t),localStorage.setItem("return_to_checklist","true"),console.log("ðŸ’¾ localStorage salvo - new_patient_id:",t),console.log("ðŸ’¾ localStorage salvo - return_to_checklist: true"),await a.dismiss();const r=await j.create({message:"Paciente cadastrado com sucesso!",duration:2e3,color:"success",position:"top"});await r.present(),console.log("ðŸ”™ Voltando para checklist..."),e.replace("/checklist/new")}}catch(o){await a.dismiss();const e=await j.create({message:o.message||"Erro ao cadastrar paciente",duration:3e3,color:"danger",position:"top"});await e.present()}},ta=async()=>{if(A.value.full_name||A.value.birth_date){const a=await V.create({header:"Descartar alteraÃ§Ãµes?",message:"Tem certeza que deseja cancelar? Os dados preenchidos serÃ£o perdidos.",buttons:[{text:"Continuar Editando",role:"cancel"},{text:"Descartar",role:"destructive",handler:()=>{localStorage.removeItem("patient_search_query"),e.replace("/checklist/new")}}]});await a.present()}else localStorage.removeItem("patient_search_query"),e.replace("/checklist/new")};return n(()=>{const a=localStorage.getItem("patient_search_query");a&&(A.value.full_name=a)}),(a,e)=>(d(),s(i(m),null,{default:l(()=>[c(i(y),null,{default:l(()=>[c(i(h),{color:"primary"},{default:l(()=>[c(i(b),{slot:"start"},{default:l(()=>[c(i(x),{"default-href":"/checklist/new"})]),_:1}),c(i(_),null,{default:l(()=>[...e[4]||(e[4]=[p("Novo Paciente",-1)])]),_:1})]),_:1})]),_:1}),c(i(C),{class:"modal-content-dash"},{default:l(()=>[u("form",{onSubmit:g(ea,["prevent"]),class:"form-dash"},[e[20]||(e[20]=u("div",{class:"welcome-card-dash"},[u("h2",null,"Cadastrar Novo Paciente"),u("p",null,"Preencha as informaÃ§Ãµes bÃ¡sicas")],-1)),u("div",O,[u("div",{class:v(["progress-item",{done:A.value.full_name}])},[...e[5]||(e[5]=[u("div",{class:"progress-dot"},null,-1),u("span",null,"Nome",-1)])],2),u("div",{class:v(["progress-line",{active:A.value.birth_date}])},null,2),u("div",{class:v(["progress-item",{done:A.value.birth_date}])},[...e[6]||(e[6]=[u("div",{class:"progress-dot"},null,-1),u("span",null,"Data",-1)])],2),u("div",{class:v(["progress-line",{active:A.value.blood_group||A.value.rh_factor}])},null,2),u("div",{class:v(["progress-item",{done:A.value.blood_group&&A.value.rh_factor}])},[...e[7]||(e[7]=[u("div",{class:"progress-dot"},null,-1),u("span",null,"Sangue",-1)])],2)]),u("div",F,[u("div",H,[u("div",J,[c(i(w),{icon:i(q)},null,8,["icon"])]),u("div",K,[e[8]||(e[8]=u("label",null,"Nome Completo",-1)),c(i(k),{modelValue:A.value.full_name,"onUpdate:modelValue":e[0]||(e[0]=a=>A.value.full_name=a),type:"text",required:"",placeholder:"Digite o nome completo",class:"input-dash"},null,8,["modelValue"])])]),u("div",T,[u("div",G,[c(i(w),{icon:i(I)},null,8,["icon"])]),u("div",L,[e[9]||(e[9]=u("label",null,"Data de Nascimento",-1)),c(i(k),{modelValue:A.value.birth_date,"onUpdate:modelValue":e[1]||(e[1]=a=>A.value.birth_date=a),type:"date",required:"",class:"input-dash"},null,8,["modelValue"])])]),u("div",R,[u("div",M,[c(i(w),{icon:i(N)},null,8,["icon"])]),u("div",Q,[e[14]||(e[14]=u("label",null,[p("Tipo SanguÃ­neo "),u("span",{class:"optional"},"(opcional)")],-1)),c(i(z),{modelValue:A.value.blood_group,"onUpdate:modelValue":e[2]||(e[2]=a=>A.value.blood_group=a),placeholder:"Selecione o tipo",interface:"action-sheet",class:"select-dash"},{default:l(()=>[c(i(S),{value:"A"},{default:l(()=>[...e[10]||(e[10]=[p("A",-1)])]),_:1}),c(i(S),{value:"B"},{default:l(()=>[...e[11]||(e[11]=[p("B",-1)])]),_:1}),c(i(S),{value:"AB"},{default:l(()=>[...e[12]||(e[12]=[p("AB",-1)])]),_:1}),c(i(S),{value:"O"},{default:l(()=>[...e[13]||(e[13]=[p("O",-1)])]),_:1})]),_:1},8,["modelValue"])])]),u("div",W,[u("div",X,[c(i(w),{icon:i(U)},null,8,["icon"])]),u("div",Y,[e[17]||(e[17]=u("label",null,[p("Fator RH "),u("span",{class:"optional"},"(opcional)")],-1)),c(i(z),{modelValue:A.value.rh_factor,"onUpdate:modelValue":e[3]||(e[3]=a=>A.value.rh_factor=a),placeholder:"Selecione o fator",interface:"action-sheet",class:"select-dash"},{default:l(()=>[c(i(S),{value:"+"},{default:l(()=>[...e[15]||(e[15]=[p("Positivo (+)",-1)])]),_:1}),c(i(S),{value:"-"},{default:l(()=>[...e[16]||(e[16]=[p("Negativo (-)",-1)])]),_:1})]),_:1},8,["modelValue"])])])]),u("div",Z,[u("button",{type:"button",class:"btn-cancel-dash",onClick:ta},[c(i(w),{icon:i(B)},null,8,["icon"]),e[18]||(e[18]=p(" Cancelar ",-1))]),u("button",{type:"submit",class:"btn-submit-dash",disabled:!aa.value},[c(i(w),{icon:i(D)},null,8,["icon"]),e[19]||(e[19]=p(" Cadastrar ",-1))],8,$)])],32)]),_:1})]),_:1}))}}),[["__scopeId","data-v-3487382f"]]))}}});

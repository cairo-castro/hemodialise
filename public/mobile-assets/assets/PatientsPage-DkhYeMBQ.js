import{d as Ia,r as f,c as x,o as Sa,B as j,q as m,x as l,y as t,v as e,H as n,t as s,K as C,G as p,n as g,J as y,L as Ba,F as Aa,C as oa}from"./vendor-DcQkTNkg.js";import{e as Ea,n as H,t as V,o as L,q as U,x as Na,p as J,k as $,g as i,r as G,H as xa,j as la,E as na,i as K,J as I,K as W,L as u,G as T}from"./ionic-GHA3wq_y.js";import{A as ia,w as Q,z as M,B as da,o as ra,S as ua,D as ca,H as va,J as D,p as E,G as X,T as Y,r as Z,F as pa,U as ma,V as Ua,i as $a,N as Ta,_ as Ma}from"./_plugin-vue_export-helper-CkaGgE-1.js";import{C as Da,A as aa}from"./main-CQvW4xw_.js";import{u as qa}from"./useStatsAutoRefresh-BvK9rLKE.js";const za={class:"search-container-dash"},Fa={class:"search-card"},Ra={class:"stats-grid-extended"},ja={class:"stat-icon"},Ha={class:"stat-info"},La={class:"stat-value"},Ja={class:"stat-icon"},Ga={class:"stat-info"},Ka={class:"stat-value"},Wa={class:"stat-icon"},Qa={class:"stat-info"},Xa={class:"stat-value"},Ya={class:"stat-icon"},Za={class:"stat-info"},at={class:"stat-value"},tt={class:"stat-icon"},st={class:"stat-info"},et={class:"stat-value"},ot={class:"stat-icon"},lt={class:"stat-info"},nt={class:"stat-value"},it={class:"patients-container-dash"},dt={class:"section-header"},rt={class:"patients-grid"},ut=["onClick"],ct={class:"patient-avatar"},vt={class:"patient-content"},pt={class:"patient-header-dash"},mt={class:"patient-meta"},ft={class:"meta-item"},_t={class:"meta-item"},gt={key:0,class:"patient-details-dash"},bt={key:0,class:"detail-chip"},ht={class:"patient-arrow"},yt={key:0,class:"empty-state-dash"},wt={class:"empty-icon"},Ct={key:0},Vt={key:1},kt={class:"modal-title-dash"},Pt={class:"welcome-card-dash"},Ot={class:"patient-avatar-large"},It={class:"input-cards-dash"},St={class:"input-card-dash"},Bt={class:"card-icon-dash primary"},At={class:"card-content-dash"},Et={class:"input-card-dash"},Nt={class:"card-icon-dash secondary"},xt={class:"card-content-dash"},Ut={class:"input-card-dash"},$t={class:"card-icon-dash tertiary"},Tt={class:"card-content-dash"},Mt={class:"input-card-dash"},Dt={class:"card-icon-dash quaternary"},qt={class:"card-content-dash"},zt={class:"input-card-dash"},Ft={class:"card-icon-dash danger"},Rt={class:"card-content-dash"},jt={class:"input-card-dash"},Ht={class:"card-icon-dash medium"},Lt={class:"card-content-dash"},Jt={class:"buttons-dash"},Gt=["disabled"],Kt={class:"modal-title-dash"},Wt={class:"edit-header-card"},Qt={class:"patient-avatar-large"},Xt={class:"input-cards-dash"},Yt={class:"input-card-dash"},Zt={class:"card-icon-dash primary"},as={class:"card-content-dash"},ts={class:"input-card-dash"},ss={class:"card-icon-dash secondary"},es={class:"card-content-dash"},os={key:0,class:"detail-hint"},ls={class:"input-card-dash"},ns={class:"card-icon-dash tertiary"},is={class:"card-content-dash"},ds={class:"input-card-dash status-card"},rs={class:"card-content-dash"},us={key:0,class:"detail-hint"},cs={key:1,class:"detail-hint terminal-hint"},vs={class:"input-card-dash"},ps={class:"card-icon-dash quaternary"},ms={class:"card-content-dash"},fs={class:"input-card-dash"},_s={class:"card-icon-dash danger"},gs={class:"card-content-dash"},bs={class:"input-card-dash"},hs={class:"card-icon-dash medium"},ys={class:"card-content-dash"},ws={class:"info-card-compact"},Cs={class:"buttons-dash"},Vs=["disabled"],ks=Ia({__name:"PatientsPage",setup(Ps){const ta=Da.getInstance(),fa=ta.getCreatePatientUseCase(),_a=ta.get("PatientRepository"),_=f([]),S=f(""),w=f(!1),k=f(!1),r=f(null),b=f(""),sa=f(!1);f(!1);const N=f(!1),h=f(null);let q=null;const c=f({full_name:"",birth_date:"",blood_type:"",medical_record:"",allergies:"",observations:""}),z=x(()=>h.value!==null?_.value.filter(d=>d.status===h.value):_.value),ga=x(()=>c.value.full_name.length>0&&c.value.birth_date.length>0),ba=x(()=>_.value.length),B=x(()=>{const d={ativo:0,inativo:0,transferido:0,alta:0,obito:0};return _.value.forEach(a=>{const o=a.status||"ativo";d.hasOwnProperty(o)&&d[o]++}),d}),F=async(d="")=>{const a=await H.create({message:d?"Buscando pacientes...":"Carregando pacientes...",spinner:"crescent"});await a.present();try{const o=await fetch("/api/patients?per_page=100&include_inactive=true".concat(d?"&search=".concat(encodeURIComponent(d)):""),aa.getFetchConfig());if(!o.ok)throw new Error("Erro ao carregar pacientes");const v=await o.json();if(v.success)_.value=v.patients||[];else throw new Error(v.message||"Erro ao carregar pacientes")}catch(o){console.error("Error loading patients:",o),await(await V.create({message:"Erro ao carregar pacientes",duration:3e3,color:"danger",position:"top"})).present()}finally{await a.dismiss()}},ha=d=>{var o,v;const a=((o=d.target)==null?void 0:o.value)||((v=d.detail)==null?void 0:v.value)||"";if(S.value=a,q&&clearTimeout(q),!a||a.length===0){F();return}q=setTimeout(async()=>{if(a.length>=2){sa.value=!0;try{_.value=await _a.quickSearch(a,50)}catch(A){console.error("Error searching patients:",A),await(await V.create({message:"Erro ao buscar pacientes",duration:2e3,color:"warning",position:"top"})).present()}finally{sa.value=!1}}},500)},P=d=>{h.value=d},ya=async d=>{try{const a=await H.create({message:"Carregando detalhes...",spinner:"crescent"});await a.present();const v=await(await fetch("/api/patients/".concat(d.id),aa.getFetchConfig())).json();if(v.success)r.value=v.patient,b.value=v.patient.status||"ativo",k.value=!0;else throw new Error(v.message||"Erro ao carregar detalhes");await a.dismiss()}catch(a){console.error("Error loading patient details:",a),await(await V.create({message:a.message||"Erro ao carregar detalhes do paciente",duration:3e3,color:"danger",position:"top"})).present()}},wa=async()=>{if(r.value)try{N.value=!0;const a=await(await fetch("/api/patients/".concat(r.value.id),aa.getFetchConfig({method:"PUT",body:JSON.stringify({full_name:r.value.full_name,birth_date:r.value.birth_date,blood_type:r.value.blood_type||null,medical_record:r.value.medical_record||null,allergies:r.value.allergies||null,observations:r.value.observations||null,status:b.value})}))).json();if(a.success){const o=_.value.findIndex(A=>A.id===r.value.id);o!==-1&&(_.value[o]={..._.value[o],...a.patient}),k.value=!1,await(await V.create({message:"Paciente atualizado com sucesso!",duration:2e3,color:"success",position:"top"})).present()}else throw new Error(a.message||"Erro ao atualizar paciente")}catch(d){console.error("Error updating patient:",d),await(await V.create({message:d.message||"Erro ao atualizar paciente",duration:3e3,color:"danger",position:"top"})).present()}finally{N.value=!1}},Ca=d=>({ativo:"success",inativo:"warning",transferido:"primary",alta:"medium",obito:"danger"})[d]||"success",ea=d=>d==="alta"||d==="obito",Va=d=>({ativo:M,inativo:da,transferido:ra,alta:ua,obito:ca})[d]||M,ka=d=>({ativo:"success",inativo:"warning",transferido:"info",alta:"medium",obito:"danger"})[d]||"success",Pa=async()=>{const d=await H.create({message:"Cadastrando paciente...",spinner:"crescent"});await d.present();try{const a=await fa.execute(c.value);_.value.unshift(a),c.value={full_name:"",birth_date:"",blood_type:"",medical_record:"",allergies:"",observations:""},w.value=!1,await(await V.create({message:"Paciente cadastrado com sucesso!",duration:2e3,color:"success",position:"top"})).present()}catch(a){await(await V.create({message:a.message||"Erro ao cadastrar paciente",duration:3e3,color:"danger",position:"top"})).present()}finally{await d.dismiss()}},Oa=d=>{if(!d)return"Data n√£o informada";const a=d.split("-");if(a.length===3){const o=parseInt(a[0]),v=parseInt(a[1])-1,A=parseInt(a[2]),R=new Date(o,v,A);if(!isNaN(R.getTime()))return R.toLocaleDateString("pt-BR")}return"Data inv√°lida"},{isRefreshing:O}=qa(F,{loadOnMount:!1,interval:15e3,onStatsUpdated:()=>{console.log("[Patients] Stats atualizados automaticamente")}});return Sa(()=>{F()}),(d,a)=>(m(),j(t(Ea),null,{default:l(()=>[e(t(G),{translucent:!0},{default:l(()=>[e(t(L),{color:"primary"},{default:l(()=>[e(t(U),{slot:"start"},{default:l(()=>[e(t(Na),{"default-href":"/dashboard"})]),_:1}),e(t(J),null,{default:l(()=>[...a[29]||(a[29]=[n("Pacientes",-1)])]),_:1}),e(t(U),{slot:"end"},{default:l(()=>[e(t($),{onClick:a[0]||(a[0]=o=>w.value=!0),class:"add-button"},{default:l(()=>[e(t(i),{icon:t(ia),slot:"icon-only"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),e(t(K),{fullscreen:!0,class:"dashboard-content"},{default:l(()=>[s("div",za,[s("div",Fa,[e(t(i),{icon:t(Q),class:"search-icon"},null,8,["icon"]),e(t(xa),{value:S.value,placeholder:"Buscar pacientes...",onIonInput:a[1]||(a[1]=o=>ha(o)),onIonClear:a[2]||(a[2]=o=>S.value=""),"show-clear-button":"focus",class:"search-bar-dash",debounce:"300"},null,8,["value"])])]),s("div",Ra,[s("div",{class:C(["stat-card primary clickable",{updating:t(O),active:h.value===null}]),onClick:a[3]||(a[3]=o=>P(null))},[s("div",ja,[e(t(i),{icon:t(Q)},null,8,["icon"])]),s("div",Ha,[s("span",La,p(ba.value),1),a[30]||(a[30]=s("span",{class:"stat-label"},"Total",-1))])],2),s("div",{class:C(["stat-card success clickable",{updating:t(O),active:h.value==="ativo"}]),onClick:a[4]||(a[4]=o=>P("ativo"))},[s("div",Ja,[e(t(i),{icon:t(M)},null,8,["icon"])]),s("div",Ga,[s("span",Ka,p(B.value.ativo),1),a[31]||(a[31]=s("span",{class:"stat-label"},"Ativos",-1))])],2),s("div",{class:C(["stat-card warning clickable",{updating:t(O),active:h.value==="inativo"}]),onClick:a[5]||(a[5]=o=>P("inativo"))},[s("div",Wa,[e(t(i),{icon:t(da)},null,8,["icon"])]),s("div",Qa,[s("span",Xa,p(B.value.inativo),1),a[32]||(a[32]=s("span",{class:"stat-label"},"Inativos",-1))])],2),s("div",{class:C(["stat-card info clickable",{updating:t(O),active:h.value==="transferido"}]),onClick:a[6]||(a[6]=o=>P("transferido"))},[s("div",Ya,[e(t(i),{icon:t(ra)},null,8,["icon"])]),s("div",Za,[s("span",at,p(B.value.transferido),1),a[33]||(a[33]=s("span",{class:"stat-label"},"Transferidos",-1))])],2),s("div",{class:C(["stat-card medium clickable",{updating:t(O),active:h.value==="alta"}]),onClick:a[7]||(a[7]=o=>P("alta"))},[s("div",tt,[e(t(i),{icon:t(ua)},null,8,["icon"])]),s("div",st,[s("span",et,p(B.value.alta),1),a[34]||(a[34]=s("span",{class:"stat-label"},"Alta",-1))])],2),s("div",{class:C(["stat-card danger clickable",{updating:t(O),active:h.value==="obito"}]),onClick:a[8]||(a[8]=o=>P("obito"))},[s("div",ot,[e(t(i),{icon:t(ca)},null,8,["icon"])]),s("div",lt,[s("span",nt,p(B.value.obito),1),a[35]||(a[35]=s("span",{class:"stat-label"},"√ìbito",-1))])],2)]),s("div",it,[s("div",dt,[a[36]||(a[36]=s("h2",null,"Lista de Pacientes",-1)),e(t(la),{color:"primary"},{default:l(()=>[n(p(z.value.length),1)]),_:1})]),s("div",rt,[(m(!0),g(Aa,null,Ba(z.value,o=>(m(),g("div",{key:o.id,class:"patient-card-dash",onClick:v=>ya(o)},[s("div",ct,[e(t(i),{icon:t(E)},null,8,["icon"])]),s("div",vt,[s("div",pt,[s("h3",null,p(o.full_name),1),e(t(la),{color:Ca(o.status),class:"status-badge"},{default:l(()=>[n(p(o.status_label||"Ativo"),1)]),_:2},1032,["color"])]),s("div",mt,[s("div",ft,[e(t(i),{icon:t(X)},null,8,["icon"]),s("span",null,p(Oa(o.birth_date)),1)]),s("div",_t,[e(t(i),{icon:t($a)},null,8,["icon"]),s("span",null,p(o.age)+" anos",1)])]),o.blood_type?(m(),g("div",gt,[o.blood_type?(m(),g("div",bt,[e(t(i),{icon:t(Y)},null,8,["icon"]),s("span",null,p(o.blood_type),1)])):y("",!0)])):y("",!0)]),s("div",ht,[e(t(i),{icon:t(Ta)},null,8,["icon"])])],8,ut))),128))]),z.value.length===0?(m(),g("div",yt,[s("div",wt,[e(t(i),{icon:t(Q)},null,8,["icon"])]),a[38]||(a[38]=s("h3",null,"Nenhum paciente encontrado",-1)),S.value?(m(),g("p",Ct,"Tente ajustar os termos de busca")):(m(),g("p",Vt,"Cadastre o primeiro paciente clicando no bot√£o +")),S.value?y("",!0):(m(),j(t($),{key:2,onClick:a[9]||(a[9]=o=>w.value=!0),class:"empty-action"},{default:l(()=>[e(t(i),{icon:t(ia),slot:"start"},null,8,["icon"]),a[37]||(a[37]=n(" Novo Paciente ",-1))]),_:1}))])):y("",!0)]),e(t(na),{"is-open":w.value,onWillDismiss:a[18]||(a[18]=o=>w.value=!1)},{default:l(()=>[e(t(G),null,{default:l(()=>[e(t(L),{color:"primary"},{default:l(()=>[e(t(J),null,{default:l(()=>[s("div",kt,[e(t(i),{icon:t(va)},null,8,["icon"]),a[39]||(a[39]=s("span",null,"Novo Paciente",-1))])]),_:1}),e(t(U),{slot:"end"},{default:l(()=>[e(t($),{onClick:a[10]||(a[10]=o=>w.value=!1)},{default:l(()=>[e(t(i),{icon:t(D),slot:"icon-only"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),e(t(K),{class:"modal-content-dash"},{default:l(()=>[s("form",{onSubmit:oa(Pa,["prevent"]),class:"form-dash"},[s("div",Pt,[s("div",Ot,[e(t(i),{icon:t(va)},null,8,["icon"])]),a[40]||(a[40]=s("h2",null,"Cadastrar Novo Paciente",-1)),a[41]||(a[41]=s("p",null,"Preencha todas as informa√ß√µes necess√°rias",-1))]),s("div",It,[s("div",St,[s("div",Bt,[e(t(i),{icon:t(E)},null,8,["icon"])]),s("div",At,[a[42]||(a[42]=s("label",null,"Nome Completo",-1)),e(t(I),{modelValue:c.value.full_name,"onUpdate:modelValue":a[11]||(a[11]=o=>c.value.full_name=o),type:"text",required:"",placeholder:"Digite o nome completo",class:"input-dash"},null,8,["modelValue"])])]),s("div",Et,[s("div",Nt,[e(t(i),{icon:t(X)},null,8,["icon"])]),s("div",xt,[a[43]||(a[43]=s("label",null,"Data de Nascimento",-1)),e(t(I),{modelValue:c.value.birth_date,"onUpdate:modelValue":a[12]||(a[12]=o=>c.value.birth_date=o),type:"date",required:"",class:"input-dash"},null,8,["modelValue"])])]),s("div",Ut,[s("div",$t,[e(t(i),{icon:t(Y)},null,8,["icon"])]),s("div",Tt,[a[53]||(a[53]=s("label",null,[n("Tipo Sangu√≠neo "),s("span",{class:"optional"},"(opcional)")],-1)),e(t(W),{modelValue:c.value.blood_type,"onUpdate:modelValue":a[13]||(a[13]=o=>c.value.blood_type=o),placeholder:"Selecione o tipo sangu√≠neo",interface:"action-sheet",class:"select-dash"},{default:l(()=>[e(t(u),{value:""},{default:l(()=>[...a[44]||(a[44]=[n("N√£o informado",-1)])]),_:1}),e(t(u),{value:"A+"},{default:l(()=>[...a[45]||(a[45]=[n("A+",-1)])]),_:1}),e(t(u),{value:"A-"},{default:l(()=>[...a[46]||(a[46]=[n("A-",-1)])]),_:1}),e(t(u),{value:"B+"},{default:l(()=>[...a[47]||(a[47]=[n("B+",-1)])]),_:1}),e(t(u),{value:"B-"},{default:l(()=>[...a[48]||(a[48]=[n("B-",-1)])]),_:1}),e(t(u),{value:"AB+"},{default:l(()=>[...a[49]||(a[49]=[n("AB+",-1)])]),_:1}),e(t(u),{value:"AB-"},{default:l(()=>[...a[50]||(a[50]=[n("AB-",-1)])]),_:1}),e(t(u),{value:"O+"},{default:l(()=>[...a[51]||(a[51]=[n("O+",-1)])]),_:1}),e(t(u),{value:"O-"},{default:l(()=>[...a[52]||(a[52]=[n("O-",-1)])]),_:1})]),_:1},8,["modelValue"])])]),s("div",Mt,[s("div",Dt,[e(t(i),{icon:t(Z)},null,8,["icon"])]),s("div",qt,[a[54]||(a[54]=s("label",null,[n("Prontu√°rio M√©dico "),s("span",{class:"optional"},"(opcional)")],-1)),e(t(I),{modelValue:c.value.medical_record,"onUpdate:modelValue":a[14]||(a[14]=o=>c.value.medical_record=o),type:"text",placeholder:"N√∫mero do prontu√°rio",class:"input-dash"},null,8,["modelValue"])])]),s("div",zt,[s("div",Ft,[e(t(i),{icon:t(pa)},null,8,["icon"])]),s("div",Rt,[a[55]||(a[55]=s("label",null,[n("Alergias "),s("span",{class:"optional"},"(opcional)")],-1)),e(t(T),{modelValue:c.value.allergies,"onUpdate:modelValue":a[15]||(a[15]=o=>c.value.allergies=o),rows:"3",placeholder:"Descreva alergias conhecidas",class:"textarea-dash"},null,8,["modelValue"])])]),s("div",jt,[s("div",Ht,[e(t(i),{icon:t(ma)},null,8,["icon"])]),s("div",Lt,[a[56]||(a[56]=s("label",null,[n("Observa√ß√µes M√©dicas "),s("span",{class:"optional"},"(opcional)")],-1)),e(t(T),{modelValue:c.value.observations,"onUpdate:modelValue":a[16]||(a[16]=o=>c.value.observations=o),rows:"4",placeholder:"Observa√ß√µes gerais sobre o paciente",class:"textarea-dash"},null,8,["modelValue"])])])]),s("div",Jt,[s("button",{type:"button",class:"btn-cancel-dash",onClick:a[17]||(a[17]=o=>w.value=!1)},[e(t(i),{icon:t(D)},null,8,["icon"]),a[57]||(a[57]=n(" Cancelar ",-1))]),s("button",{type:"submit",class:"btn-submit-dash",disabled:!ga.value},[e(t(i),{icon:t(M)},null,8,["icon"]),a[58]||(a[58]=n(" Cadastrar Paciente ",-1))],8,Gt)])],32)]),_:1})]),_:1},8,["is-open"]),e(t(na),{"is-open":k.value,onWillDismiss:a[28]||(a[28]=o=>k.value=!1)},{default:l(()=>[e(t(G),null,{default:l(()=>[e(t(L),{color:"primary"},{default:l(()=>[e(t(J),null,{default:l(()=>[s("div",Kt,[e(t(i),{icon:t(E)},null,8,["icon"]),a[59]||(a[59]=s("span",null,"Editar Paciente",-1))])]),_:1}),e(t(U),{slot:"end"},{default:l(()=>[e(t($),{onClick:a[19]||(a[19]=o=>k.value=!1)},{default:l(()=>[e(t(i),{icon:t(D),slot:"icon-only"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),r.value?(m(),j(t(K),{key:0,class:"modal-content-dash"},{default:l(()=>[s("form",{onSubmit:oa(wa,["prevent"]),class:"form-dash"},[s("div",Wt,[s("div",Qt,[e(t(i),{icon:t(E)},null,8,["icon"])]),a[60]||(a[60]=s("h2",null,"Editar Informa√ß√µes",-1)),a[61]||(a[61]=s("p",null,"Atualize os dados do paciente",-1))]),s("div",Xt,[s("div",Yt,[s("div",Zt,[e(t(i),{icon:t(E)},null,8,["icon"])]),s("div",as,[a[62]||(a[62]=s("label",null,"Nome Completo",-1)),e(t(I),{modelValue:r.value.full_name,"onUpdate:modelValue":a[20]||(a[20]=o=>r.value.full_name=o),type:"text",required:"",placeholder:"Nome completo do paciente",class:"input-dash"},null,8,["modelValue"])])]),s("div",ts,[s("div",ss,[e(t(i),{icon:t(X)},null,8,["icon"])]),s("div",es,[a[63]||(a[63]=s("label",null,"Data de Nascimento",-1)),e(t(I),{modelValue:r.value.birth_date,"onUpdate:modelValue":a[21]||(a[21]=o=>r.value.birth_date=o),type:"date",required:"",class:"input-dash"},null,8,["modelValue"]),r.value.age?(m(),g("span",os,p(r.value.age)+" anos",1)):y("",!0)])]),s("div",ls,[s("div",ns,[e(t(i),{icon:t(Y)},null,8,["icon"])]),s("div",is,[a[73]||(a[73]=s("label",null,[n("Tipo Sangu√≠neo "),s("span",{class:"optional"},"(opcional)")],-1)),e(t(W),{modelValue:r.value.blood_type,"onUpdate:modelValue":a[22]||(a[22]=o=>r.value.blood_type=o),placeholder:"Selecione o tipo",interface:"action-sheet",class:"select-dash"},{default:l(()=>[e(t(u),{value:""},{default:l(()=>[...a[64]||(a[64]=[n("N√£o informado",-1)])]),_:1}),e(t(u),{value:"A+"},{default:l(()=>[...a[65]||(a[65]=[n("A+",-1)])]),_:1}),e(t(u),{value:"A-"},{default:l(()=>[...a[66]||(a[66]=[n("A-",-1)])]),_:1}),e(t(u),{value:"B+"},{default:l(()=>[...a[67]||(a[67]=[n("B+",-1)])]),_:1}),e(t(u),{value:"B-"},{default:l(()=>[...a[68]||(a[68]=[n("B-",-1)])]),_:1}),e(t(u),{value:"AB+"},{default:l(()=>[...a[69]||(a[69]=[n("AB+",-1)])]),_:1}),e(t(u),{value:"AB-"},{default:l(()=>[...a[70]||(a[70]=[n("AB-",-1)])]),_:1}),e(t(u),{value:"O+"},{default:l(()=>[...a[71]||(a[71]=[n("O+",-1)])]),_:1}),e(t(u),{value:"O-"},{default:l(()=>[...a[72]||(a[72]=[n("O-",-1)])]),_:1})]),_:1},8,["modelValue"])])]),s("div",ds,[s("div",{class:C(["card-icon-dash",ka(b.value)])},[e(t(i),{icon:Va(b.value)},null,8,["icon"])],2),s("div",rs,[a[79]||(a[79]=s("label",null,"Status do Paciente",-1)),e(t(W),{modelValue:b.value,"onUpdate:modelValue":a[23]||(a[23]=o=>b.value=o),placeholder:"Selecione o status",interface:"action-sheet",class:"select-dash",disabled:ea(r.value.status)},{default:l(()=>[e(t(u),{value:"ativo"},{default:l(()=>[...a[74]||(a[74]=[n("‚úÖ Ativo - Pode realizar sess√µes",-1)])]),_:1}),e(t(u),{value:"inativo"},{default:l(()=>[...a[75]||(a[75]=[n("‚è∏Ô∏è Inativo - Temporariamente suspenso",-1)])]),_:1}),e(t(u),{value:"transferido"},{default:l(()=>[...a[76]||(a[76]=[n("üîÑ Transferido - Outra unidade",-1)])]),_:1}),e(t(u),{value:"alta"},{default:l(()=>[...a[77]||(a[77]=[n("‚¨ÜÔ∏è Alta M√©dica - Permanente (irrevers√≠vel)",-1)])]),_:1}),e(t(u),{value:"obito"},{default:l(()=>[...a[78]||(a[78]=[n("‚ùå √ìbito - Falecimento (irrevers√≠vel)",-1)])]),_:1})]),_:1},8,["modelValue","disabled"]),b.value!==r.value.status&&(b.value==="alta"||b.value==="obito")?(m(),g("span",us," ‚ö†Ô∏è Status terminal n√£o pode ser revertido ")):y("",!0),ea(r.value.status)?(m(),g("span",cs," üîí Status terminal bloqueado para edi√ß√£o ")):y("",!0)])]),s("div",vs,[s("div",ps,[e(t(i),{icon:t(Z)},null,8,["icon"])]),s("div",ms,[a[80]||(a[80]=s("label",null,[n("Prontu√°rio M√©dico "),s("span",{class:"optional"},"(opcional)")],-1)),e(t(I),{modelValue:r.value.medical_record,"onUpdate:modelValue":a[24]||(a[24]=o=>r.value.medical_record=o),type:"text",placeholder:"N√∫mero do prontu√°rio",class:"input-dash"},null,8,["modelValue"])])]),s("div",fs,[s("div",_s,[e(t(i),{icon:t(pa)},null,8,["icon"])]),s("div",gs,[a[81]||(a[81]=s("label",null,[n("Alergias "),s("span",{class:"optional"},"(opcional)")],-1)),e(t(T),{modelValue:r.value.allergies,"onUpdate:modelValue":a[25]||(a[25]=o=>r.value.allergies=o),rows:"3",placeholder:"Descreva alergias conhecidas",class:"textarea-dash"},null,8,["modelValue"])])]),s("div",bs,[s("div",hs,[e(t(i),{icon:t(ma)},null,8,["icon"])]),s("div",ys,[a[82]||(a[82]=s("label",null,[n("Observa√ß√µes M√©dicas "),s("span",{class:"optional"},"(opcional)")],-1)),e(t(T),{modelValue:r.value.observations,"onUpdate:modelValue":a[26]||(a[26]=o=>r.value.observations=o),rows:"4",placeholder:"Observa√ß√µes gerais sobre o paciente",class:"textarea-dash"},null,8,["modelValue"])])]),s("div",ws,[e(t(i),{icon:t(Z)},null,8,["icon"]),s("span",null,[s("strong",null,p(r.value.checklists_count),1),a[83]||(a[83]=n(" checklists realizados",-1))])])]),s("div",Cs,[s("button",{type:"button",class:"btn-cancel-dash",onClick:a[27]||(a[27]=o=>k.value=!1)},[e(t(i),{icon:t(D)},null,8,["icon"]),a[84]||(a[84]=n(" Cancelar ",-1))]),s("button",{type:"submit",class:"btn-submit-dash",disabled:N.value},[e(t(i),{icon:t(Ua)},null,8,["icon"]),n(" "+p(N.value?"Salvando...":"Salvar Altera√ß√µes"),1)],8,Vs)])],32)]),_:1})):y("",!0)]),_:1},8,["is-open"])]),_:1})]),_:1}))}}),Es=Ma(ks,[["__scopeId","data-v-f8320917"]]);export{Es as default};

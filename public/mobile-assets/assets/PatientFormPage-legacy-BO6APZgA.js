System.register(["./vendor-legacy-CXQ1o16N.js","./ionic-legacy-CQzVRdmB.js","./_plugin-vue_export-helper-legacy-Du2wO1NW.js","./main-legacy-f6lX_bvQ.js"],function(a,e){"use strict";var t,o,r,s,d,n,l,i,c,p,u,b,g,m,v,h,f,x,_,y,w,k,S,z,C,V,P,j,I,q,N,A,B,D,U,E,F;return{setters:[a=>{t=a.d,o=a.r,r=a.c,s=a.o,d=a.A,n=a.q,l=a.x,i=a.y,c=a.v,p=a.t,u=a.K,b=a.H,g=a.C,m=a.B},a=>{v=a.e,h=a.m,f=a.o,x=a.x,_=a.n,y=a.g,w=a.p,k=a.J,S=a.K,z=a.L,C=a.i,V=a.l,P=a.w,j=a.t},a=>{I=a.G,q=a.p,N=a.F,A=a.R,B=a.S,D=a.I,U=a.y,E=a._},a=>{F=a.C}],execute:function(){var e=document.createElement("style");e.textContent=".modal-title-dash[data-v-1b784657]{display:flex;align-items:center;gap:.5rem;font-size:1.1rem;font-weight:700}.modal-title-dash ion-icon[data-v-1b784657]{font-size:1.5rem}.modal-content-dash[data-v-1b784657]{--background: linear-gradient(180deg, #f8f9fa 0%, #e9ecef 100%);--padding: 0}.form-dash[data-v-1b784657]{max-width:600px;margin:0 auto;padding:16px}.welcome-card-dash[data-v-1b784657]{background:#fff;padding:20px;border-radius:16px;box-shadow:0 2px 8px rgba(0,0,0,.08);margin-bottom:20px;text-align:center}.welcome-card-dash h2[data-v-1b784657]{font-size:1.5rem;font-weight:700;color:#1f2937;margin:0 0 8px}.welcome-card-dash p[data-v-1b784657]{font-size:.9rem;color:#6b7280;margin:0}.progress-dash[data-v-1b784657]{display:flex;align-items:center;justify-content:center;gap:0;margin-bottom:24px;padding:0 20px}.progress-item[data-v-1b784657]{display:flex;flex-direction:column;align-items:center;gap:8px}.progress-dot[data-v-1b784657]{width:32px;height:32px;border-radius:50%;background:#fff;border:3px solid #d1d5db;transition:all .3s ease}.progress-item.done .progress-dot[data-v-1b784657]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-primary-shade) 100%);border-color:var(--ion-color-primary)}.progress-item span[data-v-1b784657]{font-size:.7rem;color:#6b7280;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.progress-item.done span[data-v-1b784657]{color:var(--ion-color-primary)}.progress-line[data-v-1b784657]{width:40px;height:3px;background:#e5e7eb;margin:0 -8px 20px;transition:all .3s ease}.progress-line.active[data-v-1b784657]{background:var(--ion-color-primary)}.input-cards-dash[data-v-1b784657]{display:flex;flex-direction:column;gap:12px;margin-bottom:24px}.input-card-dash[data-v-1b784657]{display:flex;align-items:flex-start;gap:16px;background:#fff;border:2px solid #e5e7eb;border-radius:12px;padding:16px;transition:all .2s ease}.input-card-dash[data-v-1b784657]:focus-within{border-color:var(--ion-color-primary);box-shadow:0 0 0 3px rgba(59,130,246,.1)}.card-icon-dash[data-v-1b784657]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.card-icon-dash ion-icon[data-v-1b784657]{font-size:1.8rem;color:#fff}.card-icon-dash.primary[data-v-1b784657]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-primary-shade) 100%)}.card-icon-dash.secondary[data-v-1b784657]{background:linear-gradient(135deg,#10b981,#059669)}.card-icon-dash.tertiary[data-v-1b784657]{background:linear-gradient(135deg,#f59e0b,#d97706)}.card-icon-dash.success[data-v-1b784657]{background:linear-gradient(135deg,#10b981,#059669)}.card-content-dash[data-v-1b784657]{flex:1;display:flex;flex-direction:column;gap:8px}.card-content-dash label[data-v-1b784657]{font-size:.875rem;font-weight:600;color:#1f2937;margin:0}.optional[data-v-1b784657]{font-size:.75rem;font-weight:400;color:#9ca3af}.input-dash[data-v-1b784657],.select-dash[data-v-1b784657]{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;font-size:1rem;color:#1f2937}.input-dash[data-v-1b784657]::part(native),.select-dash[data-v-1b784657]::part(container){padding:0!important}.buttons-dash[data-v-1b784657]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.btn-cancel-dash[data-v-1b784657],.btn-submit-dash[data-v-1b784657]{display:flex;align-items:center;justify-content:center;gap:8px;padding:14px 20px;border-radius:12px;font-size:1rem;font-weight:600;border:none;cursor:pointer;transition:all .2s ease}.btn-cancel-dash[data-v-1b784657]{background:#fff;color:#6b7280;border:2px solid #e5e7eb}.btn-cancel-dash[data-v-1b784657]:active{transform:scale(.98);border-color:var(--ion-color-primary)}.btn-submit-dash[data-v-1b784657]{background:linear-gradient(135deg,var(--ion-color-primary) 0%,var(--ion-color-primary-shade) 100%);color:#fff;box-shadow:0 4px 12px rgba(0,0,0,.15)}.btn-submit-dash[data-v-1b784657]:active{transform:scale(.98)}.btn-submit-dash[data-v-1b784657]:disabled{opacity:.5;cursor:not-allowed}.btn-cancel-dash ion-icon[data-v-1b784657],.btn-submit-dash ion-icon[data-v-1b784657]{font-size:1.2rem}@media (max-width: 480px){.progress-dash[data-v-1b784657]{padding:0 10px}.progress-line[data-v-1b784657]{width:30px}.card-icon-dash[data-v-1b784657]{width:40px;height:40px}.card-icon-dash ion-icon[data-v-1b784657]{font-size:1.5rem}.buttons-dash[data-v-1b784657]{grid-template-columns:1fr}}\n",document.head.appendChild(e);const O={class:"modal-title-dash"},H={class:"progress-dash"},K={class:"input-cards-dash"},R={class:"input-card-dash"},T={class:"card-icon-dash primary"},G={class:"card-content-dash"},J={class:"input-card-dash"},L={class:"card-icon-dash secondary"},M={class:"card-content-dash"},Q={class:"input-card-dash"},W={class:"card-icon-dash tertiary"},X={class:"card-content-dash"},Y={class:"input-card-dash"},Z={class:"card-icon-dash success"},$={class:"card-content-dash"},aa={class:"buttons-dash"},ea=["disabled"];a("default",E(t({__name:"PatientFormPage",setup(a){const e=m(),t=F.getInstance().getCreatePatientUseCase(),E=o({full_name:"",birth_date:"",blood_group:"",rh_factor:"",allergies:"",observations:""}),ta=r(()=>E.value.full_name.trim().length>0&&E.value.birth_date.length>0),oa=async()=>{if(!ta.value)return;const a=await P.create({message:"Cadastrando paciente...",spinner:"crescent"});await a.present();try{const o=await t.execute(E.value);if(o){console.log("âœ… Paciente criado com sucesso:",o);const t=o.id.toString();localStorage.setItem("new_patient_id",t),localStorage.setItem("return_to_checklist","true"),console.log("ðŸ’¾ localStorage salvo - new_patient_id:",t),console.log("ðŸ’¾ localStorage salvo - return_to_checklist: true"),await a.dismiss();const r=await j.create({message:"Paciente cadastrado com sucesso!",duration:2e3,color:"success",position:"top"});await r.present(),console.log("ðŸ”™ Voltando para checklist..."),e.back()}}catch(o){await a.dismiss();const e=await j.create({message:o.message||"Erro ao cadastrar paciente",duration:3e3,color:"danger",position:"top"});await e.present()}},ra=async()=>{if(E.value.full_name||E.value.birth_date){const a=await V.create({header:"Descartar alteraÃ§Ãµes?",message:"Tem certeza que deseja cancelar? Os dados preenchidos serÃ£o perdidos.",buttons:[{text:"Continuar Editando",role:"cancel"},{text:"Descartar",role:"destructive",handler:()=>{localStorage.removeItem("patient_search_query"),e.back()}}]});await a.present()}else localStorage.removeItem("patient_search_query"),e.back()};return s(()=>{const a=localStorage.getItem("patient_search_query");a&&(E.value.full_name=a)}),(a,e)=>(n(),d(i(v),null,{default:l(()=>[c(i(w),null,{default:l(()=>[c(i(h),{color:"primary"},{default:l(()=>[c(i(f),{slot:"start"},{default:l(()=>[c(i(x),{"default-href":"/checklist/new"})]),_:1}),c(i(_),null,{default:l(()=>[p("div",O,[c(i(y),{icon:i(I)},null,8,["icon"]),e[4]||(e[4]=p("span",null,"Novo Paciente",-1))])]),_:1})]),_:1})]),_:1}),c(i(C),{class:"modal-content-dash"},{default:l(()=>[p("form",{onSubmit:g(oa,["prevent"]),class:"form-dash"},[e[20]||(e[20]=p("div",{class:"welcome-card-dash"},[p("h2",null,"Cadastrar Novo Paciente"),p("p",null,"Preencha as informaÃ§Ãµes bÃ¡sicas")],-1)),p("div",H,[p("div",{class:u(["progress-item",{done:E.value.full_name}])},[...e[5]||(e[5]=[p("div",{class:"progress-dot"},null,-1),p("span",null,"Nome",-1)])],2),p("div",{class:u(["progress-line",{active:E.value.birth_date}])},null,2),p("div",{class:u(["progress-item",{done:E.value.birth_date}])},[...e[6]||(e[6]=[p("div",{class:"progress-dot"},null,-1),p("span",null,"Data",-1)])],2),p("div",{class:u(["progress-line",{active:E.value.blood_group||E.value.rh_factor}])},null,2),p("div",{class:u(["progress-item",{done:E.value.blood_group&&E.value.rh_factor}])},[...e[7]||(e[7]=[p("div",{class:"progress-dot"},null,-1),p("span",null,"Sangue",-1)])],2)]),p("div",K,[p("div",R,[p("div",T,[c(i(y),{icon:i(q)},null,8,["icon"])]),p("div",G,[e[8]||(e[8]=p("label",null,"Nome Completo",-1)),c(i(k),{modelValue:E.value.full_name,"onUpdate:modelValue":e[0]||(e[0]=a=>E.value.full_name=a),type:"text",required:"",placeholder:"Digite o nome completo",class:"input-dash"},null,8,["modelValue"])])]),p("div",J,[p("div",L,[c(i(y),{icon:i(N)},null,8,["icon"])]),p("div",M,[e[9]||(e[9]=p("label",null,"Data de Nascimento",-1)),c(i(k),{modelValue:E.value.birth_date,"onUpdate:modelValue":e[1]||(e[1]=a=>E.value.birth_date=a),type:"date",required:"",class:"input-dash"},null,8,["modelValue"])])]),p("div",Q,[p("div",W,[c(i(y),{icon:i(A)},null,8,["icon"])]),p("div",X,[e[14]||(e[14]=p("label",null,[b("Tipo SanguÃ­neo "),p("span",{class:"optional"},"(opcional)")],-1)),c(i(S),{modelValue:E.value.blood_group,"onUpdate:modelValue":e[2]||(e[2]=a=>E.value.blood_group=a),placeholder:"Selecione o tipo",interface:"action-sheet",class:"select-dash"},{default:l(()=>[c(i(z),{value:"A"},{default:l(()=>[...e[10]||(e[10]=[b("A",-1)])]),_:1}),c(i(z),{value:"B"},{default:l(()=>[...e[11]||(e[11]=[b("B",-1)])]),_:1}),c(i(z),{value:"AB"},{default:l(()=>[...e[12]||(e[12]=[b("AB",-1)])]),_:1}),c(i(z),{value:"O"},{default:l(()=>[...e[13]||(e[13]=[b("O",-1)])]),_:1})]),_:1},8,["modelValue"])])]),p("div",Y,[p("div",Z,[c(i(y),{icon:i(B)},null,8,["icon"])]),p("div",$,[e[17]||(e[17]=p("label",null,[b("Fator RH "),p("span",{class:"optional"},"(opcional)")],-1)),c(i(S),{modelValue:E.value.rh_factor,"onUpdate:modelValue":e[3]||(e[3]=a=>E.value.rh_factor=a),placeholder:"Selecione o fator",interface:"action-sheet",class:"select-dash"},{default:l(()=>[c(i(z),{value:"+"},{default:l(()=>[...e[15]||(e[15]=[b("Positivo (+)",-1)])]),_:1}),c(i(z),{value:"-"},{default:l(()=>[...e[16]||(e[16]=[b("Negativo (-)",-1)])]),_:1})]),_:1},8,["modelValue"])])])]),p("div",aa,[p("button",{type:"button",class:"btn-cancel-dash",onClick:ra},[c(i(y),{icon:i(D)},null,8,["icon"]),e[18]||(e[18]=b(" Cancelar ",-1))]),p("button",{type:"submit",class:"btn-submit-dash",disabled:!ta.value},[c(i(y),{icon:i(U)},null,8,["icon"]),e[19]||(e[19]=b(" Cadastrar ",-1))],8,ea)])],32)]),_:1})]),_:1}))}}),[["__scopeId","data-v-1b784657"]]))}}});

System.register(["./vendor-legacy-B8oEYziD.js","./ionic-legacy-COuvH9Nk.js","./_plugin-vue_export-helper-legacy-B1j4x3Yl.js","./index-legacy-Bofdzc--.js"],function(e,a){"use strict";var t,o,l,n,i,r,d,s,c,u,m,p,f,v,g,b,_,h,y,x,w,k,C,V,z,P,j,A,B,q,D,U,E,O,L,S,I,N,G,R,T,M,F,H,J,K,W,Q,X,Y,Z,$,ee,ae,te,oe,le;return{setters:[e=>{t=e.d,o=e.r,l=e.c,n=e.o,i=e.z,r=e.n,d=e.v,s=e.x,c=e.t,u=e.B,m=e.q,p=e.l,f=e.D,v=e.G,g=e.F,b=e.H,_=e.C,h=e.E},e=>{y=e.e,x=e.n,w=e.t,k=e.o,C=e.q,V=e.z,z=e.p,P=e.k,j=e.g,A=e.r,B=e.J,q=e.K,D=e.m,U=e.h,E=e.j,O=e.D,L=e.E,S=e.G,I=e.C,N=e.i,G=e.v,R=e.w,T=e.y},e=>{M=e.g,F=e.e,H=e.i,J=e.j,K=e.k,W=e.n,Q=e.o,X=e.c,Y=e.q,Z=e.r,$=e.u,ee=e.v,ae=e.b,te=e.x,oe=e._},e=>{le=e.C}],execute:function(){var a=document.createElement("style");a.textContent=".search-container[data-v-07d9fa19]{padding:1rem;background:var(--ion-color-light)}.patients-container[data-v-07d9fa19]{padding:0 1rem 1rem}.patient-card[data-v-07d9fa19]{margin-bottom:1rem;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);transition:transform .2s ease}.patient-card[data-v-07d9fa19]:active{transform:scale(.98)}.patient-header[data-v-07d9fa19]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.75rem}.patient-info h3[data-v-07d9fa19]{margin:0;font-size:1.1rem;font-weight:600;color:var(--ion-color-dark)}.patient-info p[data-v-07d9fa19]{margin:.25rem 0 0;font-size:.875rem;color:var(--ion-color-medium)}.patient-details[data-v-07d9fa19]{display:flex;gap:1rem}.detail-item[data-v-07d9fa19]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:var(--ion-color-medium)}.detail-item ion-icon[data-v-07d9fa19]{font-size:1rem}.empty-state[data-v-07d9fa19]{text-align:center;padding:3rem 1rem;color:var(--ion-color-medium)}.empty-state ion-icon[data-v-07d9fa19]{font-size:4rem;margin-bottom:1rem}.empty-state h3[data-v-07d9fa19]{margin:0 0 .5rem;font-size:1.25rem;color:var(--ion-color-dark)}.empty-state p[data-v-07d9fa19]{margin:0;font-size:.875rem}.modal-title[data-v-07d9fa19]{display:flex;align-items:center;gap:.5rem;font-size:1.1rem;font-weight:600}.modal-title ion-icon[data-v-07d9fa19]{font-size:1.5rem}.modal-content[data-v-07d9fa19]{--padding: 0}.create-form[data-v-07d9fa19]{padding:1rem}.form-progress[data-v-07d9fa19]{display:flex;justify-content:center;align-items:center;gap:.75rem;padding:1.5rem 0;background:linear-gradient(135deg,var(--ion-color-primary-tint) 0%,var(--ion-color-primary) 100%);margin-bottom:1rem}.progress-step[data-v-07d9fa19]{width:48px;height:48px;border-radius:50%;background:rgba(255,255,255,.3);display:flex;align-items:center;justify-content:center;transition:all .3s ease}.progress-step ion-icon[data-v-07d9fa19]{font-size:1.5rem;color:#fff;opacity:.5}.progress-step.active[data-v-07d9fa19]{background:#fff;box-shadow:0 4px 12px rgba(0,0,0,.15);transform:scale(1.1)}.progress-step.active ion-icon[data-v-07d9fa19]{color:var(--ion-color-primary);opacity:1}.info-banner[data-v-07d9fa19]{display:flex;align-items:center;gap:.75rem;padding:.875rem 1rem;background:#e0f2fe;border-left:4px solid var(--ion-color-primary);border-radius:8px;margin-bottom:1.5rem;font-size:.875rem;color:var(--ion-color-primary-shade)}.info-banner ion-icon[data-v-07d9fa19]{font-size:1.5rem;color:var(--ion-color-primary);flex-shrink:0}.form-section[data-v-07d9fa19]{margin-bottom:2rem}.section-header[data-v-07d9fa19]{display:flex;align-items:center;gap:.75rem;margin-bottom:1rem;padding-bottom:.75rem;border-bottom:2px solid var(--ion-color-light)}.section-icon[data-v-07d9fa19]{font-size:1.5rem;color:var(--ion-color-primary)}.section-header h3[data-v-07d9fa19]{margin:0;font-size:1.1rem;font-weight:600;color:var(--ion-color-dark)}.form-group[data-v-07d9fa19]{margin-bottom:1rem}.form-row[data-v-07d9fa19]{display:flex;gap:.75rem;align-items:flex-end}.flex-1[data-v-07d9fa19]{flex:1}.input-label[data-v-07d9fa19]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;font-weight:600;color:var(--ion-color-medium);margin-bottom:.5rem}.input-label ion-icon[data-v-07d9fa19]{font-size:1rem}.required[data-v-07d9fa19]{color:var(--ion-color-danger);font-weight:700}.modern-input[data-v-07d9fa19],.modern-textarea[data-v-07d9fa19]{--background: #f5f7fa;--border-radius: 12px;--padding-start: 16px;--padding-end: 16px;--padding-top: 14px;--padding-bottom: 14px;border-radius:12px;box-shadow:inset 0 1px 3px rgba(0,0,0,.1)}.validation-summary[data-v-07d9fa19]{display:flex;justify-content:center;margin:1rem 0}.validation-summary ion-chip[data-v-07d9fa19]{font-size:.875rem}.modal-actions[data-v-07d9fa19]{display:grid;grid-template-columns:1fr 1fr;gap:.75rem;margin-top:1.5rem;padding-top:1.5rem;border-top:2px solid var(--ion-color-light)}.action-button[data-v-07d9fa19]{--border-radius: 12px;height:52px;font-weight:600;font-size:1rem;margin:0}.mobile-input[data-v-07d9fa19]{--background: #f9fafb;--border-color: #d1d5db;--border-radius: 8px;margin-bottom:8px}.mobile-button[data-v-07d9fa19]{--border-radius: 8px;margin:8px 0;height:48px;font-weight:600}.modal-buttons[data-v-07d9fa19]{margin-top:1.5rem}\n",document.head.appendChild(a);const ne={class:"search-container"},ie={class:"patients-container"},re={class:"patient-header"},de={class:"patient-info"},se={class:"patient-status"},ce={class:"patient-details"},ue={key:0,class:"detail-item"},me={key:1,class:"detail-item"},pe={key:0,class:"empty-state"},fe={key:0},ve={key:1},ge={class:"modal-title"},be={class:"form-progress"},_e={class:"info-banner"},he={class:"form-section"},ye={class:"section-header"},xe={class:"form-group"},we={class:"input-label"},ke={class:"form-row"},Ce={class:"form-group flex-1"},Ve={class:"input-label"},ze={class:"form-group",style:{width:"120px"}},Pe={class:"input-label"},je={class:"form-section"},Ae={class:"section-header"},Be={class:"form-group"},qe={class:"input-label"},De={class:"form-group"},Ue={class:"input-label"},Ee={class:"form-group"},Oe={class:"input-label"},Le={key:0,class:"validation-summary"},Se={class:"modal-actions"};e("default",oe(t({__name:"PatientsPage",setup(e){const a=le.getInstance(),t=a.getCreatePatientUseCase(),oe=a.get("PatientRepository"),Ie=o([]),Ne=o(""),Ge=o(!1),Re=o({full_name:"",birth_date:"",medical_record:"",blood_type:"",allergies:"",observations:""}),Te=l(()=>{if(!Ne.value)return Ie.value;const e=Ne.value.toLowerCase();return Ie.value.filter(a=>a.full_name.toLowerCase().includes(e)||a.medical_record.toLowerCase().includes(e)||a.blood_type&&a.blood_type.toLowerCase().includes(e))}),Me=l(()=>Re.value.full_name.length>0&&Re.value.birth_date.length>0&&Re.value.medical_record.length>0),Fe=e=>{Ne.value=e.target.value},He=async()=>{const e=await x.create({message:"Cadastrando paciente...",spinner:"crescent"});await e.present();try{const e=await t.execute(Re.value);Ie.value.unshift(e),Re.value={full_name:"",birth_date:"",medical_record:"",blood_type:"",allergies:"",observations:""},Ge.value=!1;const a=await w.create({message:"Paciente cadastrado com sucesso!",duration:2e3,color:"success",position:"top"});await a.present()}catch(a){const e=await w.create({message:a.message||"Erro ao cadastrar paciente",duration:3e3,color:"danger",position:"top"});await e.present()}finally{await e.dismiss()}};return n(()=>{(async()=>{const e=await x.create({message:"Carregando pacientes...",spinner:"crescent"});await e.present();try{Ie.value=await oe.getAll()}catch(a){console.error("Error loading patients:",a);const e=await w.create({message:"Erro ao carregar pacientes",duration:3e3,color:"danger",position:"top"});await e.present()}finally{await e.dismiss()}})()}),(e,a)=>(r(),i(s(y),null,{default:d(()=>[c(s(A),{translucent:!0},{default:d(()=>[c(s(k),null,{default:d(()=>[c(s(C),{slot:"start"},{default:d(()=>[c(s(V),{"default-href":"/dashboard"})]),_:1}),c(s(z),null,{default:d(()=>[...a[11]||(a[11]=[u("Pacientes",-1)])]),_:1}),c(s(C),{slot:"end"},{default:d(()=>[c(s(P),{onClick:a[0]||(a[0]=e=>Ge.value=!0)},{default:d(()=>[c(s(j),{icon:s(M),slot:"icon-only"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),c(s(D),{fullscreen:!0},{default:d(()=>[m("div",ne,[c(s(B),{modelValue:Ne.value,"onUpdate:modelValue":a[1]||(a[1]=e=>Ne.value=e),placeholder:"Buscar pacientes...",onIonInput:Fe,"show-clear-button":"focus"},null,8,["modelValue"])]),m("div",ie,[(r(!0),p(g,null,v(Te.value,e=>(r(),i(s(G),{key:e.id,class:"patient-card",button:"",onClick:a=>(e=>{console.log("Selected patient:",e)})(e)},{default:d(()=>[c(s(R),null,{default:d(()=>{return[m("div",re,[m("div",de,[m("h3",null,h(e.full_name),1),m("p",null,h((t=e.birth_date,new Date(t).toLocaleDateString("pt-BR")))+" â€¢ "+h(e.age)+" anos",1)]),m("div",se,[c(s(T),{color:"success"},{default:d(()=>[...a[12]||(a[12]=[u("Ativo",-1)])]),_:1})])]),m("div",ce,[e.medical_record?(r(),p("div",ue,[c(s(j),{icon:s(Q)},null,8,["icon"]),m("span",null,h(e.medical_record),1)])):f("",!0),e.blood_type?(r(),p("div",me,[c(s(j),{icon:s(Z)},null,8,["icon"]),m("span",null,h(e.blood_type),1)])):f("",!0)])];var t}),_:2},1024)]),_:2},1032,["onClick"]))),128)),0===Te.value.length?(r(),p("div",pe,[c(s(j),{icon:s(F)},null,8,["icon"]),a[13]||(a[13]=m("h3",null,"Nenhum paciente encontrado",-1)),Ne.value?(r(),p("p",fe,"Tente ajustar os termos de busca")):(r(),p("p",ve,"Cadastre o primeiro paciente"))])):f("",!0)]),c(s(q),{"is-open":Ge.value,onWillDismiss:a[10]||(a[10]=e=>Ge.value=!1)},{default:d(()=>[c(s(A),null,{default:d(()=>[c(s(k),{color:"primary"},{default:d(()=>[c(s(z),null,{default:d(()=>[m("div",ge,[c(s(j),{icon:s(H)},null,8,["icon"]),a[14]||(a[14]=m("span",null,"Novo Paciente",-1))])]),_:1}),c(s(C),{slot:"end"},{default:d(()=>[c(s(P),{onClick:a[2]||(a[2]=e=>Ge.value=!1)},{default:d(()=>[c(s(j),{icon:s(J),slot:"icon-only"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),c(s(D),{class:"modal-content"},{default:d(()=>[m("form",{onSubmit:_(He,["prevent"]),class:"create-form"},[m("div",be,[m("div",{class:b(["progress-step",{active:Re.value.full_name}])},[c(s(j),{icon:s(K)},null,8,["icon"])],2),m("div",{class:b(["progress-step",{active:Re.value.birth_date}])},[c(s(j),{icon:s(W)},null,8,["icon"])],2),m("div",{class:b(["progress-step",{active:Re.value.medical_record}])},[c(s(j),{icon:s(Q)},null,8,["icon"])],2),m("div",{class:b(["progress-step",{active:Me.value}])},[c(s(j),{icon:s(X)},null,8,["icon"])],2)]),m("div",_e,[c(s(j),{icon:s(Y)},null,8,["icon"]),a[15]||(a[15]=m("span",null,"Preencha os campos obrigatÃ³rios (*) para cadastrar",-1))]),m("div",he,[m("div",ye,[c(s(j),{icon:s(K),class:"section-icon"},null,8,["icon"]),a[16]||(a[16]=m("h3",null,"Dados Pessoais",-1))]),m("div",xe,[m("label",we,[c(s(j),{icon:s(K)},null,8,["icon"]),a[17]||(a[17]=u(" Nome Completo ",-1)),a[18]||(a[18]=m("span",{class:"required"},"*",-1))]),c(s(U),{class:"modern-input",lines:"none"},{default:d(()=>[c(s(E),{modelValue:Re.value.full_name,"onUpdate:modelValue":a[3]||(a[3]=e=>Re.value.full_name=e),type:"text",required:"",placeholder:"Digite o nome completo do paciente"},null,8,["modelValue"])]),_:1})]),m("div",ke,[m("div",Ce,[m("label",Ve,[c(s(j),{icon:s(W)},null,8,["icon"]),a[19]||(a[19]=u(" Data de Nascimento ",-1)),a[20]||(a[20]=m("span",{class:"required"},"*",-1))]),c(s(U),{class:"modern-input",lines:"none"},{default:d(()=>[c(s(E),{modelValue:Re.value.birth_date,"onUpdate:modelValue":a[4]||(a[4]=e=>Re.value.birth_date=e),type:"date",required:""},null,8,["modelValue"])]),_:1})]),m("div",ze,[m("label",Pe,[c(s(j),{icon:s(Z)},null,8,["icon"]),a[21]||(a[21]=u(" Tipo SanguÃ­neo ",-1))]),c(s(U),{class:"modern-input",lines:"none"},{default:d(()=>[c(s(O),{modelValue:Re.value.blood_type,"onUpdate:modelValue":a[5]||(a[5]=e=>Re.value.blood_type=e),placeholder:"Tipo",interface:"action-sheet"},{default:d(()=>[c(s(L),{value:"A+"},{default:d(()=>[...a[22]||(a[22]=[u("A+",-1)])]),_:1}),c(s(L),{value:"A-"},{default:d(()=>[...a[23]||(a[23]=[u("A-",-1)])]),_:1}),c(s(L),{value:"B+"},{default:d(()=>[...a[24]||(a[24]=[u("B+",-1)])]),_:1}),c(s(L),{value:"B-"},{default:d(()=>[...a[25]||(a[25]=[u("B-",-1)])]),_:1}),c(s(L),{value:"AB+"},{default:d(()=>[...a[26]||(a[26]=[u("AB+",-1)])]),_:1}),c(s(L),{value:"AB-"},{default:d(()=>[...a[27]||(a[27]=[u("AB-",-1)])]),_:1}),c(s(L),{value:"O+"},{default:d(()=>[...a[28]||(a[28]=[u("O+",-1)])]),_:1}),c(s(L),{value:"O-"},{default:d(()=>[...a[29]||(a[29]=[u("O-",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]),m("div",je,[m("div",Ae,[c(s(j),{icon:s($),class:"section-icon"},null,8,["icon"]),a[30]||(a[30]=m("h3",null,"Dados MÃ©dicos",-1))]),m("div",Be,[m("label",qe,[c(s(j),{icon:s(Q)},null,8,["icon"]),a[31]||(a[31]=u(" ProntuÃ¡rio MÃ©dico ",-1)),a[32]||(a[32]=m("span",{class:"required"},"*",-1))]),c(s(U),{class:"modern-input",lines:"none"},{default:d(()=>[c(s(E),{modelValue:Re.value.medical_record,"onUpdate:modelValue":a[6]||(a[6]=e=>Re.value.medical_record=e),type:"text",required:"",placeholder:"Ex: PRO-2024-001"},null,8,["modelValue"])]),_:1})]),m("div",De,[m("label",Ue,[c(s(j),{icon:s(ee)},null,8,["icon"]),a[33]||(a[33]=u(" Alergias ",-1))]),c(s(U),{class:"modern-textarea",lines:"none"},{default:d(()=>[c(s(S),{modelValue:Re.value.allergies,"onUpdate:modelValue":a[7]||(a[7]=e=>Re.value.allergies=e),rows:"3",placeholder:"Descreva alergias conhecidas (medicamentos, alimentos, etc.)","auto-grow":""},null,8,["modelValue"])]),_:1})]),m("div",Ee,[m("label",Oe,[c(s(j),{icon:s(ae)},null,8,["icon"]),a[34]||(a[34]=u(" ObservaÃ§Ãµes Gerais ",-1))]),c(s(U),{class:"modern-textarea",lines:"none"},{default:d(()=>[c(s(S),{modelValue:Re.value.observations,"onUpdate:modelValue":a[8]||(a[8]=e=>Re.value.observations=e),rows:"3",placeholder:"ObservaÃ§Ãµes adicionais sobre o paciente","auto-grow":""},null,8,["modelValue"])]),_:1})])]),Me.value?f("",!0):(r(),p("div",Le,[c(s(I),{color:"warning"},{default:d(()=>[c(s(j),{icon:s(te)},null,8,["icon"]),c(s(N),null,{default:d(()=>[...a[35]||(a[35]=[u("Preencha todos os campos obrigatÃ³rios",-1)])]),_:1})]),_:1})])),m("div",Se,[c(s(P),{fill:"outline",expand:"block",class:"action-button",onClick:a[9]||(a[9]=e=>Ge.value=!1)},{default:d(()=>[c(s(j),{icon:s(J),slot:"start"},null,8,["icon"]),a[36]||(a[36]=u(" Cancelar ",-1))]),_:1}),c(s(P),{color:"success",expand:"block",type:"submit",class:"action-button",disabled:!Me.value},{default:d(()=>[c(s(j),{icon:s(X),slot:"start"},null,8,["icon"]),a[37]||(a[37]=u(" Cadastrar Paciente ",-1))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1},8,["is-open"])]),_:1})]),_:1}))}}),[["__scopeId","data-v-07d9fa19"]]))}}});

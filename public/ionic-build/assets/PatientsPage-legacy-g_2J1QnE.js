System.register(["./vendor-legacy-B8oEYziD.js","./ionic-legacy-COuvH9Nk.js","./_plugin-vue_export-helper-legacy-Cv9XuaX9.js","./index-legacy-CcCswVnK.js"],function(e,a){"use strict";var t,l,o,n,i,d,r,s,u,c,m,p,f,v,g,_,b,h,y,w,x,C,V,k,A,B,z,P,j,D,U,E,O,S,q,L,N,I,G,R,T,F,J,K,M,W,H;return{setters:[e=>{t=e.d,l=e.r,o=e.c,n=e.o,i=e.z,d=e.n,r=e.v,s=e.x,u=e.t,c=e.B,m=e.q,p=e.l,f=e.D,v=e.G,g=e.F,_=e.C,b=e.E},e=>{h=e.e,y=e.n,w=e.t,x=e.o,C=e.q,V=e.z,k=e.p,A=e.k,B=e.g,z=e.r,P=e.J,j=e.K,D=e.m,U=e.h,E=e.i,O=e.j,S=e.D,q=e.E,L=e.G,N=e.v,I=e.w,G=e.y},e=>{R=e.g,T=e.e,F=e.i,J=e.f,K=e.j,M=e.k,W=e._},e=>{H=e.C}],execute:function(){var a=document.createElement("style");a.textContent=".search-container[data-v-8ef970da]{padding:1rem;background:var(--ion-color-light)}.patients-container[data-v-8ef970da]{padding:0 1rem 1rem}.patient-card[data-v-8ef970da]{margin-bottom:1rem;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,.1);transition:transform .2s ease}.patient-card[data-v-8ef970da]:active{transform:scale(.98)}.patient-header[data-v-8ef970da]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:.75rem}.patient-info h3[data-v-8ef970da]{margin:0;font-size:1.1rem;font-weight:600;color:var(--ion-color-dark)}.patient-info p[data-v-8ef970da]{margin:.25rem 0 0;font-size:.875rem;color:var(--ion-color-medium)}.patient-details[data-v-8ef970da]{display:flex;gap:1rem}.detail-item[data-v-8ef970da]{display:flex;align-items:center;gap:.5rem;font-size:.875rem;color:var(--ion-color-medium)}.detail-item ion-icon[data-v-8ef970da]{font-size:1rem}.empty-state[data-v-8ef970da]{text-align:center;padding:3rem 1rem;color:var(--ion-color-medium)}.empty-state ion-icon[data-v-8ef970da]{font-size:4rem;margin-bottom:1rem}.empty-state h3[data-v-8ef970da]{margin:0 0 .5rem;font-size:1.25rem;color:var(--ion-color-dark)}.empty-state p[data-v-8ef970da]{margin:0;font-size:.875rem}.modal-content[data-v-8ef970da]{padding:1rem}.create-form[data-v-8ef970da]{max-width:100%}.form-group[data-v-8ef970da]{margin-bottom:1rem}.mobile-input[data-v-8ef970da]{--background: #f9fafb;--border-color: #d1d5db;--border-radius: 8px;margin-bottom:8px}.mobile-button[data-v-8ef970da]{--border-radius: 8px;margin:8px 0;height:48px;font-weight:600}.modal-buttons[data-v-8ef970da]{margin-top:1.5rem}\n",document.head.appendChild(a);const Q={class:"search-container"},X={class:"patients-container"},Y={class:"patient-header"},Z={class:"patient-info"},$={class:"patient-status"},ee={class:"patient-details"},ae={key:0,class:"detail-item"},te={key:1,class:"detail-item"},le={key:0,class:"empty-state"},oe={key:0},ne={key:1},ie={class:"form-group"},de={class:"form-group"},re={class:"form-group"},se={class:"form-group"},ue={class:"form-group"},ce={class:"form-group"},me={class:"modal-buttons"};e("default",W(t({__name:"PatientsPage",setup(e){const a=H.getInstance(),t=a.getCreatePatientUseCase(),W=a.get("PatientRepository"),pe=l([]),fe=l(""),ve=l(!1),ge=l({full_name:"",birth_date:"",medical_record:"",blood_type:"",allergies:"",observations:""}),_e=o(()=>{if(!fe.value)return pe.value;const e=fe.value.toLowerCase();return pe.value.filter(a=>a.full_name.toLowerCase().includes(e)||a.medical_record.toLowerCase().includes(e)||a.blood_type&&a.blood_type.toLowerCase().includes(e))}),be=o(()=>ge.value.full_name.length>0&&ge.value.birth_date.length>0&&ge.value.medical_record.length>0),he=e=>{fe.value=e.target.value},ye=async()=>{const e=await y.create({message:"Cadastrando paciente...",spinner:"crescent"});await e.present();try{const e=await t.execute(ge.value);pe.value.unshift(e),ge.value={full_name:"",birth_date:"",medical_record:"",blood_type:"",allergies:"",observations:""},ve.value=!1;const a=await w.create({message:"Paciente cadastrado com sucesso!",duration:2e3,color:"success",position:"top"});await a.present()}catch(a){const e=await w.create({message:a.message||"Erro ao cadastrar paciente",duration:3e3,color:"danger",position:"top"});await e.present()}finally{await e.dismiss()}};return n(()=>{(async()=>{const e=await y.create({message:"Carregando pacientes...",spinner:"crescent"});await e.present();try{pe.value=await W.getAll()}catch(a){console.error("Error loading patients:",a);const e=await w.create({message:"Erro ao carregar pacientes",duration:3e3,color:"danger",position:"top"});await e.present()}finally{await e.dismiss()}})()}),(e,a)=>(d(),i(s(h),null,{default:r(()=>[u(s(z),{translucent:!0},{default:r(()=>[u(s(x),null,{default:r(()=>[u(s(C),{slot:"start"},{default:r(()=>[u(s(V),{"default-href":"/dashboard"})]),_:1}),u(s(k),null,{default:r(()=>[...a[11]||(a[11]=[c("Pacientes",-1)])]),_:1}),u(s(C),{slot:"end"},{default:r(()=>[u(s(A),{onClick:a[0]||(a[0]=e=>ve.value=!0)},{default:r(()=>[u(s(B),{icon:s(R),slot:"icon-only"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),u(s(D),{fullscreen:!0},{default:r(()=>[m("div",Q,[u(s(P),{modelValue:fe.value,"onUpdate:modelValue":a[1]||(a[1]=e=>fe.value=e),placeholder:"Buscar pacientes...",onIonInput:he,"show-clear-button":"focus"},null,8,["modelValue"])]),m("div",X,[(d(!0),p(g,null,v(_e.value,e=>(d(),i(s(N),{key:e.id,class:"patient-card",button:"",onClick:a=>(e=>{console.log("Selected patient:",e)})(e)},{default:r(()=>[u(s(I),null,{default:r(()=>{return[m("div",Y,[m("div",Z,[m("h3",null,b(e.full_name),1),m("p",null,b((t=e.birth_date,new Date(t).toLocaleDateString("pt-BR")))+" • "+b(e.age)+" anos",1)]),m("div",$,[u(s(G),{color:"success"},{default:r(()=>[...a[12]||(a[12]=[c("Ativo",-1)])]),_:1})])]),m("div",ee,[e.medical_record?(d(),p("div",ae,[u(s(B),{icon:s(K)},null,8,["icon"]),m("span",null,b(e.medical_record),1)])):f("",!0),e.blood_type?(d(),p("div",te,[u(s(B),{icon:s(M)},null,8,["icon"]),m("span",null,b(e.blood_type),1)])):f("",!0)])];var t}),_:2},1024)]),_:2},1032,["onClick"]))),128)),0===_e.value.length?(d(),p("div",le,[u(s(B),{icon:s(T)},null,8,["icon"]),a[13]||(a[13]=m("h3",null,"Nenhum paciente encontrado",-1)),fe.value?(d(),p("p",oe,"Tente ajustar os termos de busca")):(d(),p("p",ne,"Cadastre o primeiro paciente"))])):f("",!0)]),u(s(j),{"is-open":ve.value,onWillDismiss:a[10]||(a[10]=e=>ve.value=!1)},{default:r(()=>[u(s(z),null,{default:r(()=>[u(s(x),null,{default:r(()=>[u(s(k),null,{default:r(()=>[...a[14]||(a[14]=[c("Novo Paciente",-1)])]),_:1}),u(s(C),{slot:"end"},{default:r(()=>[u(s(A),{onClick:a[2]||(a[2]=e=>ve.value=!1)},{default:r(()=>[u(s(B),{icon:s(F),slot:"icon-only"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),u(s(D),{class:"modal-content"},{default:r(()=>[m("form",{onSubmit:_(ye,["prevent"]),class:"create-form"},[m("div",ie,[u(s(U),{class:"mobile-input",fill:"outline"},{default:r(()=>[u(s(E),{position:"floating"},{default:r(()=>[...a[15]||(a[15]=[c("Nome Completo *",-1)])]),_:1}),u(s(O),{modelValue:ge.value.full_name,"onUpdate:modelValue":a[3]||(a[3]=e=>ge.value.full_name=e),type:"text",required:"",placeholder:"Digite o nome completo"},null,8,["modelValue"])]),_:1})]),m("div",de,[u(s(U),{class:"mobile-input",fill:"outline"},{default:r(()=>[u(s(E),{position:"floating"},{default:r(()=>[...a[16]||(a[16]=[c("Data de Nascimento *",-1)])]),_:1}),u(s(O),{modelValue:ge.value.birth_date,"onUpdate:modelValue":a[4]||(a[4]=e=>ge.value.birth_date=e),type:"date",required:""},null,8,["modelValue"])]),_:1})]),m("div",re,[u(s(U),{class:"mobile-input",fill:"outline"},{default:r(()=>[u(s(E),{position:"floating"},{default:r(()=>[...a[17]||(a[17]=[c("Prontuário Médico *",-1)])]),_:1}),u(s(O),{modelValue:ge.value.medical_record,"onUpdate:modelValue":a[5]||(a[5]=e=>ge.value.medical_record=e),type:"text",required:"",placeholder:"Número do prontuário"},null,8,["modelValue"])]),_:1})]),m("div",se,[u(s(U),{class:"mobile-input",fill:"outline"},{default:r(()=>[u(s(E),{position:"floating"},{default:r(()=>[...a[18]||(a[18]=[c("Tipo Sanguíneo",-1)])]),_:1}),u(s(S),{modelValue:ge.value.blood_type,"onUpdate:modelValue":a[6]||(a[6]=e=>ge.value.blood_type=e),placeholder:"Selecione"},{default:r(()=>[u(s(q),{value:"A+"},{default:r(()=>[...a[19]||(a[19]=[c("A+",-1)])]),_:1}),u(s(q),{value:"A-"},{default:r(()=>[...a[20]||(a[20]=[c("A-",-1)])]),_:1}),u(s(q),{value:"B+"},{default:r(()=>[...a[21]||(a[21]=[c("B+",-1)])]),_:1}),u(s(q),{value:"B-"},{default:r(()=>[...a[22]||(a[22]=[c("B-",-1)])]),_:1}),u(s(q),{value:"AB+"},{default:r(()=>[...a[23]||(a[23]=[c("AB+",-1)])]),_:1}),u(s(q),{value:"AB-"},{default:r(()=>[...a[24]||(a[24]=[c("AB-",-1)])]),_:1}),u(s(q),{value:"O+"},{default:r(()=>[...a[25]||(a[25]=[c("O+",-1)])]),_:1}),u(s(q),{value:"O-"},{default:r(()=>[...a[26]||(a[26]=[c("O-",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),m("div",ue,[u(s(U),{class:"mobile-input",fill:"outline"},{default:r(()=>[u(s(E),{position:"floating"},{default:r(()=>[...a[27]||(a[27]=[c("Alergias",-1)])]),_:1}),u(s(L),{modelValue:ge.value.allergies,"onUpdate:modelValue":a[7]||(a[7]=e=>ge.value.allergies=e),rows:"3",placeholder:"Descreva alergias conhecidas..."},null,8,["modelValue"])]),_:1})]),m("div",ce,[u(s(U),{class:"mobile-input",fill:"outline"},{default:r(()=>[u(s(E),{position:"floating"},{default:r(()=>[...a[28]||(a[28]=[c("Observações",-1)])]),_:1}),u(s(L),{modelValue:ge.value.observations,"onUpdate:modelValue":a[8]||(a[8]=e=>ge.value.observations=e),rows:"3",placeholder:"Observações gerais..."},null,8,["modelValue"])]),_:1})]),m("div",me,[u(s(A),{expand:"block",type:"submit",class:"mobile-button",disabled:!be.value},{default:r(()=>[u(s(B),{icon:s(J),slot:"start"},null,8,["icon"]),a[29]||(a[29]=c(" Cadastrar Paciente ",-1))]),_:1},8,["disabled"]),u(s(A),{expand:"block",fill:"outline",class:"mobile-button",onClick:a[9]||(a[9]=e=>ve.value=!1)},{default:r(()=>[...a[30]||(a[30]=[c(" Cancelar ",-1)])]),_:1})])],32)]),_:1})]),_:1},8,["is-open"])]),_:1})]),_:1}))}}),[["__scopeId","data-v-8ef970da"]]))}}});
